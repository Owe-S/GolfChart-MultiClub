(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Jv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var dd={exports:{}},ll={};var m_;function KS(){if(m_)return ll;m_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:c}}return ll.Fragment=t,ll.jsx=i,ll.jsxs=i,ll}var g_;function XS(){return g_||(g_=1,dd.exports=KS()),dd.exports}var J=XS(),md={exports:{}},vt={};var p_;function ZS(){if(p_)return vt;p_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,$={};function at(O,Y,nt){this.props=O,this.context=Y,this.refs=$,this.updater=nt||W}at.prototype.isReactComponent={},at.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},at.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function dt(){}dt.prototype=at.prototype;function ut(O,Y,nt){this.props=O,this.context=Y,this.refs=$,this.updater=nt||W}var Lt=ut.prototype=new dt;Lt.constructor=ut,X(Lt,at.prototype),Lt.isPureReactComponent=!0;var Yt=Array.isArray;function Ut(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(O,Y,nt){var st=nt.ref;return{$$typeof:a,type:O,key:Y,ref:st!==void 0?st:null,props:nt}}function M(O,Y){return C(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function U(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return Y[nt]})}var R=/\/+/g;function ie(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Y.toString(36)}function we(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ut,Ut):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,Y,nt,st,yt){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var Vt=!1;if(O===null)Vt=!0;else switch(At){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(O.$$typeof){case a:case t:Vt=!0;break;case S:return Vt=O._init,F(Vt(O._payload),Y,nt,st,yt)}}if(Vt)return yt=yt(O),Vt=st===""?"."+ie(O,0):st,Yt(yt)?(nt="",Vt!=null&&(nt=Vt.replace(R,"$&/")+"/"),F(yt,Y,nt,"",function(Ws){return Ws})):yt!=null&&(N(yt)&&(yt=M(yt,nt+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(R,"$&/")+"/")+Vt)),Y.push(yt)),1;Vt=0;var Ce=st===""?".":st+":";if(Yt(O))for(var se=0;se<O.length;se++)st=O[se],At=Ce+ie(st,se),Vt+=F(st,Y,nt,At,yt);else if(se=H(O),typeof se=="function")for(O=se.call(O),se=0;!(st=O.next()).done;)st=st.value,At=Ce+ie(st,se++),Vt+=F(st,Y,nt,At,yt);else if(At==="object"){if(typeof O.then=="function")return F(we(O),Y,nt,st,yt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function et(O,Y,nt){if(O==null)return O;var st=[],yt=0;return F(O,st,"","",function(At){return Y.call(nt,At,yt++)}),st}function ht(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var kt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:et,forEach:function(O,Y,nt){et(O,function(){Y.apply(this,arguments)},nt)},count:function(O){var Y=0;return et(O,function(){Y++}),Y},toArray:function(O){return et(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=A,vt.Children=Ht,vt.Component=at,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=ut,vt.StrictMode=r,vt.Suspense=v,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,Y,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=X({},O.props),yt=O.key;if(Y!=null)for(At in Y.key!==void 0&&(yt=""+Y.key),Y)!b.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(st[At]=Y[At]);var At=arguments.length-2;if(At===1)st.children=nt;else if(1<At){for(var Vt=Array(At),Ce=0;Ce<At;Ce++)Vt[Ce]=arguments[Ce+2];st.children=Vt}return C(O.type,yt,st)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},vt.createElement=function(O,Y,nt){var st,yt={},At=null;if(Y!=null)for(st in Y.key!==void 0&&(At=""+Y.key),Y)b.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=Y[st]);var Vt=arguments.length-2;if(Vt===1)yt.children=nt;else if(1<Vt){for(var Ce=Array(Vt),se=0;se<Vt;se++)Ce[se]=arguments[se+2];yt.children=Ce}if(O&&O.defaultProps)for(st in Vt=O.defaultProps,Vt)yt[st]===void 0&&(yt[st]=Vt[st]);return C(O,At,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:p,render:O}},vt.isValidElement=N,vt.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ht}},vt.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},vt.startTransition=function(O){var Y=I.T,nt={};I.T=nt;try{var st=O(),yt=I.S;yt!==null&&yt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ut,kt)}catch(At){kt(At)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),I.T=Y}},vt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},vt.use=function(O){return I.H.use(O)},vt.useActionState=function(O,Y,nt){return I.H.useActionState(O,Y,nt)},vt.useCallback=function(O,Y){return I.H.useCallback(O,Y)},vt.useContext=function(O){return I.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,Y){return I.H.useDeferredValue(O,Y)},vt.useEffect=function(O,Y){return I.H.useEffect(O,Y)},vt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},vt.useId=function(){return I.H.useId()},vt.useImperativeHandle=function(O,Y,nt){return I.H.useImperativeHandle(O,Y,nt)},vt.useInsertionEffect=function(O,Y){return I.H.useInsertionEffect(O,Y)},vt.useLayoutEffect=function(O,Y){return I.H.useLayoutEffect(O,Y)},vt.useMemo=function(O,Y){return I.H.useMemo(O,Y)},vt.useOptimistic=function(O,Y){return I.H.useOptimistic(O,Y)},vt.useReducer=function(O,Y,nt){return I.H.useReducer(O,Y,nt)},vt.useRef=function(O){return I.H.useRef(O)},vt.useState=function(O){return I.H.useState(O)},vt.useSyncExternalStore=function(O,Y,nt){return I.H.useSyncExternalStore(O,Y,nt)},vt.useTransition=function(){return I.H.useTransition()},vt.version="19.2.0",vt}var y_;function sm(){return y_||(y_=1,md.exports=ZS()),md.exports}var Mn=sm();const JS=Jv(Mn);var gd={exports:{}},ul={},pd={exports:{}},yd={};var __;function $S(){return __||(__=1,(function(a){function t(F,et){var ht=F.length;F.push(et);t:for(;0<ht;){var kt=ht-1>>>1,Ht=F[kt];if(0<l(Ht,et))F[kt]=et,F[ht]=Ht,ht=kt;else break t}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var et=F[0],ht=F.pop();if(ht!==et){F[0]=ht;t:for(var kt=0,Ht=F.length,O=Ht>>>1;kt<O;){var Y=2*(kt+1)-1,nt=F[Y],st=Y+1,yt=F[st];if(0>l(nt,ht))st<Ht&&0>l(yt,nt)?(F[kt]=yt,F[st]=ht,kt=st):(F[kt]=nt,F[Y]=ht,kt=Y);else if(st<Ht&&0>l(yt,ht))F[kt]=yt,F[st]=ht,kt=st;else break t}}return et}function l(F,et){var ht=F.sortIndex-et.sortIndex;return ht!==0?ht:F.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var v=[],y=[],S=1,A=null,V=3,H=!1,W=!1,X=!1,$=!1,at=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Lt(F){for(var et=i(y);et!==null;){if(et.callback===null)r(y);else if(et.startTime<=F)r(y),et.sortIndex=et.expirationTime,t(v,et);else break;et=i(y)}}function Yt(F){if(X=!1,Lt(F),!W)if(i(v)!==null)W=!0,Ut||(Ut=!0,U());else{var et=i(y);et!==null&&we(Yt,et.startTime-F)}}var Ut=!1,I=-1,b=5,C=-1;function M(){return $?!0:!(a.unstable_now()-C<b)}function N(){if($=!1,Ut){var F=a.unstable_now();C=F;var et=!0;try{t:{W=!1,X&&(X=!1,dt(I),I=-1),H=!0;var ht=V;try{e:{for(Lt(F),A=i(v);A!==null&&!(A.expirationTime>F&&M());){var kt=A.callback;if(typeof kt=="function"){A.callback=null,V=A.priorityLevel;var Ht=kt(A.expirationTime<=F);if(F=a.unstable_now(),typeof Ht=="function"){A.callback=Ht,Lt(F),et=!0;break e}A===i(v)&&r(v),Lt(F)}else r(v);A=i(v)}if(A!==null)et=!0;else{var O=i(y);O!==null&&we(Yt,O.startTime-F),et=!1}}break t}finally{A=null,V=ht,H=!1}et=void 0}}finally{et?U():Ut=!1}}}var U;if(typeof ut=="function")U=function(){ut(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ie=R.port2;R.port1.onmessage=N,U=function(){ie.postMessage(null)}}else U=function(){at(N,0)};function we(F,et){I=at(function(){F(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(F){F.callback=null},a.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_next=function(F){switch(V){case 1:case 2:case 3:var et=3;break;default:et=V}var ht=V;V=et;try{return F()}finally{V=ht}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=V;V=F;try{return et()}finally{V=ht}},a.unstable_scheduleCallback=function(F,et,ht){var kt=a.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?kt+ht:kt):ht=kt,F){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ht+Ht,F={id:S++,callback:et,priorityLevel:F,startTime:ht,expirationTime:Ht,sortIndex:-1},ht>kt?(F.sortIndex=ht,t(y,F),i(v)===null&&F===i(y)&&(X?(dt(I),I=-1):X=!0,we(Yt,ht-kt))):(F.sortIndex=Ht,t(v,F),W||H||(W=!0,Ut||(Ut=!0,U()))),F},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(F){var et=V;return function(){var ht=V;V=et;try{return F.apply(this,arguments)}finally{V=ht}}}})(yd)),yd}var v_;function WS(){return v_||(v_=1,pd.exports=$S()),pd.exports}var _d={exports:{}},Qe={};var T_;function tA(){if(T_)return Qe;T_=1;var a=sm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:v,containerInfo:y,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(v,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,S)},Qe.flushSync=function(v){var y=d.T,S=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=y,r.p=S,r.d.f()}},Qe.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(v,y))},Qe.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Qe.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var S=y.as,A=p(S,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?r.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:H}):S==="script"&&r.d.X(v,{crossOrigin:A,integrity:V,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=p(y.as,y.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(v)},Qe.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,A=p(S,y.crossOrigin);r.d.L(v,S,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(v,y){if(typeof v=="string")if(y){var S=p(y.as,y.crossOrigin);r.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(v)},Qe.requestFormReset=function(v){r.d.r(v)},Qe.unstable_batchedUpdates=function(v,y){return v(y)},Qe.useFormState=function(v,y,S){return d.H.useFormState(v,y,S)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var E_;function eA(){if(E_)return _d.exports;E_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),_d.exports=tA(),_d.exports}var S_;function nA(){if(S_)return ul;S_=1;var a=WS(),t=sm(),i=eA();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,o=f;break}if(T===o){g=!0,o=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,o=h;break}if(T===o){g=!0,o=f,s=h;break}T=T.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),Yt=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case at:return"Profiler";case $:return"StrictMode";case Yt:return"Suspense";case Ut:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case ut:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case Lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var we=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},kt=[],Ht=-1;function O(e){return{current:e}}function Y(e){0>Ht||(e.current=kt[Ht],kt[Ht]=null,Ht--)}function nt(e,n){Ht++,kt[Ht]=e.current,e.current=n}var st=O(null),yt=O(null),At=O(null),Vt=O(null);function Ce(e,n){switch(nt(At,n),nt(yt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ly(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ly(n),e=Py(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),nt(st,e)}function se(){Y(st),Y(yt),Y(At)}function Ws(e){e.memoizedState!==null&&nt(Vt,e);var n=st.current,s=Py(n,e.type);n!==s&&(nt(yt,e),nt(st,s))}function Hr(e){yt.current===e&&(Y(st),Y(yt)),Vt.current===e&&(Y(Vt),sl._currentValue=ht)}var Fr,Gr;function Zn(e){if(Fr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Fr=n&&n[1]||"",Gr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+e+Gr}var io=!1;function tr(e,n){if(!e||io)return"";io=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var z=j}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(j){z=j}e.call(Q.prototype)}}else{try{throw Error()}catch(j){z=j}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var w=g.split(`
`),P=T.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===P.length)for(o=w.length-1,h=P.length-1;1<=o&&0<=h&&w[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==P[h]){var q=`
`+w[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=h);break}}}finally{io=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Zn(s):""}function so(e,n){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return tr(e.type,!1);case 11:return tr(e.type.render,!1);case 1:return tr(e.type,!0);case 31:return Zn("Activity");default:return""}}function ro(e){try{var n="",s=null;do n+=so(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,Ie=a.unstable_scheduleCallback,ns=a.unstable_cancelCallback,mh=a.unstable_shouldYield,Ll=a.unstable_requestPaint,Je=a.unstable_now,er=a.unstable_getCurrentPriorityLevel,ao=a.unstable_ImmediatePriority,oo=a.unstable_UserBlockingPriority,is=a.unstable_NormalPriority,gh=a.unstable_LowPriority,Pl=a.unstable_IdlePriority,zl=a.log,Bl=a.unstable_setDisableYieldValue,Un=null,ke=null;function vn(e){if(typeof zl=="function"&&Bl(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Un,e)}catch{}}var ce=Math.clz32?Math.clz32:ql,jl=Math.log,Qr=Math.LN2;function ql(e){return e>>>=0,e===0?32:31-(jl(e)/Qr|0)|0}var Jn=256,nr=262144,pe=4194304;function $n(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wn(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=$n(o):(g&=T,g!==0?h=$n(g):s||(s=T&~e,s!==0&&(h=$n(s))))):(T=o&~f,T!==0?h=$n(T):g!==0?h=$n(g):s||(s=o&~e,s!==0&&(h=$n(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ph(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hl(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ti(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ir(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,w=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var q=31-ce(s),Q=1<<q;T[q]=0,w[q]=-1;var z=P[q];if(z!==null)for(P[q]=null,q=0;q<z.length;q++){var j=z[q];j!==null&&(j.lane&=-536870913)}s&=~Q}o!==0&&sr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function sr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function lo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ce(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function uo(e,n){var s=n&-n;return s=(s&42)!==0?1:rr(s),(s&(e.suspendedLanes|n))!==0?0:s}function rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fl(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:o_(e.type))}function Ln(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var Pn=Math.random().toString(36).slice(2),ye="__reactFiber$"+Pn,Me="__reactProps$"+Pn,ei="__reactContainer$"+Pn,Yr="__reactEvents$"+Pn,_h="__reactListeners$"+Pn,Gl="__reactHandles$"+Pn,Ql="__reactResources$"+Pn,ni="__reactMarker$"+Pn;function Kr(e){delete e[ye],delete e[Me],delete e[Yr],delete e[_h],delete e[Gl]}function ii(e){var n=e[ye];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ei]||s[ye]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Gy(e);e!==null;){if(s=e[ye])return s;e=Gy(e)}return n}e=s,s=e.parentNode}return null}function Tn(e){if(e=e[ye]||e[ei]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function un(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function si(e){var n=e[Ql];return n||(n=e[Ql]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[ni]=!0}var co=new Set,ho={};function ri(e,n){ai(e,n),ai(e+"Capture",n)}function ai(e,n){for(ho[e]=n,e=0;e<n.length;e++)co.add(n[e])}var fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mo={},go={};function Yl(e){return ge.call(go,e)?!0:ge.call(mo,e)?!1:fo.test(e)?go[e]=!0:(mo[e]=!0,!1)}function Xr(e,n,s){if(Yl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function cn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function ve(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ve(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function po(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=ss(e)?"checked":"value";e._valueTracker=po(e,n,""+e[n])}}function ar(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ss(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var or=/[\n"\\]/g;function tn(e){return e.replace(or,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zr(e,n,s,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ve(n)):e.value!==""+Ve(n)&&(e.value=""+Ve(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?yo(e,g,Ve(n)):s!=null?yo(e,g,Ve(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ve(T):e.removeAttribute("name")}function Kl(e,n,s,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}s=s!=null?""+Ve(s):"",n=n!=null?""+Ve(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ft(e)}function yo(e,n,s){n==="number"&&oi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function rs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ve(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Xl(e,n,s){if(n!=null&&(n=""+Ve(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ve(s):""}function as(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(we(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ve(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ft(e)}function en(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Zl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _o(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Zl.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function vo(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&_o(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&_o(e,f,n[f])}function Jr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $r(e){return os.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var To=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ls=null,li=null;function lr(e){var n=Tn(e);if(n&&(e=n.stateNode)){var s=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Zr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(r(90));Zr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&ar(o)}break t;case"textarea":Xl(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&rs(e,!!s.multiple,n,!1)}}}var Wr=!1;function us(e,n,s){if(Wr)return e(n,s);Wr=!0;try{var o=e(n);return o}finally{if(Wr=!1,(ls!==null||li!==null)&&(Fu(),ls&&(n=ls,e=li,li=ls=null,lr(n),e)))for(n=0;n<e.length;n++)lr(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Me]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ur=!1;if(Sn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){ur=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{ur=!1}var ui=null,Eo=null,cr=null;function So(){if(cr)return cr;var e,n=Eo,s=n.length,o,h="value"in ui?ui.value:ui.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return cr=h.slice(e,1<o?1-o:void 0)}function hr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function jn(){return!1}function Le(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:jn,this.isPropagationStopped=jn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=Le(Ni),cs=A({},Ni,{view:0,detail:0}),Ao=Le(cs),hs,ta,hi,ea=A({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(hs=e.screenX-hi.screenX,ta=e.screenY-hi.screenY):ta=hs=0,hi=e),hs)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),bo=Le(ea),fr=A({},ea,{dataTransfer:0}),$l=Le(fr),Wl=A({},cs,{relatedTarget:0}),dr=Le(Wl),Ro=A({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),tu=Le(Ro),na=A({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eu=Le(na),nu=A({},Ni,{data:0}),fi=Le(nu),iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ru[e])?!!n[e]:!1}function fs(){return au}var $e=A({},cs,{key:function(e){if(e.key){var n=iu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(e){return e.type==="keypress"?hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ou=Le($e),lu=A({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Le(lu),u=A({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),m=Le(u),_=A({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=Le(_),k=A({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Le(k),tt=A({},Ni,{newState:0,oldState:0}),Et=Le(tt),he=[9,13,27,32],Bt=Sn&&"CompositionEvent"in window,re=null;Sn&&"documentMode"in document&&(re=document.documentMode);var An=Sn&&"TextEvent"in window&&!re,di=Sn&&(!Bt||re&&8<re&&11>=re),qn=" ",Hn=!1;function mr(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ia(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sa=!1;function _0(e,n){switch(e){case"compositionend":return ia(n);case"keypress":return n.which!==32?null:(Hn=!0,qn);case"textInput":return e=n.data,e===qn&&Hn?null:e;default:return null}}function v0(e,n){if(sa)return e==="compositionend"||!Bt&&mr(e,n)?(e=So(),cr=Eo=ui=null,sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return di&&n.locale!=="ko"?null:n.data;default:return null}}var T0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!T0[e.type]:n==="textarea"}function Xm(e,n,s,o){ls?li?li.push(o):li=[o]:ls=o,n=Ju(n,"onChange"),0<n.length&&(s=new ci("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var wo=null,Co=null;function E0(e){Oy(e,0)}function uu(e){var n=un(e);if(ar(n))return e}function Zm(e,n){if(e==="change")return n}var Jm=!1;if(Sn){var vh;if(Sn){var Th="oninput"in document;if(!Th){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),Th=typeof $m.oninput=="function"}vh=Th}else vh=!1;Jm=vh&&(!document.documentMode||9<document.documentMode)}function Wm(){wo&&(wo.detachEvent("onpropertychange",tg),Co=wo=null)}function tg(e){if(e.propertyName==="value"&&uu(Co)){var n=[];Xm(n,Co,e,En(e)),us(E0,n)}}function S0(e,n,s){e==="focusin"?(Wm(),wo=n,Co=s,wo.attachEvent("onpropertychange",tg)):e==="focusout"&&Wm()}function A0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uu(Co)}function b0(e,n){if(e==="click")return uu(n)}function R0(e,n){if(e==="input"||e==="change")return uu(n)}function w0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hn=typeof Object.is=="function"?Object.is:w0;function Io(e,n){if(hn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ge.call(n,h)||!hn(e[h],n[h]))return!1}return!0}function eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ng(e,n){var s=eg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=eg(s)}}function ig(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ig(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=oi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=oi(e.document)}return n}function Eh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var C0=Sn&&"documentMode"in document&&11>=document.documentMode,ra=null,Sh=null,Do=null,Ah=!1;function rg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ah||ra==null||ra!==oi(o)||(o=ra,"selectionStart"in o&&Eh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Do&&Io(Do,o)||(Do=o,o=Ju(Sh,"onSelect"),0<o.length&&(n=new ci("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ra)))}function gr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var aa={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},bh={},ag={};Sn&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function pr(e){if(bh[e])return bh[e];if(!aa[e])return e;var n=aa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in ag)return bh[e]=n[s];return e}var og=pr("animationend"),lg=pr("animationiteration"),ug=pr("animationstart"),I0=pr("transitionrun"),D0=pr("transitionstart"),N0=pr("transitioncancel"),cg=pr("transitionend"),hg=new Map,Rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rh.push("scrollEnd");function Fn(e,n){hg.set(e,n),ri(n,[e])}var cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bn=[],oa=0,wh=0;function hu(){for(var e=oa,n=wh=oa=0;n<e;){var s=bn[n];bn[n++]=null;var o=bn[n];bn[n++]=null;var h=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&fg(s,h,f)}}function fu(e,n,s,o){bn[oa++]=e,bn[oa++]=n,bn[oa++]=s,bn[oa++]=o,wh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ch(e,n,s,o){return fu(e,n,s,o),du(e)}function yr(e,n){return fu(e,null,null,n),du(e)}function fg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function du(e){if(50<Jo)throw Jo=0,Lf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var la={};function O0(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,n,s,o){return new O0(e,n,s,o)}function Ih(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var s=e.alternate;return s===null?(s=fn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function dg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function mu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Ih(e)&&(g=1);else if(typeof e=="string")g=kS(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=fn(31,s,n,h),e.elementType=C,e.lanes=f,e;case X:return _r(s.children,h,f,n);case $:g=8,h|=24;break;case at:return e=fn(12,s,n,h|2),e.elementType=at,e.lanes=f,e;case Yt:return e=fn(13,s,n,h),e.elementType=Yt,e.lanes=f,e;case Ut:return e=fn(19,s,n,h),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:g=10;break t;case dt:g=9;break t;case Lt:g=11;break t;case I:g=14;break t;case b:g=16,o=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=fn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function _r(e,n,s,o){return e=fn(7,e,o,n),e.lanes=s,e}function Dh(e,n,s){return e=fn(6,e,null,n),e.lanes=s,e}function mg(e){var n=fn(18,null,null,0);return n.stateNode=e,n}function Nh(e,n,s){return n=fn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var gg=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var s=gg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ro(n)},gg.set(e,n),n)}return{value:e,source:n,stack:ro(n)}}var ua=[],ca=0,gu=null,No=0,wn=[],Cn=0,ds=null,mi=1,gi="";function Vi(e,n){ua[ca++]=No,ua[ca++]=gu,gu=e,No=n}function pg(e,n,s){wn[Cn++]=mi,wn[Cn++]=gi,wn[Cn++]=ds,ds=e;var o=mi;e=gi;var h=32-ce(o)-1;o&=~(1<<h),s+=1;var f=32-ce(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,mi=1<<32-ce(n)+h|s<<h|o,gi=f+e}else mi=1<<f|s<<h|o,gi=e}function Oh(e){e.return!==null&&(Vi(e,1),pg(e,1,0))}function Mh(e){for(;e===gu;)gu=ua[--ca],ua[ca]=null,No=ua[--ca],ua[ca]=null;for(;e===ds;)ds=wn[--Cn],wn[Cn]=null,gi=wn[--Cn],wn[Cn]=null,mi=wn[--Cn],wn[Cn]=null}function yg(e,n){wn[Cn++]=mi,wn[Cn++]=gi,wn[Cn++]=ds,mi=n.id,gi=n.overflow,ds=e}var Pe=null,te=null,Mt=!1,ms=null,In=!1,Vh=Error(r(519));function gs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oo(Rn(n,e)),Vh}function _g(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Me]=o,s){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(s=0;s<Wo.length;s++)wt(Wo[s],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),Kl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),as(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Uy(n.textContent,s)?(o.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),o.onScroll!=null&&wt("scroll",n),o.onScrollEnd!=null&&wt("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||gs(e,!0)}function vg(e){for(Pe=e.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Pe=Pe.return}}function ha(e){if(e!==Pe)return!1;if(!Mt)return vg(e),Mt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||$f(e.type,e.memoizedProps)),s=!s),s&&te&&gs(e),vg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));te=Fy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));te=Fy(e)}else n===27?(n=te,Ds(e.type)?(e=id,id=null,te=e):te=n):te=Pe?Nn(e.stateNode.nextSibling):null;return!0}function vr(){te=Pe=null,Mt=!1}function xh(){var e=ms;return e!==null&&(an===null?an=e:an.push.apply(an,e),ms=null),e}function Oo(e){ms===null?ms=[e]:ms.push(e)}var Uh=O(null),Tr=null,xi=null;function ps(e,n,s){nt(Uh,n._currentValue),n._currentValue=s}function Ui(e){e._currentValue=Uh.current,Y(Uh)}function kh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Lh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var w=0;w<n.length;w++)if(T.context===n[w]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),kh(f.return,s,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),kh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function fa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var T=h.type;hn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===Vt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}h=h.return}e!==null&&Lh(n,e,s,o),n.flags|=262144}function pu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Er(e){Tr=e,xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ze(e){return Tg(Tr,e)}function yu(e,n){return Tr===null&&Er(e),Tg(e,n)}function Tg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},xi===null){if(e===null)throw Error(r(308));xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xi=xi.next=n;return s}var M0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},V0=a.unstable_scheduleCallback,x0=a.unstable_NormalPriority,Te={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ph(){return{controller:new M0,data:new Map,refCount:0}}function Mo(e){e.refCount--,e.refCount===0&&V0(x0,function(){e.controller.abort()})}var Vo=null,zh=0,da=0,ma=null;function U0(e,n){if(Vo===null){var s=Vo=[];zh=0,da=Hf(),ma={status:"pending",value:void 0,then:function(o){s.push(o)}}}return zh++,n.then(Eg,Eg),n}function Eg(){if(--zh===0&&Vo!==null){ma!==null&&(ma.status="fulfilled");var e=Vo;Vo=null,da=0,ma=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function k0(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Sg=F.S;F.S=function(e,n){ry=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&U0(e,n),Sg!==null&&Sg(e,n)};var Sr=O(null);function Bh(){var e=Sr.current;return e!==null?e:$t.pooledCache}function _u(e,n){n===null?nt(Sr,Sr.current):nt(Sr,n.pool)}function Ag(){var e=Bh();return e===null?null:{parent:Te._currentValue,pool:e}}var ga=Error(r(460)),jh=Error(r(474)),vu=Error(r(542)),Tu={then:function(){}};function bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(zn,zn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cg(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cg(e),e}throw br=n,ga}}function Ar(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(br=s,ga):s}}var br=null;function wg(){if(br===null)throw Error(r(459));var e=br;return br=null,e}function Cg(e){if(e===ga||e===vu)throw Error(r(483))}var pa=null,xo=0;function Eu(e){var n=xo;return xo+=1,pa===null&&(pa=[]),Rg(pa,e,n)}function Uo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Su(e,n){throw n.$$typeof===V?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ig(e){function n(x,D){if(e){var L=x.deletions;L===null?(x.deletions=[D],x.flags|=16):L.push(D)}}function s(x,D){if(!e)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function o(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function h(x,D){return x=Mi(x,D),x.index=0,x.sibling=null,x}function f(x,D,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<D?(x.flags|=67108866,D):L):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,D,L,G){return D===null||D.tag!==6?(D=Dh(L,x.mode,G),D.return=x,D):(D=h(D,L),D.return=x,D)}function w(x,D,L,G){var ct=L.type;return ct===X?q(x,D,L.props.children,G,L.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Ar(ct)===D.type)?(D=h(D,L.props),Uo(D,L),D.return=x,D):(D=mu(L.type,L.key,L.props,null,x.mode,G),Uo(D,L),D.return=x,D)}function P(x,D,L,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Nh(L,x.mode,G),D.return=x,D):(D=h(D,L.children||[]),D.return=x,D)}function q(x,D,L,G,ct){return D===null||D.tag!==7?(D=_r(L,x.mode,G,ct),D.return=x,D):(D=h(D,L),D.return=x,D)}function Q(x,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Dh(""+D,x.mode,L),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return L=mu(D.type,D.key,D.props,null,x.mode,L),Uo(L,D),L.return=x,L;case W:return D=Nh(D,x.mode,L),D.return=x,D;case b:return D=Ar(D),Q(x,D,L)}if(we(D)||U(D))return D=_r(D,x.mode,L,null),D.return=x,D;if(typeof D.then=="function")return Q(x,Eu(D),L);if(D.$$typeof===ut)return Q(x,yu(x,D),L);Su(x,D)}return null}function z(x,D,L,G){var ct=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:T(x,D,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===ct?w(x,D,L,G):null;case W:return L.key===ct?P(x,D,L,G):null;case b:return L=Ar(L),z(x,D,L,G)}if(we(L)||U(L))return ct!==null?null:q(x,D,L,G,null);if(typeof L.then=="function")return z(x,D,Eu(L),G);if(L.$$typeof===ut)return z(x,D,yu(x,L),G);Su(x,L)}return null}function j(x,D,L,G,ct){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(L)||null,T(D,x,""+G,ct);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case H:return x=x.get(G.key===null?L:G.key)||null,w(D,x,G,ct);case W:return x=x.get(G.key===null?L:G.key)||null,P(D,x,G,ct);case b:return G=Ar(G),j(x,D,L,G,ct)}if(we(G)||U(G))return x=x.get(L)||null,q(D,x,G,ct,null);if(typeof G.then=="function")return j(x,D,L,Eu(G),ct);if(G.$$typeof===ut)return j(x,D,L,yu(D,G),ct);Su(D,G)}return null}function rt(x,D,L,G){for(var ct=null,Pt=null,ot=D,bt=D=0,It=null;ot!==null&&bt<L.length;bt++){ot.index>bt?(It=ot,ot=null):It=ot.sibling;var zt=z(x,ot,L[bt],G);if(zt===null){ot===null&&(ot=It);break}e&&ot&&zt.alternate===null&&n(x,ot),D=f(zt,D,bt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt,ot=It}if(bt===L.length)return s(x,ot),Mt&&Vi(x,bt),ct;if(ot===null){for(;bt<L.length;bt++)ot=Q(x,L[bt],G),ot!==null&&(D=f(ot,D,bt),Pt===null?ct=ot:Pt.sibling=ot,Pt=ot);return Mt&&Vi(x,bt),ct}for(ot=o(ot);bt<L.length;bt++)It=j(ot,x,bt,L[bt],G),It!==null&&(e&&It.alternate!==null&&ot.delete(It.key===null?bt:It.key),D=f(It,D,bt),Pt===null?ct=It:Pt.sibling=It,Pt=It);return e&&ot.forEach(function(xs){return n(x,xs)}),Mt&&Vi(x,bt),ct}function mt(x,D,L,G){if(L==null)throw Error(r(151));for(var ct=null,Pt=null,ot=D,bt=D=0,It=null,zt=L.next();ot!==null&&!zt.done;bt++,zt=L.next()){ot.index>bt?(It=ot,ot=null):It=ot.sibling;var xs=z(x,ot,zt.value,G);if(xs===null){ot===null&&(ot=It);break}e&&ot&&xs.alternate===null&&n(x,ot),D=f(xs,D,bt),Pt===null?ct=xs:Pt.sibling=xs,Pt=xs,ot=It}if(zt.done)return s(x,ot),Mt&&Vi(x,bt),ct;if(ot===null){for(;!zt.done;bt++,zt=L.next())zt=Q(x,zt.value,G),zt!==null&&(D=f(zt,D,bt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt);return Mt&&Vi(x,bt),ct}for(ot=o(ot);!zt.done;bt++,zt=L.next())zt=j(ot,x,bt,zt.value,G),zt!==null&&(e&&zt.alternate!==null&&ot.delete(zt.key===null?bt:zt.key),D=f(zt,D,bt),Pt===null?ct=zt:Pt.sibling=zt,Pt=zt);return e&&ot.forEach(function(YS){return n(x,YS)}),Mt&&Vi(x,bt),ct}function Jt(x,D,L,G){if(typeof L=="object"&&L!==null&&L.type===X&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:t:{for(var ct=L.key;D!==null;){if(D.key===ct){if(ct=L.type,ct===X){if(D.tag===7){s(x,D.sibling),G=h(D,L.props.children),G.return=x,x=G;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Ar(ct)===D.type){s(x,D.sibling),G=h(D,L.props),Uo(G,L),G.return=x,x=G;break t}s(x,D);break}else n(x,D);D=D.sibling}L.type===X?(G=_r(L.props.children,x.mode,G,L.key),G.return=x,x=G):(G=mu(L.type,L.key,L.props,null,x.mode,G),Uo(G,L),G.return=x,x=G)}return g(x);case W:t:{for(ct=L.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){s(x,D.sibling),G=h(D,L.children||[]),G.return=x,x=G;break t}else{s(x,D);break}else n(x,D);D=D.sibling}G=Nh(L,x.mode,G),G.return=x,x=G}return g(x);case b:return L=Ar(L),Jt(x,D,L,G)}if(we(L))return rt(x,D,L,G);if(U(L)){if(ct=U(L),typeof ct!="function")throw Error(r(150));return L=ct.call(L),mt(x,D,L,G)}if(typeof L.then=="function")return Jt(x,D,Eu(L),G);if(L.$$typeof===ut)return Jt(x,D,yu(x,L),G);Su(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(s(x,D.sibling),G=h(D,L),G.return=x,x=G):(s(x,D),G=Dh(L,x.mode,G),G.return=x,x=G),g(x)):s(x,D)}return function(x,D,L,G){try{xo=0;var ct=Jt(x,D,L,G);return pa=null,ct}catch(ot){if(ot===ga||ot===vu)throw ot;var Pt=fn(29,ot,null,x.mode);return Pt.lanes=G,Pt.return=x,Pt}finally{}}}var Rr=Ig(!0),Dg=Ig(!1),ys=!1;function qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _s(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(jt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=du(e),fg(e,null,s),n}return fu(e,o,n,s),du(e)}function ko(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,lo(e,s)}}function Fh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Gh=!1;function Lo(){if(Gh){var e=ma;if(e!==null)throw e}}function Po(e,n,s,o){Gh=!1;var h=e.updateQueue;ys=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,P=w.next;w.next=null,g===null?f=P:g.next=P,g=w;var q=e.alternate;q!==null&&(q=q.updateQueue,T=q.lastBaseUpdate,T!==g&&(T===null?q.firstBaseUpdate=P:T.next=P,q.lastBaseUpdate=w))}if(f!==null){var Q=h.baseState;g=0,q=P=w=null,T=f;do{var z=T.lane&-536870913,j=z!==T.lane;if(j?(Ct&z)===z:(o&z)===z){z!==0&&z===da&&(Gh=!0),q!==null&&(q=q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var rt=e,mt=T;z=n;var Jt=s;switch(mt.tag){case 1:if(rt=mt.payload,typeof rt=="function"){Q=rt.call(Jt,Q,z);break t}Q=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=mt.payload,z=typeof rt=="function"?rt.call(Jt,Q,z):rt,z==null)break t;Q=A({},Q,z);break t;case 2:ys=!0}}z=T.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},q===null?(P=q=j,w=Q):q=q.next=j,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;j=T,T=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);q===null&&(w=Q),h.baseState=w,h.firstBaseUpdate=P,h.lastBaseUpdate=q,f===null&&(h.shared.lanes=0),bs|=g,e.lanes=g,e.memoizedState=Q}}function Ng(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Og(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Ng(s[e],n)}var ya=O(null),Au=O(0);function Mg(e,n){e=Fi,nt(Au,e),nt(ya,n),Fi=e|n.baseLanes}function Qh(){nt(Au,Fi),nt(ya,ya.current)}function Yh(){Fi=Au.current,Y(ya),Y(Au)}var dn=O(null),Dn=null;function Ts(e){var n=e.alternate;nt(fe,fe.current&1),nt(dn,e),Dn===null&&(n===null||ya.current!==null||n.memoizedState!==null)&&(Dn=e)}function Kh(e){nt(fe,fe.current),nt(dn,e),Dn===null&&(Dn=e)}function Vg(e){e.tag===22?(nt(fe,fe.current),nt(dn,e),Dn===null&&(Dn=e)):Es()}function Es(){nt(fe,fe.current),nt(dn,dn.current)}function mn(e){Y(dn),Dn===e&&(Dn=null),Y(fe)}var fe=O(0);function bu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ed(s)||nd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ki=0,St=null,Xt=null,Ee=null,Ru=!1,_a=!1,wr=!1,wu=0,zo=0,va=null,L0=0;function le(){throw Error(r(321))}function Xh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!hn(e[s],n[s]))return!1;return!0}function Zh(e,n,s,o,h,f){return ki=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?pp:ff,wr=!1,f=s(o,h),wr=!1,_a&&(f=Ug(n,s,o,h)),xg(e),f}function xg(e){F.H=qo;var n=Xt!==null&&Xt.next!==null;if(ki=0,Ee=Xt=St=null,Ru=!1,zo=0,va=null,n)throw Error(r(300));e===null||Se||(e=e.dependencies,e!==null&&pu(e)&&(Se=!0))}function Ug(e,n,s,o){St=e;var h=0;do{if(_a&&(va=null),zo=0,_a=!1,25<=h)throw Error(r(301));if(h+=1,Ee=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=yp,f=n(s,o)}while(_a);return f}function P0(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Bo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(St.flags|=1024),n}function Jh(){var e=wu!==0;return wu=0,e}function $h(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Wh(e){if(Ru){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ru=!1}ki=0,Ee=Xt=St=null,_a=!1,zo=wu=0,va=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?St.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function de(){if(Xt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Ee===null?St.memoizedState:Ee.next;if(n!==null)Ee=n,Xt=e;else{if(e===null)throw St.alternate===null?Error(r(467)):Error(r(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ee===null?St.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(e){var n=zo;return zo+=1,va===null&&(va=[]),e=Rg(va,e,n),n=St,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?pp:ff),e}function Iu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bo(e);if(e.$$typeof===ut)return ze(e)}throw Error(r(438,String(e)))}function tf(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Cu(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function Li(e,n){return typeof n=="function"?n(e):n}function Du(e){var n=de();return ef(n,Xt,e)}function ef(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,w=null,P=n,q=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Ct&Q)===Q:(ki&Q)===Q){var z=P.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===da&&(q=!0);else if((ki&z)===z){P=P.next,z===da&&(q=!0);continue}else Q={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},w===null?(T=w=Q,g=f):w=w.next=Q,St.lanes|=z,bs|=z;Q=P.action,wr&&s(f,Q),f=P.hasEagerState?P.eagerState:s(f,Q)}else z={lane:Q,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},w===null?(T=w=z,g=f):w=w.next=z,St.lanes|=Q,bs|=Q;P=P.next}while(P!==null&&P!==n);if(w===null?g=f:w.next=T,!hn(f,e.memoizedState)&&(Se=!0,q&&(s=ma,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=w,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function nf(e){var n=de(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);hn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function kg(e,n,s){var o=St,h=de(),f=Mt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!hn((Xt||h).memoizedState,s);if(g&&(h.memoizedState=s,Se=!0),h=h.queue,af(zg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ee!==null&&Ee.memoizedState.tag&1){if(o.flags|=2048,Ta(9,{destroy:void 0},Pg.bind(null,o,h,s,n),null),$t===null)throw Error(r(349));f||(ki&127)!==0||Lg(o,n,s)}return s}function Lg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=Cu(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Pg(e,n,s,o){n.value=s,n.getSnapshot=o,Bg(n)&&jg(e)}function zg(e,n,s){return s(function(){Bg(n)&&jg(e)})}function Bg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!hn(e,s)}catch{return!0}}function jg(e){var n=yr(e,2);n!==null&&on(n,e,2)}function sf(e){var n=We();if(typeof e=="function"){var s=e;if(e=s(),wr){vn(!0);try{s()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function qg(e,n,s,o){return e.baseState=s,ef(e,Xt,typeof o=="function"?o:Li)}function z0(e,n,s,o,h){if(Mu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Hg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Hg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var T=s(h,o),w=F.S;w!==null&&w(g,T),Fg(e,n,T)}catch(P){rf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,o),Fg(e,n,f)}catch(P){rf(e,n,P)}}function Fg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Gg(e,n,o)},function(o){return rf(e,n,o)}):Gg(e,n,s)}function Gg(e,n,s){n.status="fulfilled",n.value=s,Qg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Hg(e,s)))}function rf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Qg(n),n=n.next;while(n!==o)}e.action=null}function Qg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Yg(e,n){return n}function Kg(e,n){if(Mt){var s=$t.formState;if(s!==null){t:{var o=St;if(Mt){if(te){e:{for(var h=te,f=In;h.nodeType!==8;){if(!f){h=null;break e}if(h=Nn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Nn(h.nextSibling),o=h.data==="F!";break t}}gs(o)}o=!1}o&&(n=s[0])}}return s=We(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:n},s.queue=o,s=dp.bind(null,St,o),o.dispatch=s,o=sf(!1),f=hf.bind(null,St,!1,o.queue),o=We(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=z0.bind(null,St,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Xg(e){var n=de();return Zg(n,Xt,e)}function Zg(e,n,s){if(n=ef(e,n,Yg)[0],e=Du(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Bo(n)}catch(g){throw g===ga?vu:g}else o=n;n=de();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(St.flags|=2048,Ta(9,{destroy:void 0},B0.bind(null,h,s),null)),[o,f,e]}function B0(e,n){e.action=n}function Jg(e){var n=de(),s=Xt;if(s!==null)return Zg(n,s,e);de(),n=n.memoizedState,s=de();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ta(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Cu(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function $g(){return de().memoizedState}function Nu(e,n,s,o){var h=We();St.flags|=e,h.memoizedState=Ta(1|n,{destroy:void 0},s,o===void 0?null:o)}function Ou(e,n,s,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&Xh(o,Xt.memoizedState.deps)?h.memoizedState=Ta(n,f,s,o):(St.flags|=e,h.memoizedState=Ta(1|n,f,s,o))}function Wg(e,n){Nu(8390656,8,e,n)}function af(e,n){Ou(2048,8,e,n)}function j0(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Cu(),St.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function tp(e){var n=de().memoizedState;return j0({ref:n,nextImpl:e}),function(){if((jt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function ep(e,n){return Ou(4,2,e,n)}function np(e,n){return Ou(4,4,e,n)}function ip(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function sp(e,n,s){s=s!=null?s.concat([e]):null,Ou(4,4,ip.bind(null,n,e),s)}function of(){}function rp(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Xh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function ap(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Xh(n,o[1]))return o[0];if(o=e(),wr){vn(!0);try{e()}finally{vn(!1)}}return s.memoizedState=[o,n],o}function lf(e,n,s){return s===void 0||(ki&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=oy(),St.lanes|=e,bs|=e,s)}function op(e,n,s,o){return hn(s,n)?s:ya.current!==null?(e=lf(e,s,o),hn(e,n)||(Se=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(Ct&261930)===0?(Se=!0,e.memoizedState=s):(e=oy(),St.lanes|=e,bs|=e,n)}function lp(e,n,s,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=F.T,T={};F.T=T,hf(e,!1,n,s);try{var w=h(),P=F.S;if(P!==null&&P(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var q=k0(w,o);jo(e,n,q,yn(e))}else jo(e,n,o,yn(e))}catch(Q){jo(e,n,{then:function(){},status:"rejected",reason:Q},yn())}finally{et.p=f,g!==null&&T.types!==null&&(g.types=T.types),F.T=g}}function q0(){}function uf(e,n,s,o){if(e.tag!==5)throw Error(r(476));var h=up(e).queue;lp(e,h,n,ht,s===null?q0:function(){return cp(e),s(o)})}function up(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function cp(e){var n=up(e);n.next===null&&(n=e.alternate.memoizedState),jo(e,n.next.queue,{},yn())}function cf(){return ze(sl)}function hp(){return de().memoizedState}function fp(){return de().memoizedState}function H0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=yn();e=_s(s);var o=vs(n,e,s);o!==null&&(on(o,n,s),ko(o,n,s)),n={cache:Ph()},e.payload=n;return}n=n.return}}function F0(e,n,s){var o=yn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Mu(e)?mp(n,s):(s=Ch(e,n,s,o),s!==null&&(on(s,e,o),gp(s,n,o)))}function dp(e,n,s){var o=yn();jo(e,n,s,o)}function jo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Mu(e))mp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,hn(T,g))return fu(e,n,h,0),$t===null&&hu(),!1}catch{}finally{}if(s=Ch(e,n,h,o),s!==null)return on(s,e,o),gp(s,n,o),!0}return!1}function hf(e,n,s,o){if(o={lane:2,revertLane:Hf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Mu(e)){if(n)throw Error(r(479))}else n=Ch(e,s,o,2),n!==null&&on(n,e,2)}function Mu(e){var n=e.alternate;return e===St||n!==null&&n===St}function mp(e,n){_a=Ru=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function gp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,lo(e,s)}}var qo={readContext:ze,use:Iu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};qo.useEffectEvent=le;var pp={readContext:ze,use:Iu,useCallback:function(e,n){return We().memoizedState=[e,n===void 0?null:n],e},useContext:ze,useEffect:Wg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Nu(4194308,4,ip.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Nu(4194308,4,e,n)},useInsertionEffect:function(e,n){Nu(4,2,e,n)},useMemo:function(e,n){var s=We();n=n===void 0?null:n;var o=e();if(wr){vn(!0);try{e()}finally{vn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=We();if(s!==void 0){var h=s(n);if(wr){vn(!0);try{s(n)}finally{vn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=F0.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=We();return e={current:e},n.memoizedState=e},useState:function(e){e=sf(e);var n=e.queue,s=dp.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:of,useDeferredValue:function(e,n){var s=We();return lf(s,e,n)},useTransition:function(){var e=sf(!1);return e=lp.bind(null,St,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=St,h=We();if(Mt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),$t===null)throw Error(r(349));(Ct&127)!==0||Lg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Wg(zg.bind(null,o,f,e),[e]),o.flags|=2048,Ta(9,{destroy:void 0},Pg.bind(null,o,f,s,n),null),s},useId:function(){var e=We(),n=$t.identifierPrefix;if(Mt){var s=gi,o=mi;s=(o&~(1<<32-ce(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=wu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=L0++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:cf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e){var n=We();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=hf.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:tf,useCacheRefresh:function(){return We().memoizedState=H0.bind(null,St)},useEffectEvent:function(e){var n=We(),s={impl:e};return n.memoizedState=s,function(){if((jt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},ff={readContext:ze,use:Iu,useCallback:rp,useContext:ze,useEffect:af,useImperativeHandle:sp,useInsertionEffect:ep,useLayoutEffect:np,useMemo:ap,useReducer:Du,useRef:$g,useState:function(){return Du(Li)},useDebugValue:of,useDeferredValue:function(e,n){var s=de();return op(s,Xt.memoizedState,e,n)},useTransition:function(){var e=Du(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Bo(e),n]},useSyncExternalStore:kg,useId:hp,useHostTransitionStatus:cf,useFormState:Xg,useActionState:Xg,useOptimistic:function(e,n){var s=de();return qg(s,Xt,e,n)},useMemoCache:tf,useCacheRefresh:fp};ff.useEffectEvent=tp;var yp={readContext:ze,use:Iu,useCallback:rp,useContext:ze,useEffect:af,useImperativeHandle:sp,useInsertionEffect:ep,useLayoutEffect:np,useMemo:ap,useReducer:nf,useRef:$g,useState:function(){return nf(Li)},useDebugValue:of,useDeferredValue:function(e,n){var s=de();return Xt===null?lf(s,e,n):op(s,Xt.memoizedState,e,n)},useTransition:function(){var e=nf(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Bo(e),n]},useSyncExternalStore:kg,useId:hp,useHostTransitionStatus:cf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e,n){var s=de();return Xt!==null?qg(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:tf,useCacheRefresh:fp};yp.useEffectEvent=tp;function df(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var mf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=yn(),h=_s(o);h.payload=n,s!=null&&(h.callback=s),n=vs(e,h,o),n!==null&&(on(n,e,o),ko(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=yn(),h=_s(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=vs(e,h,o),n!==null&&(on(n,e,o),ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=yn(),o=_s(s);o.tag=2,n!=null&&(o.callback=n),n=vs(e,o,s),n!==null&&(on(n,e,s),ko(n,e,s))}};function _p(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Io(s,o)||!Io(h,f):!0}function vp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&mf.enqueueReplaceState(n,n.state,null)}function Cr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Tp(e){cu(e)}function Ep(e){console.error(e)}function Sp(e){cu(e)}function Vu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ap(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gf(e,n,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){Vu(e,n)},s}function bp(e){return e=_s(e),e.tag=3,e}function Rp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Ap(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Ap(n,s,o),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function G0(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&fa(n,s,h,!0),s=dn.current,s!==null){switch(s.tag){case 31:case 13:return Dn===null?Gu():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Tu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Bf(e,o,h)),!1;case 22:return s.flags|=65536,o===Tu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Bf(e,o,h)),!1}throw Error(r(435,s.tag))}return Bf(e,o,h),Gu(),!1}if(Mt)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Vh&&(e=Error(r(422),{cause:o}),Oo(Rn(e,s)))):(o!==Vh&&(n=Error(r(423),{cause:o}),Oo(Rn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Rn(o,s),h=gf(e.stateNode,o,h),Fh(e,h),ue!==4&&(ue=2)),!1;var f=Error(r(520),{cause:o});if(f=Rn(f,s),Zo===null?Zo=[f]:Zo.push(f),ue!==4&&(ue=2),n===null)return!0;o=Rn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=gf(s.stateNode,o,e),Fh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=bp(h),Rp(h,e,s,o),Fh(s,h),!1}s=s.return}while(s!==null);return!1}var pf=Error(r(461)),Se=!1;function Be(e,n,s,o){n.child=e===null?Dg(n,null,s,o):Rr(n,e.child,s,o)}function wp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return Er(n),o=Zh(e,n,s,g,f,h),T=Jh(),e!==null&&!Se?($h(e,n,h),Pi(e,n,h)):(Mt&&T&&Oh(n),n.flags|=1,Be(e,n,o,h),n.child)}function Cp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Ih(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Ip(e,n,f,o,h)):(e=mu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!bf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Io,s(g,o)&&e.ref===n.ref)return Pi(e,n,h)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Ip(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Io(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,bf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,Pi(e,n,h)}return yf(e,n,s,o,h)}function Dp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Np(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&_u(n,f!==null?f.cachePool:null),f!==null?Mg(n,f):Qh(),Vg(n);else return o=n.lanes=536870912,Np(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(_u(n,f.cachePool),Mg(n,f),Es(),n.memoizedState=null):(e!==null&&_u(n,null),Qh(),Es());return Be(e,n,h,s),n.child}function Ho(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Np(e,n,s,o,h){var f=Bh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&_u(n,null),Qh(),Vg(n),e!==null&&fa(e,n,o,!0),n.childLanes=h,null}function xu(e,n){return n=ku({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Op(e,n,s){return Rr(n,e.child,null,s),e=xu(n,n.pendingProps),e.flags|=2,mn(n),n.memoizedState=null,e}function Q0(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Mt){if(o.mode==="hidden")return e=xu(n,o),n.lanes=536870912,Ho(null,e);if(Kh(n),(e=te)?(e=Hy(e,In),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},s=mg(e),s.return=n,n.child=s,Pe=n,te=null)):e=null,e===null)throw gs(n);return n.lanes=536870912,null}return xu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Kh(n),h)if(n.flags&256)n.flags&=-257,n=Op(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Se||fa(e,n,s,!1),h=(s&e.childLanes)!==0,Se||h){if(o=$t,o!==null&&(g=uo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,yr(e,g),on(o,e,g),pf;Gu(),n=Op(e,n,s)}else e=f.treeContext,te=Nn(g.nextSibling),Pe=n,Mt=!0,ms=null,In=!1,e!==null&&yg(n,e),n=xu(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Uu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function yf(e,n,s,o,h){return Er(n),s=Zh(e,n,s,o,void 0,h),o=Jh(),e!==null&&!Se?($h(e,n,h),Pi(e,n,h)):(Mt&&o&&Oh(n),n.flags|=1,Be(e,n,s,h),n.child)}function Mp(e,n,s,o,h,f){return Er(n),n.updateQueue=null,s=Ug(n,o,s,h),xg(e),o=Jh(),e!==null&&!Se?($h(e,n,f),Pi(e,n,f)):(Mt&&o&&Oh(n),n.flags|=1,Be(e,n,s,f),n.child)}function Vp(e,n,s,o,h){if(Er(n),n.stateNode===null){var f=la,g=s.contextType;typeof g=="object"&&g!==null&&(f=ze(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},qh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?ze(g):la,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(df(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&mf.enqueueReplaceState(f,f.state,null),Po(n,o,f,h),Lo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,w=Cr(s,T);f.props=w;var P=f.context,q=s.contextType;g=la,typeof q=="object"&&q!==null&&(g=ze(q));var Q=s.getDerivedStateFromProps;q=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&vp(n,f,o,g),ys=!1;var z=n.memoizedState;f.state=z,Po(n,o,f,h),Lo(),P=n.memoizedState,T||z!==P||ys?(typeof Q=="function"&&(df(n,s,Q,o),P=n.memoizedState),(w=ys||_p(n,s,w,o,z,P,g))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Hh(e,n),g=n.memoizedProps,q=Cr(s,g),f.props=q,Q=n.pendingProps,z=f.context,P=s.contextType,w=la,typeof P=="object"&&P!==null&&(w=ze(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==w)&&vp(n,f,o,w),ys=!1,z=n.memoizedState,f.state=z,Po(n,o,f,h),Lo();var j=n.memoizedState;g!==Q||z!==j||ys||e!==null&&e.dependencies!==null&&pu(e.dependencies)?(typeof T=="function"&&(df(n,s,T,o),j=n.memoizedState),(q=ys||_p(n,s,q,o,z,j,w)||e!==null&&e.dependencies!==null&&pu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=w,o=q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Uu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Rr(n,e.child,null,h),n.child=Rr(n,null,s,h)):Be(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Pi(e,n,h),e}function xp(e,n,s,o){return vr(),n.flags|=256,Be(e,n,s,o),n.child}var _f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vf(e){return{baseLanes:e,cachePool:Ag()}}function Tf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=pn),e}function Up(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(h?Ts(n):Es(),(e=te)?(e=Hy(e,In),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},s=mg(e),s.return=n,n.child=s,Pe=n,te=null)):e=null,e===null)throw gs(n);return nd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Es(),h=n.mode,T=ku({mode:"hidden",children:T},h),o=_r(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=vf(s),o.childLanes=Tf(e,g,s),n.memoizedState=_f,Ho(null,o)):(Ts(n),Ef(n,T))}var w=e.memoizedState;if(w!==null&&(T=w.dehydrated,T!==null)){if(f)n.flags&256?(Ts(n),n.flags&=-257,n=Sf(e,n,s)):n.memoizedState!==null?(Es(),n.child=e.child,n.flags|=128,n=null):(Es(),T=o.fallback,h=n.mode,o=ku({mode:"visible",children:o.children},h),T=_r(T,h,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Rr(n,e.child,null,s),o=n.child,o.memoizedState=vf(s),o.childLanes=Tf(e,g,s),n.memoizedState=_f,n=Ho(null,o));else if(Ts(n),nd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(r(419)),o.stack="",o.digest=g,Oo({value:o,source:null,stack:null}),n=Sf(e,n,s)}else if(Se||fa(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=$t,g!==null&&(o=uo(g,s),o!==0&&o!==w.retryLane))throw w.retryLane=o,yr(e,o),on(g,e,o),pf;ed(T)||Gu(),n=Sf(e,n,s)}else ed(T)?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,te=Nn(T.nextSibling),Pe=n,Mt=!0,ms=null,In=!1,e!==null&&yg(n,e),n=Ef(n,o.children),n.flags|=4096);return n}return h?(Es(),T=o.fallback,h=n.mode,w=e.child,P=w.sibling,o=Mi(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,P!==null?T=Mi(P,T):(T=_r(T,h,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Ho(null,o),o=n.child,T=e.child.memoizedState,T===null?T=vf(s):(h=T.cachePool,h!==null?(w=Te._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=Ag(),T={baseLanes:T.baseLanes|s,cachePool:h}),o.memoizedState=T,o.childLanes=Tf(e,g,s),n.memoizedState=_f,Ho(e.child,o)):(Ts(n),s=e.child,e=s.sibling,s=Mi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Ef(e,n){return n=ku({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ku(e,n){return e=fn(22,e,null,n),e.lanes=0,e}function Sf(e,n,s){return Rr(n,e.child,null,s),e=Ef(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function kp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),kh(e.return,n,s)}function Af(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Lp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,nt(fe,g),Be(e,n,o,s),o=Mt?No:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kp(e,s,n);else if(e.tag===19)kp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&bu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Af(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Af(n,!0,s,null,f,o);break;case"together":Af(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),bs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(fa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Mi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&pu(e)))}function Y0(e,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),ps(n,Te,e.memoizedState.cache),vr();break;case 27:case 5:Ws(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Kh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ts(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Up(e,n,s):(Ts(n),e=Pi(e,n,s),e!==null?e.sibling:null);Ts(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(fa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Lp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(fe,fe.current),o)break;return null;case 22:return n.lanes=0,Dp(e,n,s,n.pendingProps);case 24:ps(n,Te,e.memoizedState.cache)}return Pi(e,n,s)}function Pp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!bf(e,s)&&(n.flags&128)===0)return Se=!1,Y0(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,Mt&&(n.flags&1048576)!==0&&pg(n,No,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ar(n.elementType),n.type=e,typeof e=="function")Ih(e)?(o=Cr(e,o),n.tag=1,n=Vp(null,n,e,o,s)):(n.tag=0,n=yf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Lt){n.tag=11,n=wp(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=Cp(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(r(306,n,""))}}return n;case 0:return yf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Cr(o,n.pendingProps),Vp(e,n,o,h,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Hh(e,n),Po(n,o,null,s);var g=n.memoizedState;if(o=g.cache,ps(n,Te,o),o!==f.cache&&Lh(n,[Te],s,!0),Lo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=xp(e,n,o,s);break t}else if(o!==h){h=Rn(Error(r(424)),n),Oo(h),n=xp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=Nn(e.firstChild),Pe=n,Mt=!0,ms=null,In=!0,s=Dg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(vr(),o===h){n=Pi(e,n,s);break t}Be(e,n,o,s)}n=n.child}return n;case 26:return Uu(e,n),e===null?(s=Xy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Mt||(s=n.type,e=n.pendingProps,o=$u(At.current).createElement(s),o[ye]=n,o[Me]=e,je(o,s,e),_e(o),n.stateNode=o):n.memoizedState=Xy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ws(n),e===null&&Mt&&(o=n.stateNode=Qy(n.type,n.pendingProps,At.current),Pe=n,In=!0,h=te,Ds(n.type)?(id=h,te=Nn(o.firstChild)):te=h),Be(e,n,n.pendingProps.children,s),Uu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((h=o=te)&&(o=AS(o,n.type,n.pendingProps,In),o!==null?(n.stateNode=o,Pe=n,te=Nn(o.firstChild),In=!1,h=!0):h=!1),h||gs(n)),Ws(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,$f(h,f)?o=null:g!==null&&$f(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Zh(e,n,P0,null,null,s),sl._currentValue=h),Uu(e,n),Be(e,n,o,s),n.child;case 6:return e===null&&Mt&&((e=s=te)&&(s=bS(s,n.pendingProps,In),s!==null?(n.stateNode=s,Pe=n,te=null,e=!0):e=!1),e||gs(n)),null;case 13:return Up(e,n,s);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Rr(n,null,o,s):Be(e,n,o,s),n.child;case 11:return wp(e,n,n.type,n.pendingProps,s);case 7:return Be(e,n,n.pendingProps,s),n.child;case 8:return Be(e,n,n.pendingProps.children,s),n.child;case 12:return Be(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ps(n,n.type,o.value),Be(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Er(n),h=ze(h),o=o(h),n.flags|=1,Be(e,n,o,s),n.child;case 14:return Cp(e,n,n.type,n.pendingProps,s);case 15:return Ip(e,n,n.type,n.pendingProps,s);case 19:return Lp(e,n,s);case 31:return Q0(e,n,s);case 22:return Dp(e,n,s,n.pendingProps);case 24:return Er(n),o=ze(Te),e===null?(h=Bh(),h===null&&(h=$t,f=Ph(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},qh(n),ps(n,Te,h)):((e.lanes&s)!==0&&(Hh(e,n),Po(n,null,null,s),Lo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ps(n,Te,o)):(o=f.cache,ps(n,Te,o),o!==h.cache&&Lh(n,[Te],s,!0))),Be(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function zi(e){e.flags|=4}function Rf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(hy())e.flags|=8192;else throw br=Tu,jh}else e.flags&=-16777217}function zp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!t_(n))if(hy())e.flags|=8192;else throw br=Tu,jh}function Lu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Hl():536870912,e.lanes|=n,ba|=n)}function Fo(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function K0(e,n,s){var o=n.pendingProps;switch(Mh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Te),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ha(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,xh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(ee(n),zp(n,f)):(ee(n),Rf(n,h,null,o,s))):f?f!==e.memoizedState?(zi(n),ee(n),zp(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&zi(n),ee(n),Rf(n,h,e,o,s)),null;case 27:if(Hr(n),s=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ee(n),null}e=st.current,ha(n)?_g(n):(e=Qy(h,o,s),n.stateNode=e,zi(n))}return ee(n),null;case 5:if(Hr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ee(n),null}if(f=st.current,ha(n))_g(n);else{var g=$u(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ye]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&zi(n)}}return ee(n),Rf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=At.current,ha(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Pe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Uy(e.nodeValue,s)),e||gs(n,!0)}else e=$u(e).createTextNode(o),e[ye]=n,n.stateNode=e}return ee(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ha(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ye]=n}else vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else s=xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ha(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ye]=n}else vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Lu(n,n.updateQueue),ee(n),null);case 4:return se(),e===null&&Yf(n.stateNode.containerInfo),ee(n),null;case 10:return Ui(n.type),ee(n),null;case 19:if(Y(fe),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Fo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=bu(e),f!==null){for(n.flags|=128,Fo(o,!1),e=f.updateQueue,n.updateQueue=e,Lu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)dg(s,e),s=s.sibling;return nt(fe,fe.current&1|2),Mt&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Je()>qu&&(n.flags|=128,h=!0,Fo(o,!1),n.lanes=4194304)}else{if(!h)if(e=bu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Lu(n,e),Fo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Mt)return ee(n),null}else 2*Je()-o.renderingStartTime>qu&&s!==536870912&&(n.flags|=128,h=!0,Fo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,s=fe.current,nt(fe,h?s&1|2:s&1),Mt&&Vi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return mn(n),Yh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),s=n.updateQueue,s!==null&&Lu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(Sr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function X0(e,n){switch(Mh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Te),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Hr(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(r(340));vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(mn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(fe),null;case 4:return se(),null;case 10:return Ui(n.type),null;case 22:case 23:return mn(n),Yh(),e!==null&&Y(Sr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Te),null;case 25:return null;default:return null}}function Bp(e,n){switch(Mh(n),n.tag){case 3:Ui(Te),se();break;case 26:case 27:case 5:Hr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:Y(fe);break;case 10:Ui(n.type);break;case 22:case 23:mn(n),Yh(),e!==null&&Y(Sr);break;case 24:Ui(Te)}}function Go(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(T){Qt(n,n.return,T)}}function Ss(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var w=s,P=T;try{P()}catch(q){Qt(h,w,q)}}}o=o.next}while(o!==f)}}catch(q){Qt(n,n.return,q)}}function jp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Og(n,s)}catch(o){Qt(e,e.return,o)}}}function qp(e,n,s){s.props=Cr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Qo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Qt(e,n,h)}}function pi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qt(e,n,h)}else s.current=null}function Hp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Qt(e,e.return,h)}}function wf(e,n,s){try{var o=e.stateNode;yS(o,e.type,s,n),o[Me]=n}catch(h){Qt(e,e.return,h)}}function Fp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ds(e.type)||e.tag===4}function Cf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function If(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(If(e,n,s),e=e.sibling;e!==null;)If(e,n,s),e=e.sibling}function Pu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Pu(e,n,s),e=e.sibling;e!==null;)Pu(e,n,s),e=e.sibling}function Gp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);je(n,o,s),n[ye]=e,n[Me]=s}catch(f){Qt(e,e.return,f)}}var Bi=!1,Ae=!1,Df=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Z0(e,n){if(e=e.containerInfo,Zf=rc,e=sg(e),Eh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,w=-1,P=0,q=0,Q=e,z=null;e:for(;;){for(var j;Q!==s||h!==0&&Q.nodeType!==3||(T=g+h),Q!==f||o!==0&&Q.nodeType!==3||(w=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(j=Q.firstChild)!==null;)z=Q,Q=j;for(;;){if(Q===e)break e;if(z===s&&++P===h&&(T=g),z===f&&++q===o&&(w=g),(j=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=j}s=T===-1||w===-1?null:{start:T,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(Jf={focusedElem:e,selectionRange:s},rc=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var rt=Cr(s.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Qt(s,s.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)td(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}}function Yp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:qi(e,s),o&4&&Go(5,s);break;case 1:if(qi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(s,s.return,g)}else{var h=Cr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(s,s.return,g)}}o&64&&jp(s),o&512&&Qo(s,s.return);break;case 3:if(qi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Og(e,n)}catch(g){Qt(s,s.return,g)}}break;case 27:n===null&&o&4&&Gp(s);case 26:case 5:qi(e,s),n===null&&o&4&&Hp(s),o&512&&Qo(s,s.return);break;case 12:qi(e,s);break;case 31:qi(e,s),o&4&&Zp(e,s);break;case 13:qi(e,s),o&4&&Jp(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=rS.bind(null,s),RS(e,s))));break;case 22:if(o=s.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||Ae,h=Bi;var f=Ae;Bi=o,(Ae=n)&&!f?Hi(e,s,(s.subtreeFlags&8772)!==0):qi(e,s),Bi=h,Ae=f}break;case 30:break;default:qi(e,s)}}function Kp(e){var n=e.alternate;n!==null&&(e.alternate=null,Kp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Kr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,nn=!1;function ji(e,n,s){for(s=s.child;s!==null;)Xp(e,n,s),s=s.sibling}function Xp(e,n,s){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Un,s)}catch{}switch(s.tag){case 26:Ae||pi(s,n),ji(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ae||pi(s,n);var o=ae,h=nn;Ds(s.type)&&(ae=s.stateNode,nn=!1),ji(e,n,s),el(s.stateNode),ae=o,nn=h;break;case 5:Ae||pi(s,n);case 6:if(o=ae,h=nn,ae=null,ji(e,n,s),ae=o,nn=h,ae!==null)if(nn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:ae!==null&&(nn?(e=ae,jy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ma(e)):jy(ae,s.stateNode));break;case 4:o=ae,h=nn,ae=s.stateNode.containerInfo,nn=!0,ji(e,n,s),ae=o,nn=h;break;case 0:case 11:case 14:case 15:Ss(2,s,n),Ae||Ss(4,s,n),ji(e,n,s);break;case 1:Ae||(pi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&qp(s,n,o)),ji(e,n,s);break;case 21:ji(e,n,s);break;case 22:Ae=(o=Ae)||s.memoizedState!==null,ji(e,n,s),Ae=o;break;default:ji(e,n,s)}}function Zp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(s){Qt(n,n.return,s)}}}function Jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(s){Qt(n,n.return,s)}}function J0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Qp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Qp),n;default:throw Error(r(435,e.tag))}}function zu(e,n){var s=J0(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=aS.bind(null,e,o);o.then(h,h)}})}function sn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Ds(T.type)){ae=T.stateNode,nn=!1;break t}break;case 5:ae=T.stateNode,nn=!1;break t;case 3:case 4:ae=T.stateNode.containerInfo,nn=!0;break t}T=T.return}if(ae===null)throw Error(r(160));Xp(f,g,h),ae=null,nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)$p(n,e),n=n.sibling}var Gn=null;function $p(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),rn(e),o&4&&(Ss(3,e,e.return),Go(3,e),Ss(5,e,e.return));break;case 1:sn(n,e),rn(e),o&512&&(Ae||s===null||pi(s,s.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Gn;if(sn(n,e),rn(e),o&512&&(Ae||s===null||pi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ni]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),je(f,o,s),f[ye]=e,_e(f),o=f;break t;case"link":var g=$y("link","href",h).get(o+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),je(f,o,s),h.head.appendChild(f);break;case"meta":if(g=$y("meta","content",h).get(o+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(o),je(f,o,s),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else Wy(h,e.type,e.stateNode);else e.stateNode=Jy(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?Wy(h,e.type,e.stateNode):Jy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&wf(e,e.memoizedProps,s.memoizedProps)}break;case 27:sn(n,e),rn(e),o&512&&(Ae||s===null||pi(s,s.return)),s!==null&&o&4&&wf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(sn(n,e),rn(e),o&512&&(Ae||s===null||pi(s,s.return)),e.flags&32){h=e.stateNode;try{en(h,"")}catch(rt){Qt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,wf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Df=!0);break;case 6:if(sn(n,e),rn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(rt){Qt(e,e.return,rt)}}break;case 3:if(ec=null,h=Gn,Gn=Wu(n.containerInfo),sn(n,e),Gn=h,rn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(rt){Qt(e,e.return,rt)}Df&&(Df=!1,Wp(e));break;case 4:o=Gn,Gn=Wu(e.stateNode.containerInfo),sn(n,e),rn(e),Gn=o;break;case 12:sn(n,e),rn(e);break;case 31:sn(n,e),rn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,zu(e,o)));break;case 13:sn(n,e),rn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ju=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,zu(e,o)));break;case 22:h=e.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,P=Bi,q=Ae;if(Bi=P||h,Ae=q||w,sn(n,e),Ae=q,Bi=P,rn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||w||Bi||Ae||Ir(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){w=s=n;try{if(f=w.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=w.stateNode;var Q=w.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Qt(w,w.return,rt)}}}else if(n.tag===6){if(s===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(rt){Qt(w,w.return,rt)}}}else if(n.tag===18){if(s===null){w=n;try{var j=w.stateNode;h?qy(j,!0):qy(w.stateNode,!1)}catch(rt){Qt(w,w.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,zu(e,s))));break;case 19:sn(n,e),rn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,zu(e,o)));break;case 30:break;case 21:break;default:sn(n,e),rn(e)}}function rn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Fp(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=Cf(e);Pu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(en(g,""),s.flags&=-33);var T=Cf(e);Pu(e,T,g);break;case 3:case 4:var w=s.stateNode.containerInfo,P=Cf(e);If(e,P,w);break;default:throw Error(r(161))}}catch(q){Qt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Wp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Wp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yp(e,n.alternate,n),n=n.sibling}function Ir(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),Ir(n);break;case 1:pi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&qp(n,n.return,s),Ir(n);break;case 27:el(n.stateNode);case 26:case 5:pi(n,n.return),Ir(n);break;case 22:n.memoizedState===null&&Ir(n);break;case 30:Ir(n);break;default:Ir(n)}e=e.sibling}}function Hi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(h,f,s),Go(4,f);break;case 1:if(Hi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Qt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Ng(w[h],T)}catch(P){Qt(o,o.return,P)}}s&&g&64&&jp(f),Qo(f,f.return);break;case 27:Gp(f);case 26:case 5:Hi(h,f,s),s&&o===null&&g&4&&Hp(f),Qo(f,f.return);break;case 12:Hi(h,f,s);break;case 31:Hi(h,f,s),s&&g&4&&Zp(h,f);break;case 13:Hi(h,f,s),s&&g&4&&Jp(h,f);break;case 22:f.memoizedState===null&&Hi(h,f,s),Qo(f,f.return);break;case 30:break;default:Hi(h,f,s)}n=n.sibling}}function Nf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Mo(s))}function Of(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mo(e))}function Qn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ty(e,n,s,o),n=n.sibling}function ty(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,s,o),h&2048&&Go(9,n);break;case 1:Qn(e,n,s,o);break;case 3:Qn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mo(e)));break;case 12:if(h&2048){Qn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Qt(n,n.return,w)}}else Qn(e,n,s,o);break;case 31:Qn(e,n,s,o);break;case 13:Qn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,s,o):Yo(e,n):f._visibility&2?Qn(e,n,s,o):(f._visibility|=2,Ea(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Nf(g,n);break;case 24:Qn(e,n,s,o),h&2048&&Of(n.alternate,n);break;default:Qn(e,n,s,o)}}function Ea(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,w=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ea(f,g,T,w,h),Go(8,g);break;case 23:break;case 22:var q=g.stateNode;g.memoizedState!==null?q._visibility&2?Ea(f,g,T,w,h):Yo(f,g):(q._visibility|=2,Ea(f,g,T,w,h)),h&&P&2048&&Nf(g.alternate,g);break;case 24:Ea(f,g,T,w,h),h&&P&2048&&Of(g.alternate,g);break;default:Ea(f,g,T,w,h)}n=n.sibling}}function Yo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Yo(s,o),h&2048&&Nf(o.alternate,o);break;case 24:Yo(s,o),h&2048&&Of(o.alternate,o);break;default:Yo(s,o)}n=n.sibling}}var Ko=8192;function Sa(e,n,s){if(e.subtreeFlags&Ko)for(e=e.child;e!==null;)ey(e,n,s),e=e.sibling}function ey(e,n,s){switch(e.tag){case 26:Sa(e,n,s),e.flags&Ko&&e.memoizedState!==null&&LS(s,Gn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,s);break;case 3:case 4:var o=Gn;Gn=Wu(e.stateNode.containerInfo),Sa(e,n,s),Gn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Ko,Ko=16777216,Sa(e,n,s),Ko=o):Sa(e,n,s));break;default:Sa(e,n,s)}}function ny(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Xo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];xe=o,sy(o,e)}ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)iy(e),e=e.sibling}function iy(e){switch(e.tag){case 0:case 11:case 15:Xo(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:Xo(e);break;case 12:Xo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Bu(e)):Xo(e);break;default:Xo(e)}}function Bu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];xe=o,sy(o,e)}ny(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),Bu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Bu(n));break;default:Bu(n)}e=e.sibling}}function sy(e,n){for(;xe!==null;){var s=xe;switch(s.tag){case 0:case 11:case 15:Ss(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Mo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,xe=o;else t:for(s=e;xe!==null;){o=xe;var h=o.sibling,f=o.return;if(Kp(o),o===s){xe=null;break t}if(h!==null){h.return=f,xe=h;break t}xe=f}}}var $0={getCacheForType:function(e){var n=ze(Te),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return ze(Te).controller.signal}},W0=typeof WeakMap=="function"?WeakMap:Map,jt=0,$t=null,Rt=null,Ct=0,Gt=0,gn=null,As=!1,Aa=!1,Mf=!1,Fi=0,ue=0,bs=0,Dr=0,Vf=0,pn=0,ba=0,Zo=null,an=null,xf=!1,ju=0,ry=0,qu=1/0,Hu=null,Rs=null,De=0,ws=null,Ra=null,Gi=0,Uf=0,kf=null,ay=null,Jo=0,Lf=null;function yn(){return(jt&2)!==0&&Ct!==0?Ct&-Ct:F.T!==null?Hf():Fl()}function oy(){if(pn===0)if((Ct&536870912)===0||Mt){var e=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),pn=e}else pn=536870912;return e=dn.current,e!==null&&(e.flags|=32),pn}function on(e,n,s){(e===$t&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(wa(e,0),Cs(e,Ct,pn,!1)),ir(e,s),((jt&2)===0||e!==$t)&&(e===$t&&((jt&2)===0&&(Dr|=s),ue===4&&Cs(e,Ct,pn,!1)),yi(e))}function ly(e,n,s){if((jt&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||kn(e,n),h=o?nS(e,n):zf(e,n,!0),f=o;do{if(h===0){Aa&&!o&&Cs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!tS(s)){h=zf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=Zo;var w=T.current.memoizedState.isDehydrated;if(w&&(wa(T,g).flags|=256),g=zf(T,g,!1),g!==2){if(Mf&&!w){T.errorRecoveryDisabledLanes|=f,Dr|=f,h=4;break t}f=an,an=h,f!==null&&(an===null?an=f:an.push.apply(an,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){wa(e,0),Cs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Cs(o,n,pn,!As);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=ju+300-Je(),10<h)){if(Cs(o,n,pn,!As),Wn(o,0,!0)!==0)break t;Gi=n,o.timeoutHandle=zy(uy.bind(null,o,s,an,Hu,xf,n,pn,Dr,ba,As,f,"Throttled",-0,0),h);break t}uy(o,s,an,Hu,xf,n,pn,Dr,ba,As,f,null,-0,0)}}break}while(!0);yi(e)}function uy(e,n,s,o,h,f,g,T,w,P,q,Q,z,j){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},ey(n,f,Q);var rt=(f&62914560)===f?ju-Je():(f&4194048)===f?ry-Je():0;if(rt=PS(Q,rt),rt!==null){Gi=f,e.cancelPendingCommit=rt(yy.bind(null,e,n,f,s,o,h,g,T,w,q,Q,null,z,j)),Cs(e,f,g,!P);return}}yy(e,n,f,s,o,h,g,T,w)}function tS(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!hn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(e,n,s,o){n&=~Vf,n&=~Dr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&sr(e,s,n)}function Fu(){return(jt&6)===0?($o(0),!1):!0}function Pf(){if(Rt!==null){if(Gt===0)var e=Rt.return;else e=Rt,xi=Tr=null,Wh(e),pa=null,xo=0,e=Rt;for(;e!==null;)Bp(e.alternate,e),e=e.return;Rt=null}}function wa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,TS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Gi=0,Pf(),$t=e,Rt=s=Mi(e.current,null),Ct=n,Gt=0,gn=null,As=!1,Aa=kn(e,n),Mf=!1,ba=pn=Vf=Dr=bs=ue=0,an=Zo=null,xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return Fi=n,hu(),s}function cy(e,n){St=null,F.H=qo,n===ga||n===vu?(n=wg(),Gt=3):n===jh?(n=wg(),Gt=4):Gt=n===pf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Rt===null&&(ue=1,Vu(e,Rn(n,e.current)))}function hy(){var e=dn.current;return e===null?!0:(Ct&4194048)===Ct?Dn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===Dn:!1}function fy(){var e=F.H;return F.H=qo,e===null?qo:e}function dy(){var e=F.A;return F.A=$0,e}function Gu(){ue=4,As||(Ct&4194048)!==Ct&&dn.current!==null||(Aa=!0),(bs&134217727)===0&&(Dr&134217727)===0||$t===null||Cs($t,Ct,pn,!1)}function zf(e,n,s){var o=jt;jt|=2;var h=fy(),f=dy();($t!==e||Ct!==n)&&(Hu=null,wa(e,n)),n=!1;var g=ue;t:do try{if(Gt!==0&&Rt!==null){var T=Rt,w=gn;switch(Gt){case 8:Pf(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var P=Gt;if(Gt=0,gn=null,Ca(e,T,w,P),s&&Aa){g=0;break t}break;default:P=Gt,Gt=0,gn=null,Ca(e,T,w,P)}}eS(),g=ue;break}catch(q){cy(e,q)}while(!0);return n&&e.shellSuspendCounter++,xi=Tr=null,jt=o,F.H=h,F.A=f,Rt===null&&($t=null,Ct=0,hu()),g}function eS(){for(;Rt!==null;)my(Rt)}function nS(e,n){var s=jt;jt|=2;var o=fy(),h=dy();$t!==e||Ct!==n?(Hu=null,qu=Je()+500,wa(e,n)):Aa=kn(e,n);t:do try{if(Gt!==0&&Rt!==null){n=Rt;var f=gn;e:switch(Gt){case 1:Gt=0,gn=null,Ca(e,n,f,1);break;case 2:case 9:if(bg(f)){Gt=0,gn=null,gy(n);break}n=function(){Gt!==2&&Gt!==9||$t!==e||(Gt=7),yi(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:bg(f)?(Gt=0,gn=null,gy(n)):(Gt=0,gn=null,Ca(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var T=Rt;if(g?t_(g):T.stateNode.complete){Gt=0,gn=null;var w=T.sibling;if(w!==null)Rt=w;else{var P=T.return;P!==null?(Rt=P,Qu(P)):Rt=null}break e}}Gt=0,gn=null,Ca(e,n,f,5);break;case 6:Gt=0,gn=null,Ca(e,n,f,6);break;case 8:Pf(),ue=6;break t;default:throw Error(r(462))}}iS();break}catch(q){cy(e,q)}while(!0);return xi=Tr=null,F.H=o,F.A=h,jt=s,Rt!==null?0:($t=null,Ct=0,hu(),ue)}function iS(){for(;Rt!==null&&!mh();)my(Rt)}function my(e){var n=Pp(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?Qu(e):Rt=n}function gy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Mp(s,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=Mp(s,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:Wh(n);default:Bp(s,n),n=Rt=dg(n,Fi),n=Pp(s,n,Fi)}e.memoizedProps=e.pendingProps,n===null?Qu(e):Rt=n}function Ca(e,n,s,o){xi=Tr=null,Wh(n),pa=null,xo=0;var h=n.return;try{if(G0(e,h,n,s,Ct)){ue=1,Vu(e,Rn(s,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ue=1,Vu(e,Rn(s,e.current)),Rt=null;return}n.flags&32768?(Mt||o===1?e=!0:Aa||(Ct&536870912)!==0?e=!1:(As=e=!0,(o===2||o===9||o===3||o===6)&&(o=dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),py(n,e)):Qu(n)}function Qu(e){var n=e;do{if((n.flags&32768)!==0){py(n,As);return}e=n.return;var s=K0(n.alternate,n,Fi);if(s!==null){Rt=s;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ue===0&&(ue=5)}function py(e,n){do{var s=X0(e.alternate,e);if(s!==null){s.flags&=32767,Rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=s}while(e!==null);ue=6,Rt=null}function yy(e,n,s,o,h,f,g,T,w){e.cancelPendingCommit=null;do Yu();while(De!==0);if((jt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=wh,yh(e,s,f,g,T,w),e===$t&&(Rt=$t=null,Ct=0),Ra=n,ws=e,Gi=s,Uf=f,kf=h,ay=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,oS(is,function(){return Sy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=et.p,et.p=2,g=jt,jt|=4;try{Z0(e,n,s)}finally{jt=g,et.p=h,F.T=o}}De=1,_y(),vy(),Ty()}}function _y(){if(De===1){De=0;var e=ws,n=Ra,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=et.p;et.p=2;var h=jt;jt|=4;try{$p(n,e);var f=Jf,g=sg(e.containerInfo),T=f.focusedElem,w=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&ig(T.ownerDocument.documentElement,T)){if(w!==null&&Eh(T)){var P=w.start,q=w.end;if(q===void 0&&(q=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(q,T.value.length);else{var Q=T.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var j=z.getSelection(),rt=T.textContent.length,mt=Math.min(w.start,rt),Jt=w.end===void 0?mt:Math.min(w.end,rt);!j.extend&&mt>Jt&&(g=Jt,Jt=mt,mt=g);var x=ng(T,mt),D=ng(T,Jt);if(x&&D&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==D.node||j.focusOffset!==D.offset)){var L=Q.createRange();L.setStart(x.node,x.offset),j.removeAllRanges(),mt>Jt?(j.addRange(L),j.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),j.addRange(L))}}}}for(Q=[],j=T;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var G=Q[T];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}rc=!!Zf,Jf=Zf=null}finally{jt=h,et.p=o,F.T=s}}e.current=n,De=2}}function vy(){if(De===2){De=0;var e=ws,n=Ra,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=et.p;et.p=2;var h=jt;jt|=4;try{Yp(e,n.alternate,n)}finally{jt=h,et.p=o,F.T=s}}De=3}}function Ty(){if(De===4||De===3){De=0,Ll();var e=ws,n=Ra,s=Gi,o=ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Ra=ws=null,Ey(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rs=null),Ii(s),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{F.T=n,et.p=h}}(Gi&3)!==0&&Yu(),yi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Lf?Jo++:(Jo=0,Lf=e):Jo=0,$o(0)}}function Ey(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Mo(n)))}function Yu(){return _y(),vy(),Ty(),Sy()}function Sy(){if(De!==5)return!1;var e=ws,n=Uf;Uf=0;var s=Ii(Gi),o=F.T,h=et.p;try{et.p=32>s?32:s,F.T=null,s=kf,kf=null;var f=ws,g=Gi;if(De=0,Ra=ws=null,Gi=0,(jt&6)!==0)throw Error(r(331));var T=jt;if(jt|=4,iy(f.current),ty(f,f.current,g,s),jt=T,$o(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{et.p=h,F.T=o,Ey(e,n)}}function Ay(e,n,s){n=Rn(s,n),n=gf(e.stateNode,n,2),e=vs(e,n,2),e!==null&&(ir(e,2),yi(e))}function Qt(e,n,s){if(e.tag===3)Ay(e,e,s);else for(;n!==null;){if(n.tag===3){Ay(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){e=Rn(s,e),s=bp(2),o=vs(n,s,2),o!==null&&(Rp(s,o,n,e),ir(o,2),yi(o));break}}n=n.return}}function Bf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new W0;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Mf=!0,h.add(s),e=sS.bind(null,e,n,s),n.then(e,e))}function sS(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,$t===e&&(Ct&s)===s&&(ue===4||ue===3&&(Ct&62914560)===Ct&&300>Je()-ju?(jt&2)===0&&wa(e,0):Vf|=s,ba===Ct&&(ba=0)),yi(e)}function by(e,n){n===0&&(n=Hl()),e=yr(e,n),e!==null&&(ir(e,n),yi(e))}function rS(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),by(e,s)}function aS(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),by(e,s)}function oS(e,n){return Ie(e,n)}var Ku=null,Ia=null,jf=!1,Xu=!1,qf=!1,Is=0;function yi(e){e!==Ia&&e.next===null&&(Ia===null?Ku=Ia=e:Ia=Ia.next=e),Xu=!0,jf||(jf=!0,uS())}function $o(e,n){if(!qf&&Xu){qf=!0;do for(var s=!1,o=Ku;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Iy(o,f))}else f=Ct,f=Wn(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||kn(o,f)||(s=!0,Iy(o,f));o=o.next}while(s);qf=!1}}function lS(){Ry()}function Ry(){Xu=jf=!1;var e=0;Is!==0&&vS()&&(e=Is);for(var n=Je(),s=null,o=Ku;o!==null;){var h=o.next,f=wy(o,n);f===0?(o.next=null,s===null?Ku=h:s.next=h,h===null&&(Ia=s)):(s=o,(e!==0||(f&3)!==0)&&(Xu=!0)),o=h}De!==0&&De!==5||$o(e),Is!==0&&(Is=0)}function wy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),T=1<<g,w=h[g];w===-1?((T&s)===0||(T&o)!==0)&&(h[g]=ph(T,n)):w<=n&&(e.expiredLanes|=T),f&=~T}if(n=$t,s=Ct,s=Wn(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ns(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||kn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ns(o),Ii(s)){case 2:case 8:s=oo;break;case 32:s=is;break;case 268435456:s=Pl;break;default:s=is}return o=Cy.bind(null,e),s=Ie(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ns(o),e.callbackPriority=2,e.callbackNode=null,2}function Cy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Yu()&&e.callbackNode!==s)return null;var o=Ct;return o=Wn(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ly(e,o,n),wy(e,Je()),e.callbackNode!=null&&e.callbackNode===s?Cy.bind(null,e):null)}function Iy(e,n){if(Yu())return null;ly(e,n,!0)}function uS(){ES(function(){(jt&6)!==0?Ie(ao,lS):Ry()})}function Hf(){if(Is===0){var e=da;e===0&&(e=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Is=e}return Is}function Dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$r(""+e)}function Ny(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function cS(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Dy((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?Dy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new ci("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Is!==0){var w=g?Ny(h,g):new FormData(h);uf(s,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(T.preventDefault(),w=g?Ny(h,g):new FormData(h),uf(s,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var Ff=0;Ff<Rh.length;Ff++){var Gf=Rh[Ff],hS=Gf.toLowerCase(),fS=Gf[0].toUpperCase()+Gf.slice(1);Fn(hS,"on"+fS)}Fn(og,"onAnimationEnd"),Fn(lg,"onAnimationIteration"),Fn(ug,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(I0,"onTransitionRun"),Fn(D0,"onTransitionStart"),Fn(N0,"onTransitionCancel"),Fn(cg,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function Oy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],w=T.instance,P=T.currentTarget;if(T=T.listener,w!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(q){cu(q)}h.currentTarget=null,f=w}else for(g=0;g<o.length;g++){if(T=o[g],w=T.instance,P=T.currentTarget,T=T.listener,w!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(q){cu(q)}h.currentTarget=null,f=w}}}}function wt(e,n){var s=n[Yr];s===void 0&&(s=n[Yr]=new Set);var o=e+"__bubble";s.has(o)||(My(n,e,2,!1),s.add(o))}function Qf(e,n,s){var o=0;n&&(o|=4),My(s,e,o,n)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Yf(e){if(!e[Zu]){e[Zu]=!0,co.forEach(function(s){s!=="selectionchange"&&(dS.has(s)||Qf(s,!1,e),Qf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Zu]||(n[Zu]=!0,Qf("selectionchange",!1,n))}}function My(e,n,s,o){switch(o_(n)){case 2:var h=jS;break;case 8:h=qS;break;default:h=ld}s=h.bind(null,n,s,e),h=void 0,!ur||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Kf(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=ii(T),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){o=f=g;continue t}T=T.parentNode}}o=o.return}us(function(){var P=f,q=En(s),Q=[];t:{var z=hg.get(e);if(z!==void 0){var j=ci,rt=e;switch(e){case"keypress":if(hr(s)===0)break t;case"keydown":case"keyup":j=ou;break;case"focusin":rt="focus",j=dr;break;case"focusout":rt="blur",j=dr;break;case"beforeblur":case"afterblur":j=dr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=$l;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case og:case lg:case ug:j=tu;break;case cg:j=E;break;case"scroll":case"scrollend":j=Ao;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Oi;break;case"toggle":case"beforetoggle":j=Et}var mt=(n&4)!==0,Jt=!mt&&(e==="scroll"||e==="scrollend"),x=mt?z!==null?z+"Capture":null:z;mt=[];for(var D=P,L;D!==null;){var G=D;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||x===null||(G=Bn(D,x),G!=null&&mt.push(tl(D,G,L))),Jt)break;D=D.return}0<mt.length&&(z=new j(z,rt,null,s,q),Q.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&s!==To&&(rt=s.relatedTarget||s.fromElement)&&(ii(rt)||rt[ei]))break t;if((j||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,j?(rt=s.relatedTarget||s.toElement,j=P,rt=rt?ii(rt):null,rt!==null&&(Jt=c(rt),mt=rt.tag,rt!==Jt||mt!==5&&mt!==27&&mt!==6)&&(rt=null)):(j=null,rt=P),j!==rt)){if(mt=bo,G="onMouseLeave",x="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Oi,G="onPointerLeave",x="onPointerEnter",D="pointer"),Jt=j==null?z:un(j),L=rt==null?z:un(rt),z=new mt(G,D+"leave",j,s,q),z.target=Jt,z.relatedTarget=L,G=null,ii(q)===P&&(mt=new mt(x,D+"enter",rt,s,q),mt.target=L,mt.relatedTarget=Jt,G=mt),Jt=G,j&&rt)e:{for(mt=mS,x=j,D=rt,L=0,G=x;G;G=mt(G))L++;G=0;for(var ct=D;ct;ct=mt(ct))G++;for(;0<L-G;)x=mt(x),L--;for(;0<G-L;)D=mt(D),G--;for(;L--;){if(x===D||D!==null&&x===D.alternate){mt=x;break e}x=mt(x),D=mt(D)}mt=null}else mt=null;j!==null&&Vy(Q,z,j,mt,!1),rt!==null&&Jt!==null&&Vy(Q,Jt,rt,mt,!0)}}t:{if(z=P?un(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var Pt=Zm;else if(Km(z))if(Jm)Pt=R0;else{Pt=A0;var ot=S0}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Jr(P.elementType)&&(Pt=Zm):Pt=b0;if(Pt&&(Pt=Pt(e,P))){Xm(Q,Pt,s,q);break t}ot&&ot(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&yo(z,"number",z.value)}switch(ot=P?un(P):window,e){case"focusin":(Km(ot)||ot.contentEditable==="true")&&(ra=ot,Sh=P,Do=null);break;case"focusout":Do=Sh=ra=null;break;case"mousedown":Ah=!0;break;case"contextmenu":case"mouseup":case"dragend":Ah=!1,rg(Q,s,q);break;case"selectionchange":if(C0)break;case"keydown":case"keyup":rg(Q,s,q)}var bt;if(Bt)t:{switch(e){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else sa?mr(e,s)&&(It="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(It="onCompositionStart");It&&(di&&s.locale!=="ko"&&(sa||It!=="onCompositionStart"?It==="onCompositionEnd"&&sa&&(bt=So()):(ui=q,Eo="value"in ui?ui.value:ui.textContent,sa=!0)),ot=Ju(P,It),0<ot.length&&(It=new fi(It,e,null,s,q),Q.push({event:It,listeners:ot}),bt?It.data=bt:(bt=ia(s),bt!==null&&(It.data=bt)))),(bt=An?_0(e,s):v0(e,s))&&(It=Ju(P,"onBeforeInput"),0<It.length&&(ot=new fi("onBeforeInput","beforeinput",null,s,q),Q.push({event:ot,listeners:It}),ot.data=bt)),cS(Q,e,P,s,q)}Oy(Q,n)})}function tl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ju(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(e,s),h!=null&&o.unshift(tl(e,h,f)),h=Bn(e,n),h!=null&&o.push(tl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function mS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var T=s,w=T.alternate,P=T.stateNode;if(T=T.tag,w!==null&&w===o)break;T!==5&&T!==26&&T!==27||P===null||(w=P,h?(P=Bn(s,f),P!=null&&g.unshift(tl(s,P,w))):h||(P=Bn(s,f),P!=null&&g.push(tl(s,P,w)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var gS=/\r\n?/g,pS=/\u0000|\uFFFD/g;function xy(e){return(typeof e=="string"?e:""+e).replace(gS,`
`).replace(pS,"")}function Uy(e,n){return n=xy(n),xy(e)===n}function Zt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||en(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&en(e,""+o);break;case"className":cn(e,"class",o);break;case"tabIndex":cn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(e,s,o);break;case"style":vo(e,o,f);break;case"data":if(n!=="object"){cn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=$r(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=$r(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=$r(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":wt("beforetoggle",e),wt("toggle",e),Xr(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Jl.get(s)||s,Xr(e,s,o))}}function Xf(e,n,s,o,h,f){switch(s){case"style":vo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?en(e,o):(typeof o=="number"||typeof o=="bigint")&&en(e,""+o);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ho.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Xr(e,s,o)}}}function je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",e),wt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,f,g,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),o&&Zt(e,n,"src",s.src,s,null);return;case"input":wt("invalid",e);var T=f=g=h=null,w=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var q=s[o];if(q!=null)switch(o){case"name":h=q;break;case"type":g=q;break;case"checked":w=q;break;case"defaultChecked":P=q;break;case"value":f=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:Zt(e,n,o,q,s,null)}}Kl(e,f,T,w,P,g,h,!1);return;case"select":wt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:Zt(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!o,n!=null?rs(e,!!o,n,!1):s!=null&&rs(e,!!o,s,!0);return;case"textarea":wt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Zt(e,n,g,T,s,null)}as(e,o,h,f);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(o=s[w],o!=null))switch(w){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,n,w,o,s,null)}return;case"dialog":wt("beforetoggle",e),wt("toggle",e),wt("cancel",e),wt("close",e);break;case"iframe":case"object":wt("load",e);break;case"video":case"audio":for(o=0;o<Wo.length;o++)wt(Wo[o],e);break;case"image":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"embed":case"source":case"link":wt("error",e),wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,P,o,s,null)}return;default:if(Jr(n)){for(q in s)s.hasOwnProperty(q)&&(o=s[q],o!==void 0&&Xf(e,n,q,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&Zt(e,n,T,o,s,null))}function yS(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,w=null,P=null,q=null;for(j in s){var Q=s[j];if(s.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=Q;default:o.hasOwnProperty(j)||Zt(e,n,j,null,o,Q)}}for(var z in o){var j=o[z];if(Q=s[z],o.hasOwnProperty(z)&&(j!=null||Q!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":P=j;break;case"defaultChecked":q=j;break;case"value":g=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:j!==Q&&Zt(e,n,z,j,o,Q)}}Zr(e,g,T,w,P,q,f,h);return;case"select":j=g=T=z=null;for(f in s)if(w=s[f],s.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":j=w;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,w)}for(h in o)if(f=o[h],w=s[h],o.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==w&&Zt(e,n,h,f,o,w)}n=T,s=g,o=j,z!=null?rs(e,!!s,z,!1):!!o!=!!s&&(n!=null?rs(e,!!s,n,!0):rs(e,!!s,s?[]:"",!1));return;case"textarea":j=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}Xl(e,z,j);return;case"option":for(var rt in s)if(z=s[rt],s.hasOwnProperty(rt)&&z!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:Zt(e,n,rt,null,o,z)}for(w in o)if(z=o[w],j=s[w],o.hasOwnProperty(w)&&z!==j&&(z!=null||j!=null))switch(w){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Zt(e,n,w,z,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in s)z=s[mt],s.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&Zt(e,n,mt,null,o,z);for(P in o)if(z=o[P],j=s[P],o.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Zt(e,n,P,z,o,j)}return;default:if(Jr(n)){for(var Jt in s)z=s[Jt],s.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&Xf(e,n,Jt,void 0,o,z);for(q in o)z=o[q],j=s[q],!o.hasOwnProperty(q)||z===j||z===void 0&&j===void 0||Xf(e,n,q,z,o,j);return}}for(var x in s)z=s[x],s.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Zt(e,n,x,null,o,z);for(Q in o)z=o[Q],j=s[Q],!o.hasOwnProperty(Q)||z===j||z==null&&j==null||Zt(e,n,Q,z,o,j)}function ky(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _S(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&ky(g)){for(g=0,T=h.responseEnd,o+=1;o<s.length;o++){var w=s[o],P=w.startTime;if(P>T)break;var q=w.transferSize,Q=w.initiatorType;q&&ky(Q)&&(w=w.responseEnd,g+=q*(w<T?1:(T-P)/(w-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zf=null,Jf=null;function $u(e){return e.nodeType===9?e:e.ownerDocument}function Ly(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function $f(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wf=null;function vS(){var e=window.event;return e&&e.type==="popstate"?e===Wf?!1:(Wf=e,!0):(Wf=null,!1)}var zy=typeof setTimeout=="function"?setTimeout:void 0,TS=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,ES=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(e){return By.resolve(null).then(e).catch(SS)}:zy;function SS(e){setTimeout(function(){throw e})}function Ds(e){return e==="head"}function jy(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ma(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")el(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,el(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[ni]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&el(e.ownerDocument.body);s=h}while(s);Ma(n)}function qy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function td(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":td(s),Kr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function AS(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ni])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function bS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Nn(e.nextSibling),e===null))return null;return e}function Hy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function ed(e){return e.data==="$?"||e.data==="$~"}function nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function RS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var id=null;function Fy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Nn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Gy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Qy(e,n,s){switch(n=$u(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function el(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Kr(e)}var On=new Map,Yy=new Set;function Wu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=et.d;et.d={f:wS,r:CS,D:IS,C:DS,L:NS,m:OS,X:VS,S:MS,M:xS};function wS(){var e=Qi.f(),n=Fu();return e||n}function CS(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?cp(n):Qi.r(e)}var Da=typeof document>"u"?null:document;function Ky(e,n,s){var o=Da;if(o&&typeof n=="string"&&n){var h=tn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Yy.has(h)||(Yy.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),je(n,"link",e),_e(n),o.head.appendChild(n)))}}function IS(e){Qi.D(e),Ky("dns-prefetch",e,null)}function DS(e,n){Qi.C(e,n),Ky("preconnect",e,n)}function NS(e,n,s){Qi.L(e,n,s);var o=Da;if(o&&e&&n){var h='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+tn(s.imageSizes)+'"]')):h+='[href="'+tn(e)+'"]';var f=h;switch(n){case"style":f=Na(e);break;case"script":f=Oa(e)}On.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),On.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(nl(f))||n==="script"&&o.querySelector(il(f))||(n=o.createElement("link"),je(n,"link",e),_e(n),o.head.appendChild(n)))}}function OS(e,n){Qi.m(e,n);var s=Da;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+tn(o)+'"][href="'+tn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!On.has(f)&&(e=A({rel:"modulepreload",href:e},n),On.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(il(f)))return}o=s.createElement("link"),je(o,"link",e),_e(o),s.head.appendChild(o)}}}function MS(e,n,s){Qi.S(e,n,s);var o=Da;if(o&&e){var h=si(o).hoistableStyles,f=Na(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(nl(f)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=On.get(f))&&sd(e,s);var w=g=o.createElement("link");_e(w),je(w,"link",e),w._p=new Promise(function(P,q){w.onload=P,w.onerror=q}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,tc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function VS(e,n){Qi.X(e,n);var s=Da;if(s&&e){var o=si(s).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=s.querySelector(il(h)),f||(e=A({src:e,async:!0},n),(n=On.get(h))&&rd(e,n),f=s.createElement("script"),_e(f),je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function xS(e,n){Qi.M(e,n);var s=Da;if(s&&e){var o=si(s).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=s.querySelector(il(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=On.get(h))&&rd(e,n),f=s.createElement("script"),_e(f),je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Xy(e,n,s,o){var h=(h=At.current)?Wu(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Na(s.href),s=si(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Na(s.href);var f=si(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(nl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),On.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},On.set(e,s),f||US(h,e,s,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Oa(s),s=si(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Na(e){return'href="'+tn(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function Zy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function US(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",s),_e(n),e.head.appendChild(n))}function Oa(e){return'[src="'+tn(e)+'"]'}function il(e){return"script[async]"+e}function Jy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+tn(s.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),je(o,"style",h),tc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Na(s.href);var f=e.querySelector(nl(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=Zy(s),(h=On.get(h))&&sd(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(T,w){g.onload=T,g.onerror=w}),je(f,"link",o),n.state.loading|=4,tc(f,s.precedence,e),n.instance=f;case"script":return f=Oa(s.src),(h=e.querySelector(il(f)))?(n.instance=h,_e(h),h):(o=s,(h=On.get(f))&&(o=A({},s),rd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,tc(o,s.precedence,e));return n.instance}function tc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ec=null;function $y(e,n,s){if(ec===null){var o=new Map,h=ec=new Map;h.set(s,o)}else h=ec,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ni]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function Wy(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function kS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function t_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function LS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Na(o.href),f=n.querySelector(nl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=nc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,_e(f);return}f=n.ownerDocument||n,o=Zy(o),(h=On.get(h))&&sd(o,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(T,w){g.onload=T,g.onerror=w}),je(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=nc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var ad=0;function PS(e,n){return e.stylesheets&&e.count===0&&sc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&sc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&ad===0&&(ad=62500*_S());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&sc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ad?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ic=null;function sc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ic=new Map,n.forEach(zS,e),ic=null,nc.call(e))}function zS(e,n){if(!(n.state.loading&4)){var s=ic.get(e);if(s)var o=s.get(null);else{s=new Map,ic.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var sl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function BS(e,n,s,o,h,f,g,T,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function e_(e,n,s,o,h,f,g,T,w,P,q,Q){return e=new BS(e,n,s,g,w,P,q,Q,T),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),e.current=f,f.stateNode=e,n=Ph(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},qh(f),e}function n_(e){return e?(e=la,e):la}function i_(e,n,s,o,h,f){h=n_(h),o.context===null?o.context=h:o.pendingContext=h,o=_s(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=vs(e,o,n),s!==null&&(on(s,e,n),ko(s,e,n))}function s_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function od(e,n){s_(e,n),(e=e.alternate)&&s_(e,n)}function r_(e){if(e.tag===13||e.tag===31){var n=yr(e,67108864);n!==null&&on(n,e,67108864),od(e,67108864)}}function a_(e){if(e.tag===13||e.tag===31){var n=yn();n=rr(n);var s=yr(e,n);s!==null&&on(s,e,n),od(e,n)}}var rc=!0;function jS(e,n,s,o){var h=F.T;F.T=null;var f=et.p;try{et.p=2,ld(e,n,s,o)}finally{et.p=f,F.T=h}}function qS(e,n,s,o){var h=F.T;F.T=null;var f=et.p;try{et.p=8,ld(e,n,s,o)}finally{et.p=f,F.T=h}}function ld(e,n,s,o){if(rc){var h=ud(o);if(h===null)Kf(e,n,o,ac,s),l_(e,o);else if(FS(h,e,n,s,o))o.stopPropagation();else if(l_(e,o),n&4&&-1<HS.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=$n(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var w=1<<31-ce(g);T.entanglements[1]|=w,g&=~w}yi(f),(jt&6)===0&&(qu=Je()+500,$o(0))}}break;case 31:case 13:T=yr(f,2),T!==null&&on(T,f,2),Fu(),od(f,2)}if(f=ud(o),f===null&&Kf(e,n,o,ac,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Kf(e,n,o,null,s)}}function ud(e){return e=En(e),cd(e)}var ac=null;function cd(e){if(ac=null,e=ii(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ac=e,null}function o_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(er()){case ao:return 2;case oo:return 8;case is:case gh:return 32;case Pl:return 268435456;default:return 32}default:return 32}}var hd=!1,Ns=null,Os=null,Ms=null,rl=new Map,al=new Map,Vs=[],HS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(e,n){switch(e){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(n.pointerId)}}function ol(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&r_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function FS(e,n,s,o,h){switch(n){case"focusin":return Ns=ol(Ns,e,n,s,o,h),!0;case"dragenter":return Os=ol(Os,e,n,s,o,h),!0;case"mouseover":return Ms=ol(Ms,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return rl.set(f,ol(rl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,al.set(f,ol(al.get(f)||null,e,n,s,o,h)),!0}return!1}function u_(e){var n=ii(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Ln(e.priority,function(){a_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Ln(e.priority,function(){a_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=ud(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);To=o,s.target.dispatchEvent(o),To=null}else return n=Tn(s),n!==null&&r_(n),e.blockedOn=s,!1;n.shift()}return!0}function c_(e,n,s){oc(e)&&s.delete(n)}function GS(){hd=!1,Ns!==null&&oc(Ns)&&(Ns=null),Os!==null&&oc(Os)&&(Os=null),Ms!==null&&oc(Ms)&&(Ms=null),rl.forEach(c_),al.forEach(c_)}function lc(e,n){e.blockedOn===n&&(e.blockedOn=null,hd||(hd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,GS)))}var uc=null;function h_(e){uc!==e&&(uc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){uc===e&&(uc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(cd(o||s)===null)continue;break}var f=Tn(s);f!==null&&(e.splice(n,3),n-=3,uf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ma(e){function n(w){return lc(w,e)}Ns!==null&&lc(Ns,e),Os!==null&&lc(Os,e),Ms!==null&&lc(Ms,e),rl.forEach(n),al.forEach(n);for(var s=0;s<Vs.length;s++){var o=Vs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vs.length&&(s=Vs[0],s.blockedOn===null);)u_(s),s.blockedOn===null&&Vs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Me]||null;if(typeof f=="function")g||h_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)T=g.formAction;else if(cd(h)!==null)continue}else T=g.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),h_(s)}}}function f_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function fd(e){this._internalRoot=e}cc.prototype.render=fd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=yn();i_(s,o,e,n,null,null)},cc.prototype.unmount=fd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;i_(e.current,2,null,e,null,null),Fu(),n[ei]=null}};function cc(e){this._internalRoot=e}cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Fl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Vs.length&&n!==0&&n<Vs[s].priority;s++);Vs.splice(s,0,e),s===0&&u_(e)}};var d_=t.version;if(d_!=="19.2.0")throw Error(r(527,d_,"19.2.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var QS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Un=hc.inject(QS),ke=hc}catch{}}return ul.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",h=Tp,f=Ep,g=Sp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=e_(e,1,!1,null,null,s,o,null,h,f,g,f_),e[ei]=n.current,Yf(e),new fd(n)},ul.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,h="",f=Tp,g=Ep,T=Sp,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(w=s.formState)),n=e_(e,1,!0,n,s??null,o,h,w,f,g,T,f_),n.context=n_(null),s=n.current,o=yn(),o=rr(o),h=_s(o),h.callback=null,vs(s,h,o),s=o,n.current.lanes=s,ir(n,s),yi(n),e[ei]=n.current,Yf(e),new cc(n)},ul.version="19.2.0",ul}var A_;function iA(){if(A_)return gd.exports;A_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),gd.exports=nA(),gd.exports}var sA=iA();const rA=Jv(sA),aA=()=>{};var b_={};const $v=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},oA=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],p=a[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(v>>10)),t[r++]=String.fromCharCode(56320+(v&1023))}else{const c=a[i++],d=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,p=d?a[l+1]:0,v=l+2<a.length,y=v?a[l+2]:0,S=c>>2,A=(c&3)<<4|p>>4;let V=(p&15)<<2|y>>6,H=y&63;v||(H=64,d||(V=64)),r.push(i[S],i[A],i[V],i[H])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray($v(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):oA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const y=l<a.length?i[a.charAt(l)]:64;++l;const A=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||p==null||y==null||A==null)throw new lA;const V=c<<2|p>>4;if(r.push(V),y!==64){const H=p<<4&240|y>>2;if(r.push(H),A!==64){const W=y<<6&192|A;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class lA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uA=function(a){const t=$v(a);return Wv.encodeByteArray(t,!0)},Dc=function(a){return uA(a).replace(/\./g,"")},tT=function(a){try{return Wv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function cA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hA=()=>cA().__FIREBASE_DEFAULTS__,fA=()=>{if(typeof process>"u"||typeof b_>"u")return;const a=b_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},dA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&tT(a[1]);return t&&JSON.parse(t)},Zc=()=>{try{return aA()||hA()||fA()||dA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},eT=a=>Zc()?.emulatorHosts?.[a],nT=a=>{const t=eT(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},iT=()=>Zc()?.config,sT=a=>Zc()?.[`_${a}`];class mA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Pr(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rm(a){return(await fetch(a,{credentials:"include"})).ok}function gA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Dc(JSON.stringify(i)),Dc(JSON.stringify(d)),""].join(".")}const dl={};function pA(){const a={prod:[],emulator:[]};for(const t of Object.keys(dl))dl[t]?a.emulator.push(t):a.prod.push(t);return a}function yA(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let R_=!1;function am(a,t){if(typeof window>"u"||typeof document>"u"||!Pr(window.location.host)||dl[a]===t||dl[a]||R_)return;dl[a]=t;function i(V){return`__firebase__banner__${V}`}const r="__firebase__banner",c=pA().prod.length>0;function d(){const V=document.getElementById(r);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,H){V.setAttribute("width","24"),V.setAttribute("id",H),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{R_=!0,d()},V}function S(V,H){V.setAttribute("id",H),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function A(){const V=yA(r),H=i("text"),W=document.getElementById(H)||document.createElement("span"),X=i("learnmore"),$=document.getElementById(X)||document.createElement("a"),at=i("preprendIcon"),dt=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ut=V.element;p(ut),S($,X);const Lt=y();v(dt,at),ut.append(dt,W,$,Lt),document.body.appendChild(ut)}c?(W.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _A(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function vA(){const a=Zc()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function SA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AA(){const a=Ze();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function bA(){return!vA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RA(){try{return typeof indexedDB=="object"}catch{return!1}}function wA(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const CA="FirebaseError";class es extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=CA,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cl.prototype.create)}}class Cl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?IA(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new es(l,p,r)}}function IA(a,t){return a.replace(DA,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const DA=/\{\$([^}]+)}/g;function NA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Vr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=a[l],d=t[l];if(w_(c)&&w_(d)){if(!Vr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function w_(a){return a!==null&&typeof a=="object"}function Il(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function OA(a,t){const i=new MA(a,t);return i.subscribe.bind(i)}class MA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");VA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=vd),l.error===void 0&&(l.error=vd),l.complete===void 0&&(l.complete=vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function vd(){}function _n(a){return a&&a._delegate?a._delegate:a}class Qs{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Nr="[DEFAULT]";class xA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new mA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kA(t))try{this.getOrInitializeService({instanceIdentifier:Nr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Nr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Nr){return this.instances.has(t)}getOptions(t=Nr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Nr){return this.component?this.component.multipleInstances?t:Nr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UA(a){return a===Nr?void 0:a}function kA(a){return a.instantiationMode==="EAGER"}class LA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new xA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Dt||(Dt={}));const PA={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},zA=Dt.INFO,BA={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},jA=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=BA[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class om{constructor(t){this.name=t,this._logLevel=zA,this._logHandler=jA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?PA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const qA=(a,t)=>t.some(i=>a instanceof i);let C_,I_;function HA(){return C_||(C_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FA(){return I_||(I_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rT=new WeakMap,Od=new WeakMap,aT=new WeakMap,Td=new WeakMap,lm=new WeakMap;function GA(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(js(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&rT.set(i,a)}).catch(()=>{}),lm.set(t,a),t}function QA(a){if(Od.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Od.set(a,t)}let Md={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Od.get(a);if(t==="objectStoreNames")return a.objectStoreNames||aT.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return js(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function YA(a){Md=a(Md)}function KA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Ed(this),t,...i);return aT.set(r,t.sort?t.sort():[t]),js(r)}:FA().includes(a)?function(...t){return a.apply(Ed(this),t),js(rT.get(this))}:function(...t){return js(a.apply(Ed(this),t))}}function XA(a){return typeof a=="function"?KA(a):(a instanceof IDBTransaction&&QA(a),qA(a,HA())?new Proxy(a,Md):a)}function js(a){if(a instanceof IDBRequest)return GA(a);if(Td.has(a))return Td.get(a);const t=XA(a);return t!==a&&(Td.set(a,t),lm.set(t,a)),t}const Ed=a=>lm.get(a);function ZA(a,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),p=js(d);return r&&d.addEventListener("upgradeneeded",v=>{r(js(d.result),v.oldVersion,v.newVersion,js(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const JA=["get","getKey","getAll","getAllKeys","count"],$A=["put","add","delete","clear"],Sd=new Map;function D_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Sd.get(t))return Sd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=$A.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||JA.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&v.done]))[0]};return Sd.set(t,c),c}YA(a=>({...a,get:(t,i,r)=>D_(t,i)||a.get(t,i,r),has:(t,i)=>!!D_(t,i)||a.has(t,i)}));class WA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(t1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function t1(a){return a.getComponent()?.type==="VERSION"}const Vd="@firebase/app",N_="0.14.6";const Zi=new om("@firebase/app"),e1="@firebase/app-compat",n1="@firebase/analytics-compat",i1="@firebase/analytics",s1="@firebase/app-check-compat",r1="@firebase/app-check",a1="@firebase/auth",o1="@firebase/auth-compat",l1="@firebase/database",u1="@firebase/data-connect",c1="@firebase/database-compat",h1="@firebase/functions",f1="@firebase/functions-compat",d1="@firebase/installations",m1="@firebase/installations-compat",g1="@firebase/messaging",p1="@firebase/messaging-compat",y1="@firebase/performance",_1="@firebase/performance-compat",v1="@firebase/remote-config",T1="@firebase/remote-config-compat",E1="@firebase/storage",S1="@firebase/storage-compat",A1="@firebase/firestore",b1="@firebase/ai",R1="@firebase/firestore-compat",w1="firebase",C1="12.6.0";const xd="[DEFAULT]",I1={[Vd]:"fire-core",[e1]:"fire-core-compat",[i1]:"fire-analytics",[n1]:"fire-analytics-compat",[r1]:"fire-app-check",[s1]:"fire-app-check-compat",[a1]:"fire-auth",[o1]:"fire-auth-compat",[l1]:"fire-rtdb",[u1]:"fire-data-connect",[c1]:"fire-rtdb-compat",[h1]:"fire-fn",[f1]:"fire-fn-compat",[d1]:"fire-iid",[m1]:"fire-iid-compat",[g1]:"fire-fcm",[p1]:"fire-fcm-compat",[y1]:"fire-perf",[_1]:"fire-perf-compat",[v1]:"fire-rc",[T1]:"fire-rc-compat",[E1]:"fire-gcs",[S1]:"fire-gcs-compat",[A1]:"fire-fst",[R1]:"fire-fst-compat",[b1]:"fire-vertex","fire-js":"fire-js",[w1]:"fire-js-all"};const Nc=new Map,D1=new Map,Ud=new Map;function O_(a,t){try{a.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function xr(a){const t=a.name;if(Ud.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Ud.set(t,a);for(const i of Nc.values())O_(i,a);for(const i of D1.values())O_(i,a);return!0}function Jc(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Yn(a){return a==null?!1:a.settings!==void 0}const N1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new Cl("app","Firebase",N1);class O1{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}const Ja=C1;function oT(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:xd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw qs.create("bad-app-name",{appName:String(l)});if(i||(i=iT()),!i)throw qs.create("no-options");const c=Nc.get(l);if(c){if(Vr(i,c.options)&&Vr(r,c.config))return c;throw qs.create("duplicate-app",{appName:l})}const d=new LA(l);for(const v of Ud.values())d.addComponent(v);const p=new O1(i,r,d);return Nc.set(l,p),p}function um(a=xd){const t=Nc.get(a);if(!t&&a===xd&&iT())return oT();if(!t)throw qs.create("no-app",{appName:a});return t}function vi(a,t,i){let r=I1[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}xr(new Qs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const M1="firebase-heartbeat-database",V1=1,vl="firebase-heartbeat-store";let Ad=null;function lT(){return Ad||(Ad=ZA(M1,V1,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(vl)}catch(i){console.warn(i)}}}}).catch(a=>{throw qs.create("idb-open",{originalErrorMessage:a.message})})),Ad}async function x1(a){try{const i=(await lT()).transaction(vl),r=await i.objectStore(vl).get(uT(a));return await i.done,r}catch(t){if(t instanceof es)Zi.warn(t.message);else{const i=qs.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function M_(a,t){try{const r=(await lT()).transaction(vl,"readwrite");await r.objectStore(vl).put(t,uT(a)),await r.done}catch(i){if(i instanceof es)Zi.warn(i.message);else{const r=qs.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(r.message)}}}function uT(a){return`${a.name}!${a.options.appId}`}const U1=1024,k1=30;class L1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new z1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=V_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>k1){const l=B1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=V_(),{heartbeatsToSend:i,unsentEntries:r}=P1(this._heartbeatsCache.heartbeats),l=Dc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function V_(){return new Date().toISOString().substring(0,10)}function P1(a,t=U1){const i=[];let r=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),x_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),x_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class z1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RA()?wA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await x1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return M_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return M_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function x_(a){return Dc(JSON.stringify({version:2,heartbeats:a})).length}function B1(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function j1(a){xr(new Qs("platform-logger",t=>new WA(t),"PRIVATE")),xr(new Qs("heartbeat",t=>new L1(t),"PRIVATE")),vi(Vd,N_,a),vi(Vd,N_,"esm2020"),vi("fire-js","")}j1("");var U_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hs,cT;(function(){var a;function t(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(M,N,U){for(var R=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)R[ie-2]=arguments[ie];return b.prototype[N].apply(M,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,C){C||(C=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(N=0;N<16;++N)M[N]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],N=I.g[2];let U=I.g[3],R;R=b+(U^C&(N^U))+M[0]+3614090360&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(N^b&(C^N))+M[1]+3905402710&4294967295,U=b+(R<<12&4294967295|R>>>20),R=N+(C^U&(b^C))+M[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(b^N&(U^b))+M[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=b+(U^C&(N^U))+M[4]+4118548399&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(N^b&(C^N))+M[5]+1200080426&4294967295,U=b+(R<<12&4294967295|R>>>20),R=N+(C^U&(b^C))+M[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(b^N&(U^b))+M[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=b+(U^C&(N^U))+M[8]+1770035416&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(N^b&(C^N))+M[9]+2336552879&4294967295,U=b+(R<<12&4294967295|R>>>20),R=N+(C^U&(b^C))+M[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(b^N&(U^b))+M[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=b+(U^C&(N^U))+M[12]+1804603682&4294967295,b=C+(R<<7&4294967295|R>>>25),R=U+(N^b&(C^N))+M[13]+4254626195&4294967295,U=b+(R<<12&4294967295|R>>>20),R=N+(C^U&(b^C))+M[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(b^N&(U^b))+M[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=b+(N^U&(C^N))+M[1]+4129170786&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(b^C))+M[6]+3225465664&4294967295,U=b+(R<<9&4294967295|R>>>23),R=N+(b^C&(U^b))+M[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(N^U))+M[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=b+(N^U&(C^N))+M[5]+3593408605&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(b^C))+M[10]+38016083&4294967295,U=b+(R<<9&4294967295|R>>>23),R=N+(b^C&(U^b))+M[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(N^U))+M[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=b+(N^U&(C^N))+M[9]+568446438&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(b^C))+M[14]+3275163606&4294967295,U=b+(R<<9&4294967295|R>>>23),R=N+(b^C&(U^b))+M[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(N^U))+M[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=b+(N^U&(C^N))+M[13]+2850285829&4294967295,b=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(b^C))+M[2]+4243563512&4294967295,U=b+(R<<9&4294967295|R>>>23),R=N+(b^C&(U^b))+M[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^b&(N^U))+M[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=b+(C^N^U)+M[5]+4294588738&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^N)+M[8]+2272392833&4294967295,U=b+(R<<11&4294967295|R>>>21),R=N+(U^b^C)+M[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^b)+M[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=b+(C^N^U)+M[1]+2763975236&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^N)+M[4]+1272893353&4294967295,U=b+(R<<11&4294967295|R>>>21),R=N+(U^b^C)+M[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^b)+M[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=b+(C^N^U)+M[13]+681279174&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^N)+M[0]+3936430074&4294967295,U=b+(R<<11&4294967295|R>>>21),R=N+(U^b^C)+M[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^b)+M[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=b+(C^N^U)+M[9]+3654602809&4294967295,b=C+(R<<4&4294967295|R>>>28),R=U+(b^C^N)+M[12]+3873151461&4294967295,U=b+(R<<11&4294967295|R>>>21),R=N+(U^b^C)+M[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^b)+M[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=b+(N^(C|~U))+M[0]+4096336452&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~N))+M[7]+1126891415&4294967295,U=b+(R<<10&4294967295|R>>>22),R=N+(b^(U|~C))+M[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~b))+M[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=b+(N^(C|~U))+M[12]+1700485571&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~N))+M[3]+2399980690&4294967295,U=b+(R<<10&4294967295|R>>>22),R=N+(b^(U|~C))+M[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~b))+M[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=b+(N^(C|~U))+M[8]+1873313359&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~N))+M[15]+4264355552&4294967295,U=b+(R<<10&4294967295|R>>>22),R=N+(b^(U|~C))+M[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~b))+M[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=b+(N^(C|~U))+M[4]+4149444226&4294967295,b=C+(R<<6&4294967295|R>>>26),R=U+(C^(b|~N))+M[11]+3174756917&4294967295,U=b+(R<<10&4294967295|R>>>22),R=N+(b^(U|~C))+M[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~b))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}r.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,M=this.C;let N=this.h,U=0;for(;U<b;){if(N==0)for(;U<=C;)l(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<b;)if(M[N++]=I.charCodeAt(U++),N==this.blockSize){l(this,M),N=0;break}}else for(;U<b;)if(M[N++]=I[U++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)I[b++]=this.g[C]>>>M&255;return I};function c(I,b){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function d(I,b){this.h=b;const C=[];let M=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;M&&U==b||(C[N]=U,M=!1)}this.g=C}var p={};function v(I){return-128<=I&&I<128?c(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return $(y(-I));const b=[];let C=1;for(let M=0;I>=C;M++)b[M]=I/C|0,C*=4294967296;return new d(b,0)}function S(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return $(S(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(b,8));let M=A;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const R=parseInt(I.substring(U,U+N),b);N<8?(N=y(Math.pow(b,N)),M=M.j(N).add(y(R))):(M=M.j(C),M=M.add(y(R)))}return M}var A=v(0),V=v(1),H=v(16777216);a=d.prototype,a.m=function(){if(X(this))return-$(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);I+=(M>=0?M:4294967296+M)*b,b*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(X(this))return"-"+$(this).toString(I);const b=y(Math.pow(I,6));var C=this;let M="";for(;;){const N=Lt(C,b).g;C=at(C,N.j(b));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,W(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function X(I){return I.h==-1}a.l=function(I){return I=at(this,I),X(I)?-1:W(I)?0:1};function $(I){const b=I.g.length,C=[];for(let M=0;M<b;M++)C[M]=~I.g[M];return new d(C,~I.h).add(V)}a.abs=function(){return X(this)?$(this):this},a.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let M=0;for(let N=0;N<=b;N++){let U=M+(this.i(N)&65535)+(I.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=R>>>16,U&=65535,R&=65535,C[N]=R<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function at(I,b){return I.add($(b))}a.j=function(I){if(W(this)||W(I))return A;if(X(this))return X(I)?$(this).j($(I)):$($(this).j(I));if(X(I))return $(this.j($(I)));if(this.l(H)<0&&I.l(H)<0)return y(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var M=0;M<2*b;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const U=this.i(M)>>>16,R=this.i(M)&65535,ie=I.i(N)>>>16,we=I.i(N)&65535;C[2*M+2*N]+=R*we,dt(C,2*M+2*N),C[2*M+2*N+1]+=U*we,dt(C,2*M+2*N+1),C[2*M+2*N+1]+=R*ie,dt(C,2*M+2*N+1),C[2*M+2*N+2]+=U*ie,dt(C,2*M+2*N+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new d(C,0)};function dt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function ut(I,b){this.g=I,this.h=b}function Lt(I,b){if(W(b))throw Error("division by zero");if(W(I))return new ut(A,A);if(X(I))return b=Lt($(I),b),new ut($(b.g),$(b.h));if(X(b))return b=Lt(I,$(b)),new ut($(b.g),b.h);if(I.g.length>30){if(X(I)||X(b))throw Error("slowDivide_ only works with positive integers.");for(var C=V,M=b;M.l(I)<=0;)C=Yt(C),M=Yt(M);var N=Ut(C,1),U=Ut(M,1);for(M=Ut(M,2),C=Ut(C,2);!W(M);){var R=U.add(M);R.l(I)<=0&&(N=N.add(C),U=R),M=Ut(M,1),C=Ut(C,1)}return b=at(I,N.j(b)),new ut(N,b)}for(N=A;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(C),R=U.j(b);X(R)||R.l(I)>0;)C-=M,U=y(C),R=U.j(b);W(U)&&(U=V),N=N.add(U),I=at(I,R)}return new ut(N,I)}a.B=function(I){return Lt(this,I).h},a.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)&I.i(M);return new d(C,this.h&I.h)},a.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)|I.i(M);return new d(C,this.h|I.h)},a.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<b;M++)C[M]=this.i(M)^I.i(M);return new d(C,this.h^I.h)};function Yt(I){const b=I.g.length+1,C=[];for(let M=0;M<b;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(C,I.h)}function Ut(I,b){const C=b>>5;b%=32;const M=I.g.length-C,N=[];for(let U=0;U<M;U++)N[U]=b>0?I.i(U+C)>>>b|I.i(U+C+1)<<32-b:I.i(U+C);return new d(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,cT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,Hs=d}).apply(typeof U_<"u"?U_:typeof self<"u"?self:typeof window<"u"?window:{});var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hT,cl,fT,vc,kd,dT,mT,gT;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof fc=="object"&&fc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var _=r;u=u.split(".");for(var E=0;E<u.length-1;E++){var k=u[E];if(!(k in _))break t;_=_[k]}u=u[u.length-1],E=_[u],m=m(E),m!=E&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&_.push([E,m[E]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function S(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function A(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(E,k,B){for(var tt=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)tt[Et-2]=arguments[Et];return m.prototype[k].apply(E,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const _=Array(m);for(let E=0;E<m;E++)_[E]=u[E];return _}return[]}function W(u,m){for(let E=1;E<arguments.length;E++){const k=arguments[E];var _=typeof k;if(_=_!="object"?_:k?Array.isArray(k)?"array":_:"null",_=="array"||_=="object"&&typeof k.length=="number"){_=u.length||0;const B=k.length||0;u.length=_+B;for(let tt=0;tt<B;tt++)u[_+tt]=k[tt]}else u.push(k)}}class X{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function at(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,_){const E=ut.get();E.set(m,_),this.h?this.h.next=E:this.g=E,this.h=E}}var ut=new X(()=>new Lt,u=>u.reset());class Lt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Yt,Ut=!1,I=new dt,b=()=>{const u=Promise.resolve(void 0);Yt=()=>{u.then(C)}};function C(){for(var u;u=at();){try{u.h.call(u.g)}catch(_){$(_)}var m=ut;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ie,N),ie.prototype.init=function(u,m){const _=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(u,m,_,E,k){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!E,this.ha=k,this.key=++F,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,_){for(const E in u)m.call(_,u[E],E,u)}function Ht(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let _,E;for(let k=1;k<arguments.length;k++){E=arguments[k];for(_ in E)u[_]=E[_];for(let B=0;B<Y.length;B++)_=Y[B],Object.prototype.hasOwnProperty.call(E,_)&&(u[_]=E[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,E,k){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=At(u,m,E,k);return tt>-1?(m=u[tt],_||(m.fa=!1)):(m=new et(m,this.src,B,!!E,k),m.fa=_,u.push(m)),m};function yt(u,m){const _=m.type;if(_ in u.g){var E=u.g[_],k=Array.prototype.indexOf.call(E,m,void 0),B;(B=k>=0)&&Array.prototype.splice.call(E,k,1),B&&(ht(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function At(u,m,_,E){for(let k=0;k<u.length;++k){const B=u[k];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==E)return k}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Ce={};function se(u,m,_,E,k){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],_,E,k);return null}return _=ro(_),u&&u[we]?u.J(m,_,p(E)?!!E.capture:!1,k):Ws(u,m,_,!1,E,k)}function Ws(u,m,_,E,k,B){if(!m)throw Error("Invalid event type");const tt=p(k)?!!k.capture:!!k;let Et=tr(u);if(Et||(u[Vt]=Et=new st(u)),_=Et.add(m,_,E,tt,B),_.proxy)return _;if(E=Hr(),_.proxy=E,E.src=u,E.listener=_,u.addEventListener)U||(k=tt),k===void 0&&(k=!1),u.addEventListener(m.toString(),E,k);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Hr(){function u(_){return m.call(u.src,u.listener,_)}const m=io;return u}function Fr(u,m,_,E,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)Fr(u,m[B],_,E,k);else E=p(E)?!!E.capture:!!E,_=ro(_),u&&u[we]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=At(m,_,E,k),_>-1&&(ht(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=tr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,_,E,k)),(_=u>-1?m[u]:null)&&Gr(_))}function Gr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])yt(m.i,u);else{var _=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(_,E,u.capture):m.detachEvent?m.detachEvent(Zn(_),E):m.addListener&&m.removeListener&&m.removeListener(E),(_=tr(m))?(yt(_,u),_.h==0&&(_.src=null,m[Vt]=null)):ht(u)}}}function Zn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function io(u,m){if(u.da)u=!0;else{m=new ie(m,this);const _=u.listener,E=u.ha||u.src;u.fa&&Gr(u),u=_.call(E,m)}return u}function tr(u){return u=u[Vt],u instanceof st?u:null}var so="__closure_events_fn_"+(Math.random()*1e9>>>0);function ro(u){return typeof u=="function"?u:(u[so]||(u[so]=function(m){return u.handleEvent(m)}),u[so])}function ge(){M.call(this),this.i=new st(this),this.M=this,this.G=null}A(ge,M),ge.prototype[we]=!0,ge.prototype.removeEventListener=function(u,m,_,E){Fr(this,u,m,_,E)};function Ie(u,m){var _,E=u.G;if(E)for(_=[];E;E=E.G)_.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var k=m;m=new N(E,u),nt(m,k)}k=!0;let B,tt;if(_)for(tt=_.length-1;tt>=0;tt--)B=m.g=_[tt],k=ns(B,E,!0,m)&&k;if(B=m.g=u,k=ns(B,E,!0,m)&&k,k=ns(B,E,!1,m)&&k,_)for(tt=0;tt<_.length;tt++)B=m.g=_[tt],k=ns(B,E,!1,m)&&k}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let E=0;E<_.length;E++)ht(_[E]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,_,E){return this.i.add(String(u),m,!1,_,E)},ge.prototype.K=function(u,m,_,E){return this.i.add(String(u),m,!0,_,E)};function ns(u,m,_,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==_){const Et=tt.listener,he=tt.ha||tt.src;tt.fa&&yt(u.i,tt),k=Et.call(he,E)!==!1&&k}}return k&&!E.defaultPrevented}function mh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ll(u){u.g=mh(()=>{u.g=null,u.i&&(u.i=!1,Ll(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ll(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(u){M.call(this),this.h=u,this.g={}}A(er,M);var ao=[];function oo(u){kt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Gr(m)},u),u.g={}}er.prototype.N=function(){er.Z.N.call(this),oo(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=d.JSON.stringify,gh=d.JSON.parse,Pl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function zl(){}function Bl(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){N.call(this,"d")}A(ke,N);function vn(){N.call(this,"c")}A(vn,N);var ce={},jl=null;function Qr(){return jl=jl||new ge}ce.Ia="serverreachability";function ql(u){N.call(this,ce.Ia,u)}A(ql,N);function Jn(u){const m=Qr();Ie(m,new ql(m))}ce.STAT_EVENT="statevent";function nr(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}A(nr,N);function pe(u){const m=Qr();Ie(m,new nr(m,u))}ce.Ja="timingevent";function $n(u,m){N.call(this,ce.Ja,u),this.size=m}A($n,N);function Wn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function kn(){this.g=!0}kn.prototype.ua=function(){this.g=!1};function ph(u,m,_,E,k,B){u.info(function(){if(u.g)if(B){var tt="",Et=B.split("&");for(let Bt=0;Bt<Et.length;Bt++){var he=Et[Bt].split("=");if(he.length>1){const re=he[0];he=he[1];const An=re.split("_");tt=An.length>=2&&An[1]=="type"?tt+(re+"="+he+"&"):tt+(re+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+E+") [attempt "+k+"]: "+m+`
`+_+`
`+tt})}function Hl(u,m,_,E,k,B,tt){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+k+"]: "+m+`
`+_+`
`+B+" "+tt})}function ti(u,m,_,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+yh(u,_)+(E?" "+E:"")})}function ir(u,m){u.info(function(){return"TIMEOUT: "+m})}kn.prototype.info=function(){};function yh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var E=_[1];if(Array.isArray(E)&&!(E.length<1)){var k=E[0];if(k!="noop"&&k!="stop"&&k!="close")for(let tt=1;tt<E.length;tt++)E[tt]=""}}}}return is(B)}catch{return m}}var sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},uo;function rr(){}A(rr,zl),rr.prototype.g=function(){return new XMLHttpRequest},uo=new rr;function Ii(u){return encodeURIComponent(String(u))}function Fl(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Ln(u,m,_,E){this.j=u,this.i=m,this.l=_,this.S=E||1,this.V=new er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var ye={},Me={};function ei(u,m,_){u.M=1,u.A=ar(ve(m)),u.u=_,u.R=!0,Yr(u,null)}function Yr(u,m){u.F=Date.now(),ni(u),u.B=ve(u.A);var _=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),Jr(_.i,"t",E),u.C=0,_=u.j.L,u.h=new Pn,u.g=ru(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Je(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,E=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(ao[0]=k.toString()),k=ao);for(let B=0;B<k.length;B++){const tt=se(_,k[B],E||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Jn(),ph(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&jn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const Et=jn(this.g),he=this.g.ya(),Bt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||Et!=4||he==7||(he==8||Bt<=0?Jn(3):Jn(2)),ii(this);var m=this.g.ca();this.X=m;var _=_h(this);if(this.o=m==200,Hl(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,k=this.g;if((E=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(E)){var B=E;break e}}B=null}if(u=B)ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,u);else{this.o=!1,this.m=3,pe(12),un(this),Tn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<_.length;)if(re=Ql(this,_),re==Me){Et==4&&(this.m=4,pe(14),u=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ye){this.m=4,pe(15),ti(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ti(this.i,this.l,re,null),si(this,re);if(Gl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||_.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ti(this.i,this.l,_,"[Invalid Chunked Response]"),un(this),Tn(this);else if(_.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Ro(tt),tt.P=!0,pe(11))}}else ti(this.i,this.l,_,null),si(this,_);Et==4&&un(this),this.o&&!this.K&&(Et==4?eu(this.j,this):(this.o=!1,ni(this)))}else Ni(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),un(this),Tn(this)}}}catch{}finally{}};function _h(u){if(!Gl(u))return u.g.la();const m=Le(u.g);if(m==="")return"";let _="";const E=m.length,k=jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<E;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(k&&B==E-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Gl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ql(u,m){var _=u.C,E=m.indexOf(`
`,_);return E==-1?Me:(_=Number(m.substring(_,E)),isNaN(_)?ye:(E+=1,E+_>m.length?Me:(m=m.slice(E,E+_),u.C=E+_,m)))}Ln.prototype.cancel=function(){this.K=!0,un(this)};function ni(u){u.T=Date.now()+u.H,Kr(u,u.H)}function Kr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Wn(y(u.aa,u),m)}function ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ir(this.i,this.B),this.M!=2&&(Jn(),pe(17)),un(this),this.m=2,Tn(this)):Kr(this,this.T-u)};function Tn(u){u.j.I==0||u.K||eu(u.j,u)}function un(u){ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,oo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function si(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||ai(_.h,u))){if(!u.L&&ai(_.h,u)&&_.I==3){try{var E=_.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var k=E;if(k[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)na(_),hs(_);else break t;dr(_),pe(18)}}else _.xa=k[1],0<_.xa-_.K&&k[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Wn(y(_.Va,_),6e3));ri(_.h)<=1&&_.ta&&(_.ta=void 0)}else fi(_,11)}else if((u.L||_.g==u)&&na(_),!R(m))for(k=_.Ba.g.parse(m),m=0;m<k.length;m++){let Bt=k[m];const re=Bt[0];if(!(re<=_.K))if(_.K=re,Bt=Bt[1],_.I==2)if(Bt[0]=="c"){_.M=Bt[1],_.ba=Bt[2];const An=Bt[3];An!=null&&(_.ka=An,_.j.info("VER="+_.ka));const di=Bt[4];di!=null&&(_.za=di,_.j.info("SVER="+_.za));const qn=Bt[5];qn!=null&&typeof qn=="number"&&qn>0&&(E=1.5*qn,_.O=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const Hn=u.g;if(Hn){const mr=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mr){var B=E.h;B.g||mr.indexOf("spdy")==-1&&mr.indexOf("quic")==-1&&mr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(fo(B,B.h),B.h=null))}if(E.G){const ia=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;ia&&(E.wa=ia,Ft(E.J,E.G,ia))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),E=_;var tt=u;if(E.na=su(E,E.L?E.ba:null,E.W),tt.L){mo(E.h,tt);var Et=tt,he=E.O;he&&(Et.H=he),Et.D&&(ii(Et),ni(Et)),E.g=tt}else Wl(E);_.i.length>0&&hi(_)}else Bt[0]!="stop"&&Bt[0]!="close"||fi(_,7);else _.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?fi(_,7):Ao(_):Bt[0]!="noop"&&_.l&&_.l.qa(Bt),_.A=0)}}Jn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function co(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ho(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ri(u){return u.h?1:u.g?u.g.size:0}function ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function fo(u,m){u.g?u.g.add(m):u.h=m}function mo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}co.prototype.cancel=function(){if(this.i=go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function go(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return H(u.i)}var Yl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xr(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const E=u[_].indexOf("=");let k,B=null;E>=0?(k=u[_].substring(0,E),B=u[_].substring(E+1)):k=u[_],m(k,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Ve(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.u),this.h=u.h,po(this,Jl(u.i)),this.m=u.m):u&&(m=String(u).match(Yl))?(this.l=!1,Ve(this,m[1]||"",!0),this.o=oi(m[2]||""),this.g=oi(m[3]||"",!0),ss(this,m[4]),this.h=oi(m[5]||"",!0),po(this,m[6]||"",!0),this.m=oi(m[7]||"")):(this.l=!1,this.i=new as(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(or(m,Zr,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(or(m,Zr,!0),"@"),u.push(Ii(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(or(_,_.charAt(0)=="/"?yo:Kl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",or(_,Xl)),u.join("")},cn.prototype.resolve=function(u){const m=ve(this);let _=!!u.j;_?Ve(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var E=u.h;if(_)ss(m,u.u);else if(_=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var k=m.h.lastIndexOf("/");k!=-1&&(E=m.h.slice(0,k+1)+E)}if(k=E,k==".."||k==".")E="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){E=k.lastIndexOf("/",0)==0,k=k.split("/");const B=[];for(let tt=0;tt<k.length;){const Et=k[tt++];Et=="."?E&&tt==k.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),E&&tt==k.length&&B.push("")):(B.push(Et),E=!0)}E=B.join("/")}else E=k}return _?m.h=E:_=u.i.toString()!=="",_?po(m,Jl(u.i)):_=!!u.m,_&&(m.m=u.m),m};function ve(u){return new cn(u)}function Ve(u,m,_){u.j=_?oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function po(u,m,_){m instanceof as?(u.i=m,$r(u.i,u.l)):(_||(m=or(m,rs)),u.i=new as(m,u.l))}function Ft(u,m,_){u.i.set(m,_)}function ar(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function or(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zr=/[#\/\?@]/g,Kl=/[#\?:]/g,yo=/[#\?]/g,rs=/[#\?@]/g,Xl=/#/g;function as(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&Xr(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=as.prototype,a.add=function(u,m){en(this),this.i=null,u=os(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Zl(u,m){en(u),m=os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function _o(u,m){return en(u),m=os(u,m),u.g.has(m)}a.forEach=function(u,m){en(this),this.g.forEach(function(_,E){_.forEach(function(k){u.call(m,k,E,this)},this)},this)};function vo(u,m){en(u);let _=[];if(typeof m=="string")_o(u,m)&&(_=_.concat(u.g.get(os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}a.set=function(u,m){return en(this),this.i=null,u=os(this,u),_o(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=vo(this,u),u.length>0?String(u[0]):m):m};function Jr(u,m,_){Zl(u,m),_.length>0&&(u.i=null,u.g.set(os(u,m),H(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var _=m[E];const k=Ii(_);_=vo(this,_);for(let B=0;B<_.length;B++){let tt=k;_[B]!==""&&(tt+="="+Ii(_[B])),u.push(tt)}}return this.i=u.join("&")};function Jl(u){const m=new as;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function $r(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(_,E){const k=E.toLowerCase();E!=k&&(Zl(this,E),Jr(this,k,_))},u)),u.j=m}function zn(u,m){const _=new kn;if(d.Image){const E=new Image;E.onload=S(En,_,"TestLoadImage: loaded",!0,m,E),E.onerror=S(En,_,"TestLoadImage: error",!1,m,E),E.onabort=S(En,_,"TestLoadImage: abort",!1,m,E),E.ontimeout=S(En,_,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function To(u,m){const _=new kn,E=new AbortController,k=setTimeout(()=>{E.abort(),En(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(B=>{clearTimeout(k),B.ok?En(_,"TestPingServer: ok",!0,m):En(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),En(_,"TestPingServer: error",!1,m)})}function En(u,m,_,E,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),E(_)}catch{}}function ls(){this.g=new Pl}function li(u){this.i=u.Sb||null,this.h=u.ab||!1}A(li,zl),li.prototype.g=function(){return new lr(this.i,this.h)};function lr(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(lr,ge),a=lr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?us(this):Bn(this),this.readyState==3&&Wr(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,us(this))},a.Na=function(u){this.g&&(this.response=u,us(this))},a.ga=function(){this.g&&us(this)};function us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return kt(u,function(_,E){m+=E,m+=":",m+=_,m+=`\r
`}),m}function ur(u,m,_){t:{for(E in _){var E=!1;break t}E=!0}E||(_=Sn(_),typeof u=="string"?_!=null&&Ii(_):Ft(u,m,_))}function Kt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Kt,ge);var ui=/^https?$/i,Eo=["POST","PUT"];a=Kt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():uo.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){cr(this,B);return}if(u=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var k in E)_.set(k,E[k]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())_.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Eo,m,void 0)>=0)||E||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of _)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){cr(this,B)}};function cr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,So(u),Di(u)}function So(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Di(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Kt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?hr(this):this.Xa())},a.Xa=function(){hr(this)};function hr(u){if(u.h&&typeof c<"u"){if(u.v&&jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var E;if(E=B===0){let tt=String(u.D).match(Yl)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),E=!ui.test(tt?tt.toLowerCase():"")}_=E}if(_)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var k=jn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",So(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ie(u,"ready");try{_.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),gh(m)}};function Le(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(u){const m={};u=(u.g&&jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(R(u[E]))continue;var _=Fl(u[E]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[k]||[];m[k]=B,B.push(_)}Ht(m,function(E){return E.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function cs(u){this.za=0,this.i=[],this.j=new kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ci("baseRetryDelayMs",5e3,u),this.Za=ci("retryDelaySeedMs",1e4,u),this.Ta=ci("forwardChannelMaxRetries",2,u),this.va=ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new co(u&&u.concurrentRequestLimit),this.Ba=new ls,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=cs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,_,E){pe(0),this.W=u,this.H=m||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.J=su(this,null,this.W),hi(this)};function Ao(u){if(ta(u),u.I==3){var m=u.V++,_=ve(u.J);if(Ft(_,"SID",u.M),Ft(_,"RID",m),Ft(_,"TYPE","terminate"),fr(u,_),m=new Ln(u,u.j,m),m.M=2,m.A=ar(ve(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ni(m)}iu(u)}function hs(u){u.g&&(Ro(u),u.g.cancel(),u.g=null)}function ta(u){hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),na(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function hi(u){if(!ho(u.h)&&!u.m){u.m=!0;var m=u.Ea;Yt||b(),Ut||(Yt(),Ut=!0),I.add(m,u),u.D=0}}function ea(u,m){return ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Wn(y(u.Ea,u,m),nu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new Ln(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(k.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=$l(this,k,m),_=ve(this.J),Ft(_,"RID",u),Ft(_,"CVER",22),this.G&&Ft(_,"X-HTTP-Session-Id",this.G),fr(this,_),B&&(this.R?m="headers="+Ii(Sn(B))+"&"+m:this.u&&ur(_,this.u,B)),fo(this.h,k),this.Ra&&Ft(_,"TYPE","init"),this.S?(Ft(_,"$req",m),Ft(_,"SID","null"),k.U=!0,ei(k,_,null)):ei(k,_,m),this.I=2}}else this.I==3&&(u?bo(this,u):this.i.length==0||ho(this.h)||bo(this))};function bo(u,m){var _;m?_=m.l:_=u.V++;const E=ve(u.J);Ft(E,"SID",u.M),Ft(E,"RID",_),Ft(E,"AID",u.K),fr(u,E),u.u&&u.o&&ur(E,u.u,u.o),_=new Ln(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=$l(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),fo(u.h,_),ei(_,E,m)}function fr(u,m){u.H&&kt(u.H,function(_,E){Ft(m,E,_)}),u.l&&kt({},function(_,E){Ft(m,E,_)})}function $l(u,m,_){_=Math.min(u.i.length,_);const E=u.l?y(u.l.Ka,u.l,u):null;t:{var k=u.i;let Et=-1;for(;;){const he=["count="+_];Et==-1?_>0?(Et=k[0].g,he.push("ofs="+Et)):Et=0:he.push("ofs="+Et);let Bt=!0;for(let re=0;re<_;re++){var B=k[re].g;const An=k[re].map;if(B-=Et,B<0)Et=Math.max(0,k[re].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var tt=An instanceof Map?An:Object.entries(An);for(const[di,qn]of tt){let Hn=qn;p(qn)&&(Hn=is(qn)),he.push(B+di+"="+encodeURIComponent(Hn))}}catch(di){throw he.push(B+"type="+encodeURIComponent("_badmap")),di}}catch{E&&E(An)}}if(Bt){tt=he.join("&");break t}}tt=void 0}return u=u.i.splice(0,_),m.G=u,tt}function Wl(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Yt||b(),Ut||(Yt(),Ut=!0),I.add(m,u),u.A=0}}function dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Wn(y(u.Da,u),nu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Wn(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),hs(this),tu(this))};function Ro(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function tu(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),fr(u,m),u.u&&u.o&&ur(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=ar(ve(m)),_.u=null,_.R=!0,Yr(_,u)}a.Va=function(){this.C!=null&&(this.C=null,hs(this),dr(this),pe(19))};function na(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function eu(u,m){var _=null;if(u.g==m){na(u),Ro(u),u.g=null;var E=2}else if(ai(u.h,m))_=m.G,mo(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;E=Qr(),Ie(E,new $n(E,_)),hi(u)}else Wl(u);else if(k=m.m,k==3||k==0&&m.X>0||!(E==1&&ea(u,m)||E==2&&dr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),k){case 1:fi(u,5);break;case 4:fi(u,10);break;case 3:fi(u,6);break;default:fi(u,2)}}}function nu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function fi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),E=u.Ua;const k=!E;E=new cn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ve(E,"https"),ar(E),k?zn(E.toString(),_):To(E.toString(),_)}else pe(2);u.I=0,u.l&&u.l.pa(m),iu(u),ta(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function iu(u){if(u.I=0,u.ja=[],u.l){const m=go(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function su(u,m,_){var E=_ instanceof cn?ve(_):new cn(_);if(E.g!="")m&&(E.g=m+"."+E.g),ss(E,E.u);else{var k=d.location;E=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const B=new cn(null);E&&Ve(B,E),m&&(B.g=m),k&&ss(B,k),_&&(B.h=_),E=B}return _=u.G,m=u.wa,_&&m&&Ft(E,_,m),Ft(E,"VER",u.ka),fr(u,E),E}function ru(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new li({ab:_})):new Kt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}a=au.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function fs(){}fs.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){ge.call(this),this.g=new cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}A($e,ge),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ao(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=is(u),u=_);m.i.push(new _e(m.Ya++,u)),m.I==3&&hi(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,$e.Z.N.call(this)};function ou(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(ou,ke);function lu(){vn.call(this),this.status=1}A(lu,vn);function Oi(u){this.g=u}A(Oi,au),Oi.prototype.ra=function(){Ie(this.g,"a")},Oi.prototype.qa=function(u){Ie(this.g,new ou(u))},Oi.prototype.pa=function(u){Ie(this.g,new lu)},Oi.prototype.oa=function(){Ie(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,gT=function(){return new fs},mT=function(){return Qr()},dT=ce,kd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,vc=sr,lo.COMPLETE="complete",fT=lo,Bl.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ge.prototype.listen=ge.prototype.J,cl=Bl,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,hT=Kt}).apply(typeof fc<"u"?fc:typeof self<"u"?self:typeof window<"u"?window:{});const k_="@firebase/firestore",L_="4.9.2";class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let $a="12.3.0";const Ur=new om("@firebase/firestore");function Va(){return Ur.logLevel}function it(a,...t){if(Ur.logLevel<=Dt.DEBUG){const i=t.map(cm);Ur.debug(`Firestore (${$a}): ${a}`,...i)}}function Ji(a,...t){if(Ur.logLevel<=Dt.ERROR){const i=t.map(cm);Ur.error(`Firestore (${$a}): ${a}`,...i)}}function Fa(a,...t){if(Ur.logLevel<=Dt.WARN){const i=t.map(cm);Ur.warn(`Firestore (${$a}): ${a}`,...i)}}function cm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function gt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,pT(a,r,i)}function pT(a,t,i){let r=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ji(r),new Error(r)}function qt(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||pT(t,l,r)}function Tt(a,t){return a}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends es{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class yT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class q1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class H1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class F1{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let r=this.i;const l=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let c=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string",31837,{l:r}),new yT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class G1{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q1{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new G1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class P_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const r=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new P_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new P_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function K1(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class hm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=K1(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Nt(a,t){return a<t?-1:a>t?1:0}function Ld(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),c=t.charAt(r);if(l!==c)return bd(l)===bd(c)?Nt(l,c):bd(l)?1:-1}return Nt(a.length,t.length)}const X1=55296,Z1=57343;function bd(a){const t=a.charCodeAt(0);return t>=X1&&t<=Z1}function Ga(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}const z_="__name__";class _i{constructor(t,i,r){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&gt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return _i.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof _i?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=_i.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Nt(t.length,i.length)}static compareSegments(t,i){const r=_i.isNumericId(t),l=_i.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?_i.extractNumericId(t).compare(_i.extractNumericId(i)):Ld(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hs.fromString(t.substring(4,t.length-2))}}class ne extends _i{construct(t,i,r){return new ne(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const J1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends _i{construct(t,i,r){return new He(t,i,r)}static isValidIdentifier(t){return J1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z_}static keyField(){return new He([z_])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new He(i)}static emptyPath(){return new He([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ne.fromString(t))}static fromName(t){return new ft(ne.fromString(t).popFirst(5))}static empty(){return new ft(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ne(t.slice()))}}function _T(a,t,i){if(!i)throw new lt(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function $1(a,t,i,r){if(t===!0&&r===!0)throw new lt(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function B_(a){if(!ft.isDocumentKey(a))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function j_(a){if(ft.isDocumentKey(a))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function vT(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function fm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":gt(12329,{type:typeof a})}function Oc(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fm(a);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function Re(a,t){const i={typeString:a};return t&&(i.value=t),i}function Dl(a,t){if(!vT(a))throw new lt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new lt(Z.INVALID_ARGUMENT,i);return!0}const q_=-62135596800,H_=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(t){return Wt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*H_);return new Wt(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<q_)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H_}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Dl(t,Wt._jsonSchema))return new Wt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-q_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wt._jsonSchemaVersion="firestore/timestamp/1.0",Wt._jsonSchema={type:Re("string",Wt._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new Wt(0,0))}static max(){return new _t(new Wt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tl=-1;function W1(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(r===1e9?new Wt(i+1,0):new Wt(i,r));return new Ys(l,ft.empty(),t)}function tb(a){return new Ys(a.readTime,a.key,Tl)}class Ys{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ys(_t.min(),ft.empty(),Tl)}static max(){return new Ys(_t.max(),ft.empty(),Tl)}}function eb(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(a.documentKey,t.documentKey),i!==0?i:Nt(a.largestBatchId,t.largestBatchId))}const nb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ib{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Wa(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==nb)throw a;it("LocalStore","Unexpectedly lost primary lease")}class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):K.reject(i)}static resolve(t){return new K(((i,r)=>{i(t)}))}static reject(t){return new K(((i,r)=>{r(t)}))}static waitFor(t){return new K(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>r(v)))})),d=!0,c===l&&i()}))}static or(t){let i=K.resolve(!1);for(const r of t)i=i.next((l=>l?K.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new K(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((S=>{d[y]=S,++p,p===c&&r(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new K(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function sb(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function to(a){return a.name==="IndexedDbTransactionError"}class $c{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}$c.ce=-1;const dm=-1;function Wc(a){return a==null}function Mc(a){return a===0&&1/a==-1/0}function rb(a){return typeof a=="number"&&Number.isInteger(a)&&!Mc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const TT="";function ab(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=F_(t)),t=ob(a.get(i),t);return F_(t)}function ob(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case TT:i+="";break;default:i+=c}}return i}function F_(a){return a+TT+""}function G_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function zr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function ET(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||qe.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new dc(this.root,t,this.comparator,!0)}}class dc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??qe.RED,this.left=l??qe.EMPTY,this.right=c??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new qe(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return qe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Q_(this.data.getIterator())}getIteratorFrom(t){return new Q_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Oe(this.comparator);return i.data=t,i}}class Q_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(t){this.fields=t,t.sort(He.comparator)}static empty(){return new Kn([])}unionWith(t){let i=new Oe(He.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Kn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ga(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class ST extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ST("Invalid base64 string: "+c):c}})(t);return new Ge(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ge(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const lb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(a){if(qt(!!a,39018),typeof a=="string"){let t=0;const i=lb.exec(a);if(qt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:me(a.seconds),nanos:me(a.nanos)}}function me(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Xs(a){return typeof a=="string"?Ge.fromBase64String(a):Ge.fromUint8Array(a)}const AT="server_timestamp",bT="__type__",RT="__previous_value__",wT="__local_write_time__";function mm(a){return(a?.mapValue?.fields||{})[bT]?.stringValue===AT}function th(a){const t=a.mapValue.fields[RT];return mm(t)?th(t):t}function El(a){const t=Ks(a.mapValue.fields[wT].timestampValue);return new Wt(t.seconds,t.nanos)}class ub{constructor(t,i,r,l,c,d,p,v,y,S){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=S}}const Vc="(default)";class Sl{constructor(t,i){this.projectId=t,this.database=i||Vc}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database===Vc}isEqual(t){return t instanceof Sl&&t.projectId===this.projectId&&t.database===this.database}}const CT="__type__",cb="__max__",mc={mapValue:{}},IT="__vector__",xc="value";function Zs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?mm(a)?4:fb(a)?9007199254740991:hb(a)?10:11:gt(28295,{value:a})}function wi(a,t){if(a===t)return!0;const i=Zs(a);if(i!==Zs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return El(a).isEqual(El(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ks(l.timestampValue),p=Ks(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return Xs(l.bytesValue).isEqual(Xs(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=me(l.doubleValue),p=me(c.doubleValue);return d===p?Mc(d)===Mc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Ga(a.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(G_(d)!==G_(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!wi(d[v],p[v])))return!1;return!0})(a,t);default:return gt(52216,{left:a})}}function Al(a,t){return(a.values||[]).find((i=>wi(i,t)))!==void 0}function Qa(a,t){if(a===t)return 0;const i=Zs(a),r=Zs(t);if(i!==r)return Nt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=me(c.integerValue||c.doubleValue),v=me(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(a,t);case 3:return Y_(a.timestampValue,t.timestampValue);case 4:return Y_(El(a),El(t));case 5:return Ld(a.stringValue,t.stringValue);case 6:return(function(c,d){const p=Xs(c),v=Xs(d);return p.compareTo(v)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const S=Nt(p[y],v[y]);if(S!==0)return S}return Nt(p.length,v.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Nt(me(c.latitude),me(d.latitude));return p!==0?p:Nt(me(c.longitude),me(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return K_(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[xc]?.arrayValue,S=v[xc]?.arrayValue,A=Nt(y?.values?.length||0,S?.values?.length||0);return A!==0?A:K_(y,S)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===mc.mapValue&&d===mc.mapValue)return 0;if(c===mc.mapValue)return 1;if(d===mc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},S=Object.keys(y);v.sort(),S.sort();for(let A=0;A<v.length&&A<S.length;++A){const V=Ld(v[A],S[A]);if(V!==0)return V;const H=Qa(p[v[A]],y[S[A]]);if(H!==0)return H}return Nt(v.length,S.length)})(a.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function Y_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Nt(a,t);const i=Ks(a),r=Ks(t),l=Nt(i.seconds,r.seconds);return l!==0?l:Nt(i.nanos,r.nanos)}function K_(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Qa(i[l],r[l]);if(c)return c}return Nt(i.length,r.length)}function Ya(a){return Pd(a)}function Pd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Ks(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Xs(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ft.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Pd(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Pd(i.fields[d])}`;return l+"}"})(a.mapValue):gt(61005,{value:a})}function Tc(a){switch(Zs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=th(a);return t?16+Tc(t):16;case 5:return 2*a.stringValue.length;case 6:return Xs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Tc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return zr(r.fields,((c,d)=>{l+=c.length+Tc(d)})),l})(a.mapValue);default:throw gt(13486,{value:a})}}function zd(a){return!!a&&"integerValue"in a}function gm(a){return!!a&&"arrayValue"in a}function X_(a){return!!a&&"nullValue"in a}function Z_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ec(a){return!!a&&"mapValue"in a}function hb(a){return(a?.mapValue?.fields||{})[CT]?.stringValue===IT}function ml(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return zr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=ml(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ml(a.arrayValue.values[i]);return t}return{...a}}function fb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===cb}class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Ec(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ml(i)}setAll(t){let i=He.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=ml(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Ec(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return wi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Ec(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){zr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new Vn(ml(this.value))}}function DT(a){const t=[];return zr(a.fields,((i,r)=>{const l=new He([i]);if(Ec(r)){const c=DT(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Kn(t)}class Xe{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,_t.min(),_t.min(),_t.min(),Vn.empty(),0)}static newFoundDocument(t,i,r,l){return new Xe(t,1,i,_t.min(),r,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,_t.min(),_t.min(),Vn.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,_t.min(),_t.min(),Vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uc{constructor(t,i){this.position=t,this.inclusive=i}}function J_(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=Qa(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function $_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!wi(a.position[i],t.position[i]))return!1;return!0}class kc{constructor(t,i="asc"){this.field=t,this.dir=i}}function db(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class NT{}class Ne extends NT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new gb(t,i,r):i==="array-contains"?new _b(t,r):i==="in"?new vb(t,r):i==="not-in"?new Tb(t,r):i==="array-contains-any"?new Eb(t,r):new Ne(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new pb(t,r):new yb(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qa(i,this.value)):i!==null&&Zs(this.value)===Zs(i)&&this.matchesComparison(Qa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends NT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return OT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OT(a){return a.op==="and"}function MT(a){return mb(a)&&OT(a)}function mb(a){for(const t of a.filters)if(t instanceof Ci)return!1;return!0}function Bd(a){if(a instanceof Ne)return a.field.canonicalString()+a.op.toString()+Ya(a.value);if(MT(a))return a.filters.map((t=>Bd(t))).join(",");{const t=a.filters.map((i=>Bd(i))).join(",");return`${a.op}(${t})`}}function VT(a,t){return a instanceof Ne?(function(r,l){return l instanceof Ne&&r.op===l.op&&r.field.isEqual(l.field)&&wi(r.value,l.value)})(a,t):a instanceof Ci?(function(r,l){return l instanceof Ci&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&VT(d,l.filters[p])),!0):!1})(a,t):void gt(19439)}function xT(a){return a instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ya(i.value)}`})(a):a instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(xT).join(" ,")+"}"})(a):"Filter"}class gb extends Ne{constructor(t,i,r){super(t,i,r),this.key=ft.fromName(r.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class pb extends Ne{constructor(t,i){super(t,"in",i),this.keys=UT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class yb extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=UT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function UT(a,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class _b extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return gm(i)&&Al(i.arrayValue,this.value)}}class vb extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Al(this.value.arrayValue,i)}}class Tb extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Al(this.value.arrayValue,i)}}class Eb extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Al(this.value.arrayValue,r)))}}class Sb{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function W_(a,t=null,i=[],r=[],l=null,c=null,d=null){return new Sb(a,t,i,r,l,c,d)}function pm(a){const t=Tt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Bd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Wc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ya(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ya(r))).join(",")),t.Te=i}return t.Te}function ym(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!db(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!VT(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!$_(a.startAt,t.startAt)&&$_(a.endAt,t.endAt)}function jd(a){return ft.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class eh{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ab(a,t,i,r,l,c,d,p){return new eh(a,t,i,r,l,c,d,p)}function kT(a){return new eh(a)}function tv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function bb(a){return a.collectionGroup!==null}function gl(a){const t=Tt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Oe(He.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new kc(c,r))})),i.has(He.keyField().canonicalString())||t.Ie.push(new kc(He.keyField(),r))}return t.Ie}function Ti(a){const t=Tt(a);return t.Ee||(t.Ee=Rb(t,gl(a))),t.Ee}function Rb(a,t){if(a.limitType==="F")return W_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new kc(l.field,c)}));const i=a.endAt?new Uc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Uc(a.startAt.position,a.startAt.inclusive):null;return W_(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function qd(a,t,i){return new eh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function nh(a,t){return ym(Ti(a),Ti(t))&&a.limitType===t.limitType}function LT(a){return`${pm(Ti(a))}|lt:${a.limitType}`}function xa(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>xT(l))).join(", ")}]`),Wc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Ya(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Ya(l))).join(",")),`Target(${r})`})(Ti(a))}; limitType=${a.limitType})`}function ih(a,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ft.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,t)&&(function(r,l){for(const c of gl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,v){const y=J_(d,p,v);return d.inclusive?y<=0:y<0})(r.startAt,gl(r),l)||r.endAt&&!(function(d,p,v){const y=J_(d,p,v);return d.inclusive?y>=0:y>0})(r.endAt,gl(r),l))})(a,t)}function wb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function PT(a){return(t,i)=>{let r=!1;for(const l of gl(a)){const c=Cb(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Cb(a,t,i){const r=a.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?Qa(v,y):gt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:a.dir})}}class Br{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){zr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return ET(this.inner)}size(){return this.innerSize}}const Ib=new oe(ft.comparator);function $i(){return Ib}const zT=new oe(ft.comparator);function hl(...a){let t=zT;for(const i of a)t=t.insert(i.key,i);return t}function BT(a){let t=zT;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Or(){return pl()}function jT(){return pl()}function pl(){return new Br((a=>a.toString()),((a,t)=>a.isEqual(t)))}const Db=new oe(ft.comparator),Nb=new Oe(ft.comparator);function Ot(...a){let t=Nb;for(const i of a)t=t.add(i);return t}const Ob=new Oe(Nt);function Mb(){return Ob}function _m(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(t)?"-0":t}}function qT(a){return{integerValue:""+a}}function Vb(a,t){return rb(t)?qT(t):_m(a,t)}class sh{constructor(){this._=void 0}}function xb(a,t,i){return a instanceof Lc?(function(l,c){const d={fields:{[bT]:{stringValue:AT},[wT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&mm(c)&&(c=th(c)),c&&(d.fields[RT]=c),{mapValue:d}})(i,t):a instanceof bl?FT(a,t):a instanceof Rl?GT(a,t):(function(l,c){const d=HT(l,c),p=ev(d)+ev(l.Ae);return zd(d)&&zd(l.Ae)?qT(p):_m(l.serializer,p)})(a,t)}function Ub(a,t,i){return a instanceof bl?FT(a,t):a instanceof Rl?GT(a,t):i}function HT(a,t){return a instanceof Pc?(function(r){return zd(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Lc extends sh{}class bl extends sh{constructor(t){super(),this.elements=t}}function FT(a,t){const i=QT(t);for(const r of a.elements)i.some((l=>wi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Rl extends sh{constructor(t){super(),this.elements=t}}function GT(a,t){let i=QT(t);for(const r of a.elements)i=i.filter((l=>!wi(l,r)));return{arrayValue:{values:i}}}class Pc extends sh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function ev(a){return me(a.integerValue||a.doubleValue)}function QT(a){return gm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function kb(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof bl&&l instanceof bl||r instanceof Rl&&l instanceof Rl?Ga(r.elements,l.elements,wi):r instanceof Pc&&l instanceof Pc?wi(r.Ae,l.Ae):r instanceof Lc&&l instanceof Lc})(a.transform,t.transform)}class Lb{constructor(t,i){this.version=t,this.transformResults=i}}class Xi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xi}static exists(t){return new Xi(void 0,t)}static updateTime(t){return new Xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class rh{}function YT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new XT(a.key,Xi.none()):new Nl(a.key,a.data,Xi.none());{const i=a.data,r=Vn.empty();let l=new Oe(He.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new jr(a.key,r,new Kn(l.toArray()),Xi.none())}}function Pb(a,t,i){a instanceof Nl?(function(l,c,d){const p=l.value.clone(),v=iv(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof jr?(function(l,c,d){if(!Sc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=iv(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(KT(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function yl(a,t,i,r){return a instanceof Nl?(function(c,d,p,v){if(!Sc(c.precondition,d))return p;const y=c.value.clone(),S=sv(c.fieldTransforms,v,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,t,i,r):a instanceof jr?(function(c,d,p,v){if(!Sc(c.precondition,d))return p;const y=sv(c.fieldTransforms,v,d),S=d.data;return S.setAll(KT(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(a,t,i,r):(function(c,d,p){return Sc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function zb(a,t){let i=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),c=HT(r.transform,l||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(r.field,c))}return i||null}function nv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Ga(r,l,((c,d)=>kb(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Nl extends rh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class jr extends rh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function KT(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function iv(a,t,i){const r=new Map;qt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,Ub(d,p,i[l]))}return r}function sv(a,t,i){const r=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);r.set(l.field,xb(c,d,t))}return r}class XT extends rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bb extends rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jb{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Pb(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=yl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=yl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=jT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=YT(d,p);v!==null&&r.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Ga(this.mutations,t.mutations,((i,r)=>nv(i,r)))&&Ga(this.baseMutations,t.baseMutations,((i,r)=>nv(i,r)))}}class vm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){qt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return Db})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new vm(t,i,r,l)}}class qb{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Hb{constructor(t,i){this.count=t,this.unchangedNames=i}}var be,xt;function Fb(a){switch(a){case Z.OK:return gt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return gt(15467,{code:a})}}function ZT(a){if(a===void 0)return Ji("GRPC error has no .code"),Z.UNKNOWN;switch(a){case be.OK:return Z.OK;case be.CANCELLED:return Z.CANCELLED;case be.UNKNOWN:return Z.UNKNOWN;case be.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case be.INTERNAL:return Z.INTERNAL;case be.UNAVAILABLE:return Z.UNAVAILABLE;case be.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case be.NOT_FOUND:return Z.NOT_FOUND;case be.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case be.ABORTED:return Z.ABORTED;case be.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case be.DATA_LOSS:return Z.DATA_LOSS;default:return gt(39323,{code:a})}}(xt=be||(be={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";function Gb(){return new TextEncoder}const Qb=new Hs([4294967295,4294967295],0);function rv(a){const t=Gb().encode(a),i=new cT;return i.update(t),new Uint8Array(i.digest())}function av(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Hs([i,r],0),new Hs([l,c],0)]}class Tm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new fl(`Invalid padding: ${i}`);if(r<0)throw new fl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new fl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Hs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Hs.fromNumber(r)));return l.compare(Qb)===1&&(l=new Hs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=rv(t),[r,l]=av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Tm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=rv(t),[r,l]=av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ah{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Ol.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new ah(_t.min(),l,new oe(Nt),$i(),Ot())}}class Ol{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Ol(r,i,Ot(),Ot(),Ot())}}class Ac{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class JT{constructor(t,i){this.targetId=t,this.Ce=i}}class $T{constructor(t,i,r=Ge.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class ov{constructor(){this.ve=0,this.Fe=lv(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),r=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:gt(38017,{changeType:c})}})),new Ol(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=lv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Yb{constructor(t){this.Ge=t,this.ze=new Map,this.je=$i(),this.Je=gc(),this.He=gc(),this.Ye=new oe(Nt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(jd(c))if(r===0){const d=new ft(c.path);this.et(i,d,Xe.newNoDocument(d,_t.min()))}else qt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Xs(r).toUint8Array()}catch(v){if(v instanceof ST)return Fa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Tm(d,l,c)}catch(v){return Fa(v instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&jd(p.target)){const v=new ft(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ot();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new ah(t,i,this.Ye,this.je,r);return this.je=$i(),this.Je=gc(),this.He=gc(),this.Ye=new oe(Nt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new ov,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Oe(Nt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Oe(Nt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ov),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function gc(){return new oe(ft.comparator)}function lv(){return new oe(ft.comparator)}const Kb={asc:"ASCENDING",desc:"DESCENDING"},Xb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zb={and:"AND",or:"OR"};class Jb{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Hd(a,t){return a.useProto3Json||Wc(t)?t:{value:t}}function zc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function WT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function $b(a,t){return zc(a,t.toTimestamp())}function Ei(a){return qt(!!a,49232),_t.fromTimestamp((function(i){const r=Ks(i);return new Wt(r.seconds,r.nanos)})(a))}function Em(a,t){return Fd(a,t).canonicalString()}function Fd(a,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function tE(a){const t=ne.fromString(a);return qt(rE(t),10190,{key:t.toString()}),t}function Gd(a,t){return Em(a.databaseId,t.path)}function Rd(a,t){const i=tE(t);if(i.get(1)!==a.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ft(nE(i))}function eE(a,t){return Em(a.databaseId,t)}function Wb(a){const t=tE(a);return t.length===4?ne.emptyPath():nE(t)}function Qd(a){return new ne(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function nE(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function uv(a,t,i){return{name:Gd(a,t),fields:i.value.mapValue.fields}}function tR(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(qt(S===void 0||typeof S=="string",58123),Ge.fromBase64String(S||"")):(qt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ge.fromUint8Array(S||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const S=y.code===void 0?Z.UNKNOWN:ZT(y.code);return new lt(S,y.message||"")})(d);i=new $T(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Rd(a,r.document.name),c=Ei(r.document.updateTime),d=r.document.createTime?Ei(r.document.createTime):_t.min(),p=new Vn({mapValue:{fields:r.document.fields}}),v=Xe.newFoundDocument(l,c,d,p),y=r.targetIds||[],S=r.removedTargetIds||[];i=new Ac(y,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Rd(a,r.document),c=r.readTime?Ei(r.readTime):_t.min(),d=Xe.newNoDocument(l,c),p=r.removedTargetIds||[];i=new Ac([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Rd(a,r.document),c=r.removedTargetIds||[];i=new Ac([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new Hb(l,c),p=r.targetId;i=new JT(p,d)}}return i}function eR(a,t){let i;if(t instanceof Nl)i={update:uv(a,t.key,t.value)};else if(t instanceof XT)i={delete:Gd(a,t.key)};else if(t instanceof jr)i={update:uv(a,t.key,t.data),updateMask:cR(t.fieldMask)};else{if(!(t instanceof Bb))return gt(16599,{Vt:t.type});i={verify:Gd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Lc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Rl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Pc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:$b(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(a,t.precondition)),i}function nR(a,t){return a&&a.length>0?(qt(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?Ei(l.updateTime):Ei(c);return d.isEqual(_t.min())&&(d=Ei(c)),new Lb(d,l.transformResults||[])})(i,t)))):[]}function iR(a,t){return{documents:[eE(a,t.path)]}}function sR(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=eE(a,l);const c=(function(y){if(y.length!==0)return sE(Ci.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(V){return{field:Ua(V.field),direction:oR(V.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Hd(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function rR(a){let t=Wb(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){qt(r===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const V=iE(A);return V instanceof Ci&&MT(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((V=>(function(W){return new kc(ka(W.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let V;return V=typeof A=="object"?A.value:A,Wc(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(A){const V=!!A.before,H=A.values||[];return new Uc(H,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const V=!A.before,H=A.values||[];return new Uc(H,V)})(i.endAt)),Ab(t,l,d,c,p,"F",v,y)}function aR(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function iE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ka(i.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=ka(i.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ka(i.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ka(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ne.create(ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((r=>iE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(a):gt(30097,{filter:a})}function oR(a){return Kb[a]}function lR(a){return Xb[a]}function uR(a){return Zb[a]}function Ua(a){return{fieldPath:a.canonicalString()}}function ka(a){return He.fromServerFormat(a.fieldPath)}function sE(a){return a instanceof Ne?(function(i){if(i.op==="=="){if(Z_(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NAN"}};if(X_(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Z_(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NOT_NAN"}};if(X_(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(i.field),op:lR(i.op),value:i.value}}})(a):a instanceof Ci?(function(i){const r=i.getFilters().map((l=>sE(l)));return r.length===1?r[0]:{compositeFilter:{op:uR(i.op),filters:r}}})(a):gt(54877,{filter:a})}function cR(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function rE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Bs{constructor(t,i,r,l,c=_t.min(),d=_t.min(),p=Ge.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Bs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class hR{constructor(t){this.yt=t}}function fR(a){const t=rR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?qd(t,t.limit,"L"):t}class dR{constructor(){this.Cn=new mR}addToCollectionParentIndex(t,i){return this.Cn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(Ys.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(Ys.min())}updateCollectionGroup(t,i,r){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class mR{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Oe(ne.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Oe(ne.comparator)).toArray()}}const cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aE=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(aE,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class Ka{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ka(0)}static cr(){return new Ka(-1)}}const hv="LruGarbageCollector",gR=1048576;function fv([a,t],[i,r]){const l=Nt(a,i);return l===0?Nt(t,r):l}class pR{constructor(t){this.Ir=t,this.buffer=new Oe(fv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();fv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class yR{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(hv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){to(i)?it(hv,"Ignoring IndexedDB error during garbage collection: ",i):await Wa(i)}await this.Vr(3e5)}))}}class _R{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return K.resolve($c.ce);const r=new pR(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(cv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,v,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(r=A,p=Date.now(),this.removeTargets(t,r,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(y=Date.now(),Va()<=Dt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${A} documents in `+(y-v)+`ms
Total Duration: ${y-S}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function vR(a,t){return new _R(a,t)}class TR{constructor(){this.changes=new Br((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?K.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ER{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class SR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&yl(r.mutation,l,Kn.empty(),Wt.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Ot()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Ot()){const l=Or();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=hl();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Or();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Ot())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=$i();const d=pl(),p=(function(){return pl()})();return i.forEach(((v,y)=>{const S=r.get(y.key);l.has(y.key)&&(S===void 0||S.mutation instanceof jr)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),yl(S.mutation,y,S.mutation.getFieldMask(),Wt.now())):d.set(y.key,Kn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>p.set(y,new ER(S,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=pl();let l=new oe(((d,p)=>d-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let S=r.get(v)||Kn.empty();S=p.applyToLocalView(y,S),r.set(v,S);const A=(l.get(p.batchId)||Ot()).add(v);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,S=v.value,A=jT();S.forEach((V=>{if(!c.has(V)){const H=YT(i.get(V),r.get(V));H!==null&&A.set(V,H),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return K.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):bb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):K.resolve(Or());let p=Tl,v=c;return d.next((y=>K.forEach(y,((S,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(S)?K.resolve():this.remoteDocumentCache.getEntry(t,S).next((V=>{v=v.insert(S,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Ot()))).next((S=>({batchId:p,changes:BT(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((r=>{let l=hl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=hl();return this.indexManager.getCollectionParents(t,c).next((p=>K.forEach(p,(v=>{const y=(function(A,V){return new eh(V,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((S=>{S.forEach(((A,V)=>{d=d.insert(A,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((v,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,Xe.newInvalidDocument(S)))}));let p=hl();return d.forEach(((v,y)=>{const S=c.get(v);S!==void 0&&yl(S.mutation,y,Kn.empty(),Wt.now()),ih(i,y)&&(p=p.insert(v,y))})),p}))}}class AR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ei(l.createTime)}})(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:fR(l.bundledQuery),readTime:Ei(l.readTime)}})(i)),K.resolve()}}class bR{constructor(){this.overlays=new oe(ft.comparator),this.qr=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Or();return K.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),K.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(t,i,r){const l=Or(),c=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>r&&l.set(v.getKey(),v)}return K.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new oe(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let S=c.get(y.largestBatchId);S===null&&(S=Or(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const p=Or(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,S)=>p.set(y,S))),!(p.size()>=l)););return K.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new qb(i,r));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class RR{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}class Sm{constructor(){this.Qr=new Oe(Ue.$r),this.Ur=new Oe(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Ue(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Ue(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ft(new ne([])),r=new Ue(i,t),l=new Ue(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new ne([])),r=new Ue(i,t),l=new Ue(i,t+1);let c=Ot();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ue(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ue{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Nt(t.Yr,i.Yr)}static Kr(t,i){return Nt(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}class wR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Ue.$r)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new jb(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ue(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?dm:this.tr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Oe(Nt);return i.forEach((l=>{const c=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ft.isDocumentKey(c)||(c=c.child(""));const d=new Ue(new ft(c),0);let p=new Oe(Nt);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(v.Yr)),!0)}),d),K.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(i.mutations,(l=>{const c=new Ue(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Ue(i,0),l=this.Zr.firstAfterOrEqual(r);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class CR{constructor(t){this.ri=t,this.docs=(function(){return new oe(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return K.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let r=$i();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))})),K.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=$i();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:S}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||eb(tb(S),r)<=0||(l.has(S.key)||ih(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,i,r,l){gt(9500)}ii(t,i){return K.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new IR(this)}getSize(t){return K.resolve(this.size)}}class IR extends TR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),K.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class DR{constructor(t){this.persistence=t,this.si=new Br((i=>pm(i)),ym),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Sm,this.targetCount=0,this.ai=Ka.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),K.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ka(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.Pr(i),K.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),K.waitFor(c).next((()=>l))}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return K.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),K.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),K.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return K.resolve(r)}containsKey(t,i){return K.resolve(this._i.containsKey(i))}}class oE{constructor(t,i){this.ui={},this.overlays={},this.ci=new $c(0),this.li=!1,this.li=!0,this.hi=new RR,this.referenceDelegate=t(this),this.Pi=new DR(this),this.indexManager=new dR,this.remoteDocumentCache=(function(l){return new CR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new hR(i),this.Ii=new AR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new bR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new wR(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){it("MemoryPersistence","Starting transaction:",t);const l=new NR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return K.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class NR extends ib{constructor(t){super(),this.currentSequenceNumber=t}}class Am{constructor(t){this.persistence=t,this.Ri=new Sm,this.Vi=null}static mi(t){return new Am(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),K.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(r=>{const l=ft.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Bc{constructor(t,i){this.persistence=t,this.pi=new Br((r=>ab(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=vR(this,i)}static mi(t,i){return new Bc(t,i)}Ei(){}di(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return K.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?K.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),K.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),K.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Tc(t.data.value)),i}br(t,i,r){return K.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return K.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class bm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new bm(t,i.fromCache,r,l)}}class OR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class MR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bA()?8:sb(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new OR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Va()<=Dt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Va()<=Dt.DEBUG&&it("QueryEngine","Query:",xa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Va()<=Dt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):K.resolve())}ys(t,i){if(tv(i))return K.resolve(null);let r=Ti(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=qd(i,null,"F"),r=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((v=>{const y=this.Ds(i,p);return this.Cs(i,y,d,v.readTime)?this.ys(t,qd(i,null,"F")):this.vs(t,y,i,v)}))))})))))}ws(t,i,r,l){return tv(i)||l.isEqual(_t.min())?K.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?K.resolve(null):(Va()<=Dt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xa(i)),this.vs(t,d,i,W1(l,Tl)).next((p=>p)))}))}Ds(t,i){let r=new Oe(PT(t));return i.forEach(((l,c)=>{ih(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return Va()<=Dt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",xa(i)),this.ps.getDocumentsMatchingQuery(t,i,Ys.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Rm="LocalStore",VR=3e8;class xR{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Nt),this.xs=new Br((c=>pm(c)),ym),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function UR(a,t,i,r){return new xR(a,t,i,r)}async function lE(a,t){const i=Tt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let v=Ot();for(const y of l){d.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}for(const y of c){p.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(r,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function kR(a,t){const i=Tt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,S){const A=y.batch,V=A.keys();let H=K.resolve();return V.forEach((W=>{H=H.next((()=>S.getEntry(v,W))).next((X=>{const $=y.docVersions.get(W);qt($!==null,48541),X.version.compareTo($)<0&&(A.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),S.addEntry(X)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(v,A)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let v=Ot();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function uE(a){const t=Tt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function LR(a,t){const i=Tt(a),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((S,A)=>{const V=l.get(A);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,A))));let H=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?H=H.withResumeToken(Ge.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,r)),l=l.insert(A,H),(function(X,$,at){return X.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=VR?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(V,H,S)&&p.push(i.Pi.updateTargetData(c,H))}));let v=$i(),y=Ot();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(PR(c,d,t.documentUpdates).next((S=>{v=S.ks,y=S.qs}))),!r.isEqual(_t.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(S)}return K.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.Ms=l,c)))}function PR(a,t,i){let r=Ot(),l=Ot();return i.forEach((c=>r=r.add(c))),t.getEntries(a,r).next((c=>{let d=$i();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(_t.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):it(Rm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:l}}))}function zR(a,t){const i=Tt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=dm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function BR(a,t){const i=Tt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,K.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Bs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Yd(a,t,i){const r=Tt(a),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!to(d))throw d;it(Rm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function dv(a,t,i){const r=Tt(a);let l=_t.min(),c=Ot();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,S){const A=Tt(v),V=A.xs.get(S);return V!==void 0?K.resolve(A.Ms.get(V)):A.Pi.getTargetData(y,S)})(r,d,Ti(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Ot()))).next((p=>(jR(r,wb(t),p),{documents:p,Qs:c})))))}function jR(a,t,i){let r=a.Os.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(t,r)}class mv{constructor(){this.activeTargetIds=Mb()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qR{constructor(){this.Mo=new mv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new mv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class HR{Oo(t){}shutdown(){}}const gv="ConnectivityMonitor";class pv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(gv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(gv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let pc=null;function Kd(){return pc===null?pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():pc++,"0x"+pc.toString(16)}const wd="RestConnection",FR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Vc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Kd(),p=this.zo(t,i.toUriEncodedString());it(wd,`Sending RPC '${t}' ${d}:`,p,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,c);const{host:y}=new URL(p),S=Pr(y);return this.Jo(t,p,v,r,S).then((A=>(it(wd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Fa(wd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",r),A}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$a})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=FR[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class QR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class YR extends GR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Kd();return new Promise(((p,v)=>{const y=new hT;y.setWithCredentials(!0),y.listenOnce(fT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case vc.NO_ERROR:const A=y.getResponseJson();it(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case vc.TIMEOUT:it(Ye,`RPC '${t}' ${d} timed out`),v(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const V=y.getStatus();if(it(Ye,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const W=H?.error;if(W&&W.status&&W.message){const X=(function(at){const dt=at.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(dt)>=0?dt:Z.UNKNOWN})(W.status);v(new lt(X,W.message))}else v(new lt(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Ye,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);it(Ye,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",S,r,15)}))}T_(t,i,r){const l=Kd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=gT(),p=mT(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const S=c.join("");it(Ye,`Creating RPC '${t}' stream ${l}: ${S}`,v);const A=d.createWebChannel(S,v);this.I_(A);let V=!1,H=!1;const W=new QR({Yo:$=>{H?it(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(V||(it(Ye,`Opening RPC '${t}' stream ${l} transport.`),A.open(),V=!0),it(Ye,`RPC '${t}' stream ${l} sending:`,$),A.send($))},Zo:()=>A.close()}),X=($,at,dt)=>{$.listen(at,(ut=>{try{dt(ut)}catch(Lt){setTimeout((()=>{throw Lt}),0)}}))};return X(A,cl.EventType.OPEN,(()=>{H||(it(Ye,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),X(A,cl.EventType.CLOSE,(()=>{H||(H=!0,it(Ye,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(A))})),X(A,cl.EventType.ERROR,($=>{H||(H=!0,Fa(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),W.a_(new lt(Z.UNAVAILABLE,"The operation could not be completed")))})),X(A,cl.EventType.MESSAGE,($=>{if(!H){const at=$.data[0];qt(!!at,16349);const dt=at,ut=dt?.error||dt[0]?.error;if(ut){it(Ye,`RPC '${t}' stream ${l} received error:`,ut);const Lt=ut.status;let Yt=(function(b){const C=be[b];if(C!==void 0)return ZT(C)})(Lt),Ut=ut.message;Yt===void 0&&(Yt=Z.INTERNAL,Ut="Unknown error status: "+Lt+" with message "+ut.message),H=!0,W.a_(new lt(Yt,Ut)),A.close()}else it(Ye,`RPC '${t}' stream ${l} received:`,at),W.u_(at)}})),X(p,dT.STAT_EVENT,($=>{$.stat===kd.PROXY?it(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===kd.NOPROXY&&it(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Cd(){return typeof document<"u"?document:null}function oh(a){return new Jb(a,!0)}class cE{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const yv="PersistentStream";class hE{constructor(t,i,r,l,c,d,p,v){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Ji(i.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new lt(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(yv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KR extends hE{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=tR(this.serializer,t),r=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Ei(d.readTime):_t.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Qd(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=jd(v)?{documents:iR(c,v)}:{query:sR(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=WT(c,d.resumeToken);const y=Hd(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=zc(c,d.snapshotVersion.toTimestamp());const y=Hd(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=aR(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Qd(this.serializer),i.removeTarget=t,this.q_(i)}}class XR extends hE{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=nR(t.writeResults,t.commitTime),r=Ei(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Qd(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>eR(this.serializer,r)))};this.q_(i)}}class ZR{}class JR extends ZR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Fd(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(Z.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Fd(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $R{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ji(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const kr="RemoteStore";class WR{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{qr(this)&&(it(kr,"Restarting streams for network reachability change."),await(async function(v){const y=Tt(v);y.Ea.add(4),await Ml(y),y.Ra.set("Unknown"),y.Ea.delete(4),await lh(y)})(this))}))})),this.Ra=new $R(r,l)}}async function lh(a){if(qr(a))for(const t of a.da)await t(!0)}async function Ml(a){for(const t of a.da)await t(!1)}function fE(a,t){const i=Tt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Dm(i)?Im(i):eo(i).O_()&&Cm(i,t))}function wm(a,t){const i=Tt(a),r=eo(i);i.Ia.delete(t),r.O_()&&dE(i,t),i.Ia.size===0&&(r.O_()?r.L_():qr(i)&&i.Ra.set("Unknown"))}function Cm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}eo(a).Y_(t)}function dE(a,t){a.Va.Ue(t),eo(a).Z_(t)}function Im(a){a.Va=new Yb({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),eo(a).start(),a.Ra.ua()}function Dm(a){return qr(a)&&!eo(a).x_()&&a.Ia.size>0}function qr(a){return Tt(a).Ea.size===0}function mE(a){a.Va=void 0}async function tw(a){a.Ra.set("Online")}async function ew(a){a.Ia.forEach(((t,i)=>{Cm(a,t)}))}async function nw(a,t){mE(a),Dm(a)?(a.Ra.ha(t),Im(a)):a.Ra.set("Unknown")}async function iw(a,t,i){if(a.Ra.set("Online"),t instanceof $T&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,t)}catch(r){it(kr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await jc(a,r)}else if(t instanceof Ac?a.Va.Ze(t):t instanceof JT?a.Va.st(t):a.Va.tt(t),!i.isEqual(_t.min()))try{const r=await uE(a.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const S=c.Ia.get(v);if(!S)return;c.Ia.set(v,S.withResumeToken(Ge.EMPTY_BYTE_STRING,S.snapshotVersion)),dE(c,v);const A=new Bs(S.target,v,y,S.sequenceNumber);Cm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){it(kr,"Failed to raise snapshot:",r),await jc(a,r)}}async function jc(a,t,i){if(!to(t))throw t;a.Ea.add(1),await Ml(a),a.Ra.set("Offline"),i||(i=()=>uE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{it(kr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await lh(a)}))}function gE(a,t){return t().catch((i=>jc(a,i,t)))}async function uh(a){const t=Tt(a),i=Js(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:dm;for(;sw(t);)try{const l=await zR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,rw(t,l)}catch(l){await jc(t,l)}pE(t)&&yE(t)}function sw(a){return qr(a)&&a.Ta.length<10}function rw(a,t){a.Ta.push(t);const i=Js(a);i.O_()&&i.X_&&i.ea(t.mutations)}function pE(a){return qr(a)&&!Js(a).x_()&&a.Ta.length>0}function yE(a){Js(a).start()}async function aw(a){Js(a).ra()}async function ow(a){const t=Js(a);for(const i of a.Ta)t.ea(i.mutations)}async function lw(a,t,i){const r=a.Ta.shift(),l=vm.from(r,t,i);await gE(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await uh(a)}async function uw(a,t){t&&Js(a).X_&&await(async function(r,l){if((function(d){return Fb(d)&&d!==Z.ABORTED})(l.code)){const c=r.Ta.shift();Js(r).B_(),await gE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await uh(r)}})(a,t),pE(a)&&yE(a)}async function _v(a,t){const i=Tt(a);i.asyncQueue.verifyOperationInProgress(),it(kr,"RemoteStore received new credentials");const r=qr(i);i.Ea.add(3),await Ml(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await lh(i)}async function cw(a,t){const i=Tt(a);t?(i.Ea.delete(2),await lh(i)):t||(i.Ea.add(2),await Ml(i),i.Ra.set("Unknown"))}function eo(a){return a.ma||(a.ma=(function(i,r,l){const c=Tt(i);return c.sa(),new KR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:tw.bind(null,a),t_:ew.bind(null,a),r_:nw.bind(null,a),H_:iw.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Dm(a)?Im(a):a.Ra.set("Unknown")):(await a.ma.stop(),mE(a))}))),a.ma}function Js(a){return a.fa||(a.fa=(function(i,r,l){const c=Tt(i);return c.sa(),new XR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:aw.bind(null,a),r_:uw.bind(null,a),ta:ow.bind(null,a),na:lw.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await uh(a)):(await a.fa.stop(),a.Ta.length>0&&(it(kr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Nm{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new Nm(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(a,t){if(Ji("AsyncQueue",`${t}: ${a}`),to(a))return new lt(Z.UNAVAILABLE,`${t}: ${a}`);throw a}class Pa{static emptySet(t){return new Pa(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=hl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Pa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Pa;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class vv{constructor(){this.ga=new oe(ft.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Xa{constructor(t,i,r,l,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Xa(t,i,Pa.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class hw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class fw{constructor(){this.queries=Tv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Tt(i),c=l.queries;l.queries=Tv(),c.forEach(((d,p)=>{for(const v of p.Sa)v.onError(r)}))})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function Tv(){return new Br((a=>LT(a)),nh)}async function dw(a,t){const i=Tt(a);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new hw,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Om(d,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Mm(i)}async function mw(a,t){const i=Tt(a),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function gw(a,t){const i=Tt(a);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Mm(i)}function pw(a,t,i){const r=Tt(a),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Mm(a){a.Ca.forEach((t=>{t.next()}))}var Xd,Ev;(Ev=Xd||(Xd={})).Ma="default",Ev.Cache="cache";class yw{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Xa(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Xa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Xd.Cache}}class _E{constructor(t){this.key=t}}class vE{constructor(t){this.key=t}}class _w{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=PT(t),this.tu=new Pa(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new vv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,A)=>{const V=l.get(S),H=ih(this.query,A)?A:null,W=!!V&&this.mutatedKeys.has(V.key),X=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $=!1;V&&H?V.data.isEqual(H.data)?W!==X&&(r.track({type:3,doc:H}),$=!0):this.su(V,H)||(r.track({type:2,doc:H}),$=!0,(v&&this.eu(H,v)>0||y&&this.eu(H,y)<0)&&(p=!0)):!V&&H?(r.track({type:0,doc:H}),$=!0):V&&!H&&(r.track({type:1,doc:V}),$=!0,(v||y)&&(p=!0)),$&&(H?(d=d.add(H),c=X?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,A)=>(function(H,W){const X=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:$})}};return X(H)-X(W)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new Xa(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new vE(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new _E(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vm="SyncEngine";class vw{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class Tw{constructor(t){this.key=t,this.hu=!1}}class Ew{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Br((p=>LT(p)),nh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ft.comparator),this.Au=new Map,this.Ru=new Sm,this.Vu={},this.mu=new Map,this.fu=Ka.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Sw(a,t,i=!0){const r=RE(a);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await TE(r,t,i,!0),l}async function Aw(a,t){const i=RE(a);await TE(i,t,!0,!1)}async function TE(a,t,i,r){const l=await BR(a.localStore,Ti(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await bw(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&fE(a.remoteStore,l),p}async function bw(a,t,i,r,l){a.pu=(A,V,H)=>(async function(X,$,at,dt){let ut=$.view.ru(at);ut.Cs&&(ut=await dv(X.localStore,$.query,!1).then((({documents:I})=>$.view.ru(I,ut))));const Lt=dt&&dt.targetChanges.get($.targetId),Yt=dt&&dt.targetMismatches.get($.targetId)!=null,Ut=$.view.applyChanges(ut,X.isPrimaryClient,Lt,Yt);return Av(X,$.targetId,Ut.au),Ut.snapshot})(a,A,V,H);const c=await dv(a.localStore,t,!0),d=new _w(t,c.Qs),p=d.ru(c.documents),v=Ol.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),y=d.applyChanges(p,a.isPrimaryClient,v);Av(a,i,y.au);const S=new vw(t,i,d);return a.Tu.set(t,S),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),y.snapshot}async function Rw(a,t,i){const r=Tt(a),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!nh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Yd(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&wm(r.remoteStore,l.targetId),Zd(r,l.targetId)})).catch(Wa)):(Zd(r,l.targetId),await Yd(r.localStore,l.targetId,!0))}async function ww(a,t){const i=Tt(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),wm(i.remoteStore,r.targetId))}async function Cw(a,t,i){const r=xw(a);try{const l=await(function(d,p){const v=Tt(d),y=Wt.now(),S=p.reduce(((H,W)=>H.add(W.key)),Ot());let A,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let W=$i(),X=Ot();return v.Ns.getEntries(H,S).next(($=>{W=$,W.forEach(((at,dt)=>{dt.isValidDocument()||(X=X.add(at))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,W))).next(($=>{A=$;const at=[];for(const dt of p){const ut=zb(dt,A.get(dt.key).overlayedDocument);ut!=null&&at.push(new jr(dt.key,ut,DT(ut.value.mapValue),Xi.exists(!0)))}return v.mutationQueue.addMutationBatch(H,y,at,p)})).next(($=>{V=$;const at=$.applyToLocalDocumentSet(A,X);return v.documentOverlayCache.saveOverlays(H,$.batchId,at)}))})).then((()=>({batchId:V.batchId,changes:BT(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new oe(Nt)),y=y.insert(p,v),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await Vl(r,l.changes),await uh(r.remoteStore)}catch(l){const c=Om(l,"Failed to persist write");i.reject(c)}}async function EE(a,t){const i=Tt(a);try{const r=await LR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await Vl(i,r,t)}catch(r){await Wa(r)}}function Sv(a,t,i){const r=Tt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=Tt(d);v.onlineState=p;let y=!1;v.queries.forEach(((S,A)=>{for(const V of A.Sa)V.va(p)&&(y=!0)})),y&&Mm(v)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Iw(a,t,i){const r=Tt(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new oe(ft.comparator);d=d.insert(c,Xe.newNoDocument(c,_t.min()));const p=Ot().add(c),v=new ah(_t.min(),new Map,new oe(Nt),d,p);await EE(r,v),r.du=r.du.remove(c),r.Au.delete(t),xm(r)}else await Yd(r.localStore,t,!1).then((()=>Zd(r,t,i))).catch(Wa)}async function Dw(a,t){const i=Tt(a),r=t.batch.batchId;try{const l=await kR(i.localStore,t);AE(i,r,null),SE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Vl(i,l)}catch(l){await Wa(l)}}async function Nw(a,t,i){const r=Tt(a);try{const l=await(function(d,p){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return v.mutationQueue.lookupMutationBatch(y,p).next((A=>(qt(A!==null,37113),S=A.keys(),v.mutationQueue.removeMutationBatch(y,A)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,S,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>v.localDocuments.getDocuments(y,S)))}))})(r.localStore,t);AE(r,t,i),SE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Vl(r,l)}catch(l){await Wa(l)}}function SE(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function AE(a,t,i){const r=Tt(a);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Zd(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||bE(a,r)}))}function bE(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(wm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),xm(a))}function Av(a,t,i){for(const r of i)r instanceof _E?(a.Ru.addReference(r.key,t),Ow(a,r)):r instanceof vE?(it(Vm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||bE(a,r.key)):gt(19791,{wu:r})}function Ow(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(it(Vm,"New document in limbo: "+i),a.Eu.add(r),xm(a))}function xm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ft(ne.fromString(t)),r=a.fu.next();a.Au.set(r,new Tw(i)),a.du=a.du.insert(i,r),fE(a.remoteStore,new Bs(Ti(kT(i.path)),r,"TargetPurposeLimboResolution",$c.ce))}}async function Vl(a,t,i){const r=Tt(a),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,v)=>{d.push(r.pu(v,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(y){l.push(y);const S=bm.As(v.targetId,y);c.push(S)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(v,y){const S=Tt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>K.forEach(y,(V=>K.forEach(V.Es,(H=>S.persistence.referenceDelegate.addReference(A,V.targetId,H))).next((()=>K.forEach(V.ds,(H=>S.persistence.referenceDelegate.removeReference(A,V.targetId,H)))))))))}catch(A){if(!to(A))throw A;it(Rm,"Failed to update sequence numbers: "+A)}for(const A of y){const V=A.targetId;if(!A.fromCache){const H=S.Ms.get(V),W=H.snapshotVersion,X=H.withLastLimboFreeSnapshotVersion(W);S.Ms=S.Ms.insert(V,X)}}})(r.localStore,c))}async function Mw(a,t){const i=Tt(a);if(!i.currentUser.isEqual(t)){it(Vm,"User change. New user:",t.toKey());const r=await lE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new lt(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Vl(i,r.Ls)}}function Vw(a,t){const i=Tt(a),r=i.Au.get(t);if(r&&r.hu)return Ot().add(r.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function RE(a){const t=Tt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=EE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Iw.bind(null,t),t.Pu.H_=gw.bind(null,t.eventManager),t.Pu.yu=pw.bind(null,t.eventManager),t}function xw(a){const t=Tt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Dw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nw.bind(null,t),t}class qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=oh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return UR(this.persistence,new MR,t.initialUser,this.serializer)}Cu(t){return new oE(Am.mi,this.serializer)}Du(t){return new qR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qc.provider={build:()=>new qc};class Uw extends qc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof Bc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yR(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new oE((r=>Bc.mi(r,i)),this.serializer)}}class Jd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mw.bind(null,this.syncEngine),await cw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new fw})()}createDatastore(t){const i=oh(t.databaseInfo.databaseId),r=(function(c){return new YR(c)})(t.databaseInfo);return(function(c,d,p,v){return new JR(c,d,p,v)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new WR(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Sv(this.syncEngine,i,0)),(function(){return pv.v()?new pv:new HR})())}createSyncEngine(t,i){return(function(l,c,d,p,v,y,S){const A=new Ew(l,c,d,p,v,y);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Tt(i);it(kr,"RemoteStore shutting down."),r.Ea.add(5),await Ml(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jd.provider={build:()=>new Jd};class kw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ji("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const $s="FirestoreClient";class Lw{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Ke.UNAUTHENTICATED,this.clientId=hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{it($s,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(it($s,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Om(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Id(a,t){a.asyncQueue.verifyOperationInProgress(),it($s,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await lE(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function bv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await Pw(a);it($s,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>_v(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>_v(t.remoteStore,l))),a._onlineComponents=t}async function Pw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it($s,"Using user provided OfflineComponentProvider");try{await Id(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Fa("Error using user provided cache. Falling back to memory cache: "+i),await Id(a,new qc)}}else it($s,"Using default OfflineComponentProvider"),await Id(a,new Uw(void 0));return a._offlineComponents}async function wE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it($s,"Using user provided OnlineComponentProvider"),await bv(a,a._uninitializedComponentsProvider._online)):(it($s,"Using default OnlineComponentProvider"),await bv(a,new Jd))),a._onlineComponents}function zw(a){return wE(a).then((t=>t.syncEngine))}async function Bw(a){const t=await wE(a),i=t.eventManager;return i.onListen=Sw.bind(null,t.syncEngine),i.onUnlisten=Rw.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Aw.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=ww.bind(null,t.syncEngine),i}function jw(a,t,i={}){const r=new Fs;return a.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,y){const S=new kw({next:V=>{S.Nu(),d.enqueueAndForget((()=>mw(c,A))),V.fromCache&&v.source==="server"?y.reject(new lt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(V)},error:V=>y.reject(V)}),A=new yw(p,S,{includeMetadataChanges:!0,qa:!0});return dw(c,A)})(await Bw(a),a.asyncQueue,t,i,r))),r.promise}function CE(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const Rv=new Map;const IE="firestore.googleapis.com",wv=!0;class Cv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IE,this.ssl=wv}else this.host=t.host,this.ssl=t.ssl??wv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<gR)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ch{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new q1;switch(r.type){case"firstParty":return new Q1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Rv.get(i);r&&(it("ComponentProvider","Removing Datastore"),Rv.delete(i),r.terminate())})(this),Promise.resolve()}}function qw(a,t,i,r={}){a=Oc(a,ch);const l=Pr(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(rm(`https://${p}`),am("Firestore",!0)),c.host!==IE&&c.host!==p&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:r};if(!Vr(v,d)&&(a._setSettings(v),r.mockUserToken)){let y,S;if(typeof r.mockUserToken=="string")y=r.mockUserToken,S=Ke.MOCK_USER;else{y=gA(r.mockUserToken,a._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ke(A)}a._authCredentials=new H1(new yT(y,S))}}class hh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new hh(this.firestore,t,this._query)}}class Fe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fe(this.firestore,t,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Dl(i,Fe._jsonSchema))return new Fe(t,r||null,new ft(ne.fromString(i.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:Re("string",Fe._jsonSchemaVersion),referencePath:Re("string")};class Gs extends hh{constructor(t,i,r){super(t,i,kT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fe(this.firestore,null,new ft(t))}withConverter(t){return new Gs(this.firestore,t,this._path)}}function $d(a,t,...i){if(a=_n(a),_T("collection","path",t),a instanceof ch){const r=ne.fromString(t,...i);return j_(r),new Gs(a,null,r)}{if(!(a instanceof Fe||a instanceof Gs))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ne.fromString(t,...i));return j_(r),new Gs(a.firestore,null,r)}}function Hw(a,t,...i){if(a=_n(a),arguments.length===1&&(t=hm.newId()),_T("doc","path",t),a instanceof ch){const r=ne.fromString(t,...i);return B_(r),new Fe(a,null,new ft(r))}{if(!(a instanceof Fe||a instanceof Gs))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ne.fromString(t,...i));return B_(r),new Fe(a.firestore,a instanceof Gs?a.converter:null,new ft(r))}}const Iv="AsyncQueue";class Dv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cE(this,"async_queue_retry"),this._c=()=>{const r=Cd();r&&it(Iv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Cd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Cd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!to(t))throw t;it(Iv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ji("INTERNAL UNHANDLED ERROR: ",Nv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Nm.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:Nv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Nv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class Um extends ch{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Dv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Dv(t),this._firestoreClient=void 0,await t}}}function Fw(a,t){const i=typeof a=="object"?a:um(),r=typeof a=="string"?a:Vc,l=Jc(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=nT("firestore");c&&qw(l,...c)}return l}function DE(a){if(a._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Gw(a),a._firestoreClient}function Gw(a){const t=a._freezeSettings(),i=(function(l,c,d,p){return new ub(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,CE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new Lw(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Ge.fromBase64String(t))}catch(i){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xn(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Dl(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Re("string",xn._jsonSchemaVersion),bytes:Re("string")};class km{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class NE{constructor(t){this._methodName=t}}class Si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(t){if(Dl(t,Si._jsonSchema))return new Si(t.latitude,t.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Re("string",Si._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Ai{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Dl(t,Ai._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ai(t.vectorValues);throw new lt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ai._jsonSchemaVersion="firestore/vectorValue/1.0",Ai._jsonSchema={type:Re("string",Ai._jsonSchemaVersion),vectorValues:Re("object")};const Qw=/^__.*__$/;class Yw{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new jr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Nl(t,this.data,i,this.fieldTransforms)}}function OE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:a})}}class Lm{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Lm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Hc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(OE(this.Ac)&&Qw.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Kw{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||oh(t)}Cc(t,i,r,l=!1){return new Lm({Ac:t,methodName:i,Dc:r,path:He.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xw(a){const t=a._freezeSettings(),i=oh(a._databaseId);return new Kw(a._databaseId,!!t.ignoreUndefinedProperties,i)}function Zw(a,t,i,r,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);UE("Data must be an object, but it was:",d,r);const p=VE(r,d);let v,y;if(c.merge)v=new Kn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const V=Jw(t,A,i);if(!d.contains(V))throw new lt(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);Ww(S,V)||S.push(V)}v=new Kn(S),y=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,y=d.fieldTransforms;return new Yw(new Vn(p),v,y)}function ME(a,t){if(xE(a=_n(a)))return UE("Unsupported field value:",t,a),VE(a,t);if(a instanceof NE)return(function(r,l){if(!OE(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let v=ME(p,l.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(a,t)}return(function(r,l){if((r=_n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Vb(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Wt.fromDate(r);return{timestampValue:zc(l.serializer,c)}}if(r instanceof Wt){const c=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zc(l.serializer,c)}}if(r instanceof Si)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xn)return{bytesValue:WT(l.serializer,r._byteString)};if(r instanceof Fe){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Em(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ai)return(function(d,p){return{mapValue:{fields:{[CT]:{stringValue:IT},[xc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return _m(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${fm(r)}`)})(a,t)}function VE(a,t){const i={};return ET(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zr(a,((r,l)=>{const c=ME(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function xE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Wt||a instanceof Si||a instanceof xn||a instanceof Fe||a instanceof NE||a instanceof Ai)}function UE(a,t,i){if(!xE(i)||!vT(i)){const r=fm(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function Jw(a,t,i){if((t=_n(t))instanceof km)return t._internalPath;if(typeof t=="string")return kE(a,t);throw Hc("Field path arguments must be of type string or ",a,!1,void 0,i)}const $w=new RegExp("[~\\*/\\[\\]]");function kE(a,t,i){if(t.search($w)>=0)throw Hc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new km(...t.split("."))._internalPath}catch{throw Hc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Hc(a,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${r}`),d&&(v+=` in document ${l}`),v+=")"),new lt(Z.INVALID_ARGUMENT,p+a+v)}function Ww(a,t){return a.some((i=>i.isEqual(t)))}class LE{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(PE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tC extends LE{data(){return super.data()}}function PE(a,t){return typeof t=="string"?kE(a,t):t instanceof km?t._internalPath:t._delegate._internalPath}function eC(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nC{convertValue(t,i="none"){switch(Zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return zr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[xc].arrayValue?.values?.map((r=>me(r.doubleValue)));return new Ai(i)}convertGeoPoint(t){return new Si(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=th(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(El(t));default:return null}}convertTimestamp(t){const i=Ks(t);return new Wt(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ne.fromString(t);qt(rE(r),9688,{name:t});const l=new Sl(r.get(1),r.get(3)),c=new ft(r.popFirst(5));return l.isEqual(i)||Ji(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function iC(a,t,i){let r;return r=a?a.toFirestore(t):t,r}class yc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class za extends LE{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(PE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=za._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}za._jsonSchemaVersion="firestore/documentSnapshot/1.0",za._jsonSchema={type:Re("string",za._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class bc extends za{data(t={}){return super.data(t)}}class Ba{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new yc(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new bc(this._firestore,this._userDataWriter,r.key,r,new yc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,S=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:sC(p.type),doc:v,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ba._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function sC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:a})}}Ba._jsonSchemaVersion="firestore/querySnapshot/1.0",Ba._jsonSchema={type:Re("string",Ba._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class rC extends nC{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Fe(this.firestore,null,i)}}function zE(a){a=Oc(a,hh);const t=Oc(a.firestore,Um),i=DE(t),r=new rC(t);return eC(a._query),jw(i,a._query).then((l=>new Ba(t,r,a,l)))}function aC(a,t){const i=Oc(a.firestore,Um),r=Hw(a),l=iC(a.converter,t);return oC(i,[Zw(Xw(a.firestore),"addDoc",r._key,l,a.converter!==null,{}).toMutation(r._key,Xi.exists(!1))]).then((()=>r))}function oC(a,t){return(function(r,l){const c=new Fs;return r.asyncQueue.enqueueAndForget((async()=>Cw(await zw(r),l,c))),c.promise})(DE(a),t)}(function(t,i=!0){(function(l){$a=l})(Ja),xr(new Qs("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Um(new F1(r.getProvider("auth-internal")),new Y1(d,r.getProvider("app-check-internal")),(function(y,S){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(y.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),vi(k_,L_,t),vi(k_,L_,"esm2020")})();var lC="firebase",uC="12.6.0";vi(lC,uC,"app");function BE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cC=BE,jE=new Cl("auth","Firebase",BE());const Fc=new om("@firebase/auth");function hC(a,...t){Fc.logLevel<=Dt.WARN&&Fc.warn(`Auth (${Ja}): ${a}`,...t)}function Rc(a,...t){Fc.logLevel<=Dt.ERROR&&Fc.error(`Auth (${Ja}): ${a}`,...t)}function Wi(a,...t){throw Pm(a,...t)}function bi(a,...t){return Pm(a,...t)}function qE(a,t,i){const r={...cC(),[t]:i};return new Cl("auth","Firebase",r).create(t,{appName:a.name})}function Mr(a){return qE(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pm(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return jE.create(a,...t)}function pt(a,t,...i){if(!a)throw Pm(t,...i)}function Yi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Rc(t),new Error(t)}function ts(a,t){a||Yi(t)}function Wd(){return typeof self<"u"&&self.location?.href||""}function fC(){return Ov()==="http:"||Ov()==="https:"}function Ov(){return typeof self<"u"&&self.location?.protocol||null}function dC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fC()||EA()||"connection"in navigator)?navigator.onLine:!0}function mC(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ts(i>t,"Short delay should be less than long delay!"),this.isMobile=_A()||SA()}get(){return dC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zm(a,t){ts(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class HE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const pC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yC=new xl(3e4,6e4);function Bm(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function no(a,t,i,r,l={}){return FE(a,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=Il({key:a.config.apiKey,...d}).slice(1),v=await a._getAdditionalHeaders();v["Content-Type"]="application/json",a.languageCode&&(v["X-Firebase-Locale"]=a.languageCode);const y={method:t,headers:v,...c};return TA()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&Pr(a.emulatorConfig.host)&&(y.credentials="include"),HE.fetch()(await GE(a,a.config.apiHost,i,p),y)})}async function FE(a,t,i){a._canInitEmulator=!1;const r={...gC,...t};try{const l=new vC(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw _c(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(a,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw _c(a,"email-already-in-use",d);if(v==="USER_DISABLED")throw _c(a,"user-disabled",d);const S=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw qE(a,S,y);Wi(a,S)}}catch(l){if(l instanceof es)throw l;Wi(a,"network-request-failed",{message:String(l)})}}async function _C(a,t,i,r,l={}){const c=await no(a,t,i,r,l);return"mfaPendingCredential"in c&&Wi(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function GE(a,t,i,r){const l=`${t}${i}?${r}`,c=a,d=c.config.emulator?zm(a.config,l):`${a.config.apiScheme}://${l}`;return pC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class vC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(bi(this.auth,"network-request-failed")),yC.get())})}}function _c(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=bi(a,t,r);return l.customData._tokenResponse=i,l}async function TC(a,t){return no(a,"POST","/v1/accounts:delete",t)}async function Gc(a,t){return no(a,"POST","/v1/accounts:lookup",t)}function _l(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function EC(a,t=!1){const i=_n(a),r=await i.getIdToken(t),l=jm(r);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:_l(Dd(l.auth_time)),issuedAtTime:_l(Dd(l.iat)),expirationTime:_l(Dd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Dd(a){return Number(a)*1e3}function jm(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return Rc("JWT malformed, contained fewer than 3 sections"),null;try{const l=tT(i);return l?JSON.parse(l):(Rc("Failed to decode base64 JWT payload"),null)}catch(l){return Rc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Mv(a){const t=jm(a);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function wl(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof es&&SC(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function SC({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class AC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(a){const t=a.auth,i=await a.getIdToken(),r=await wl(a,Gc(t,{idToken:i}));pt(r?.users.length,t,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?QE(l.providerUserInfo):[],d=RC(a.providerData,c),p=a.isAnonymous,v=!(a.email&&l.passwordHash)&&!d?.length,y=p?v:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(a,S)}async function bC(a){const t=_n(a);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function RC(a,t){return[...a.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function QE(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function wC(a,t){const i=await FE(a,{},async()=>{const r=Il({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await GE(a,l,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:r};return a.emulatorConfig&&Pr(a.emulatorConfig.host)&&(v.credentials="include"),HE.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function CC(a,t){return no(a,"POST","/v2/accounts:revokeToken",Bm(a,t))}class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Mv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=Mv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await wC(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new ja;return r&&(pt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function Us(a,t){pt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new AC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await wl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return EC(this,t)}reload(){return bC(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Mr(this.auth));const t=await this.getIdToken();return await wl(this,TC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:V,isAnonymous:H,providerData:W,stsTokenManager:X}=i;pt(A&&X,t,"internal-error");const $=ja.fromJSON(this.name,X);pt(typeof A=="string",t,"internal-error"),Us(r,t.name),Us(l,t.name),pt(typeof V=="boolean",t,"internal-error"),pt(typeof H=="boolean",t,"internal-error"),Us(c,t.name),Us(d,t.name),Us(p,t.name),Us(v,t.name),Us(y,t.name),Us(S,t.name);const at=new Xn({uid:A,auth:t,email:l,emailVerified:V,displayName:r,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:$,createdAt:y,lastLoginAt:S});return W&&Array.isArray(W)&&(at.providerData=W.map(dt=>({...dt}))),v&&(at._redirectEventId=v),at}static async _fromIdTokenResponse(t,i,r=!1){const l=new ja;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?QE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ja;p.updateFromIdToken(r);const v=new Xn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const Vv=new Map;function Ki(a){ts(a instanceof Function,"Expected a class definition");let t=Vv.get(a);return t?(ts(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,Vv.set(a,t),t)}class YE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}YE.type="NONE";const xv=YE;function wc(a,t,i){return`firebase:${a}:${t}:${i}`}class qa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=wc(this.userKey,l.apiKey,c),this.fullPersistenceKey=wc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Gc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new qa(Ki(xv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ki(xv);const d=wc(r,t.config.apiKey,t.name);let p=null;for(const y of i)try{const S=await y._get(d);if(S){let A;if(typeof S=="string"){const V=await Gc(t,{idToken:S}).catch(()=>{});if(!V)break;A=await Xn._fromGetAccountInfoResponse(t,V,S)}else A=Xn._fromJSON(t,S);y!==c&&(p=A),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new qa(c,t,r):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new qa(c,t,r))}}function Uv(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(JE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(KE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(WE(t))return"Blackberry";if(t0(t))return"Webos";if(XE(t))return"Safari";if((t.includes("chrome/")||ZE(t))&&!t.includes("edge/"))return"Chrome";if($E(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function KE(a=Ze()){return/firefox\//i.test(a)}function XE(a=Ze()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ZE(a=Ze()){return/crios\//i.test(a)}function JE(a=Ze()){return/iemobile/i.test(a)}function $E(a=Ze()){return/android/i.test(a)}function WE(a=Ze()){return/blackberry/i.test(a)}function t0(a=Ze()){return/webos/i.test(a)}function qm(a=Ze()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function IC(a=Ze()){return qm(a)&&!!window.navigator?.standalone}function DC(){return AA()&&document.documentMode===10}function e0(a=Ze()){return qm(a)||$E(a)||t0(a)||WE(a)||/windows phone/i.test(a)||JE(a)}function n0(a,t=[]){let i;switch(a){case"Browser":i=Uv(Ze());break;case"Worker":i=`${Uv(Ze())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ja}/${r}`}class NC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function OC(a,t={}){return no(a,"GET","/v2/passwordPolicy",Bm(a,t))}const MC=6;class VC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??MC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class xC{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kv(this),this.idTokenSubscription=new kv(this),this.beforeStateQueue=new NC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ki(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Gc(this,{idToken:t}),r=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=mC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Mr(this));const i=t?_n(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await OC(this),i=new VC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Cl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await CC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ki(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[Ki(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,r,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=n0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&hC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Hm(a){return _n(a)}class kv{constructor(t){this.auth=t,this.observer=null,this.addObserver=OA(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UC(a){Fm=a}function kC(a){return Fm.loadJS(a)}function LC(){return Fm.gapiScript}function PC(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function zC(a,t){const i=Jc(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Vr(c,t??{}))return l;Wi(l,"already-initialized")}return i.initialize({options:t})}function BC(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Ki);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function jC(a,t,i){const r=Hm(a);pt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=i0(t),{host:d,port:p}=qC(t),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pt(Vr(y,r.config.emulator)&&Vr(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,Pr(d)?(rm(`${c}//${d}${v}`),am("Auth",!0)):HC()}function i0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function qC(a){const t=i0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Lv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Lv(d)}}}function Lv(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function HC(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class s0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function Ha(a,t){return _C(a,"POST","/v1/accounts:signInWithIdp",Bm(a,t))}const FC="http://localhost";class Lr extends s0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Lr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Lr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ha(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Ha(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ha(t,i)}buildRequest(){const t={requestUri:FC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Il(i)}return t}}class r0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ul extends r0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ks extends Ul{constructor(){super("facebook.com")}static credential(t){return Lr._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ks.credentialFromTaggedObject(t)}static credentialFromError(t){return ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ks.credential(t.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";class Ls extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Lr._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Ls.credential(i,r)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";class Ps extends Ul{constructor(){super("github.com")}static credential(t){return Lr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";class zs extends Ul{constructor(){super("twitter.com")}static credential(t,i){return Lr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return zs.credential(i,r)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";class Za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Xn._fromIdTokenResponse(t,r,l),d=Pv(r);return new Za({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Pv(r);return new Za({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Pv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Yc extends es{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new Yc(t,i,r,l)}}function a0(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(a,c,t,r):c})}async function GC(a,t,i=!1){const r=await wl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Za._forOperation(a,"link",r)}async function QC(a,t,i=!1){const{auth:r}=a;if(Yn(r.app))return Promise.reject(Mr(r));const l="reauthenticate";try{const c=await wl(a,a0(r,l,t,a),i);pt(c.idToken,r,"internal-error");const d=jm(c.idToken);pt(d,r,"internal-error");const{sub:p}=d;return pt(a.uid===p,r,"user-mismatch"),Za._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wi(r,"user-mismatch"),c}}async function YC(a,t,i=!1){if(Yn(a.app))return Promise.reject(Mr(a));const r="signIn",l=await a0(a,r,t),c=await Za._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(c.user),c}function KC(a,t,i,r){return _n(a).onIdTokenChanged(t,i,r)}function XC(a,t,i){return _n(a).beforeAuthStateChanged(t,i)}const Kc="__sak";class o0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const ZC=1e3,JC=10;class l0 extends o0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);DC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,JC):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},ZC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}l0.type="LOCAL";const $C=l0;class u0 extends o0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}u0.type="SESSION";const c0=u0;function WC(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new fh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await WC(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function Gm(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class tI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=Gm("",20);l.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const V=A;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(S),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function eI(a){Ri().location.href=a}function h0(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function nI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iI(){return navigator?.serviceWorker?.controller||null}function sI(){return h0()?self:null}const f0="firebaseLocalStorageDb",rI=1,Xc="firebaseLocalStorage",d0="fbase_key";class kl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(a,t){return a.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function aI(){const a=indexedDB.deleteDatabase(f0);return new kl(a).toPromise()}function em(){const a=indexedDB.open(f0,rI);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(Xc,{keyPath:d0})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(Xc)?t(r):(r.close(),await aI(),t(await em()))})})}async function zv(a,t,i){const r=dh(a,!0).put({[d0]:t,value:i});return new kl(r).toPromise()}async function oI(a,t){const i=dh(a,!1).get(t),r=await new kl(i).toPromise();return r===void 0?null:r.value}function Bv(a,t){const i=dh(a,!0).delete(t);return new kl(i).toPromise()}const lI=800,uI=3;class m0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>uI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(sI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nI(),!this.activeServiceWorker)return;this.sender=new tI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||iI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await em();return await zv(t,Kc,"1"),await Bv(t,Kc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>zv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>oI(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Bv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=dh(l,!1).getAll();return new kl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m0.type="LOCAL";const cI=m0;new xl(3e4,6e4);function hI(a,t){return t?Ki(t):(pt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Qm extends s0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ha(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ha(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ha(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function fI(a){return YC(a.auth,new Qm(a),a.bypassAuthState)}function dI(a){const{auth:t,user:i}=a;return pt(i,t,"internal-error"),QC(i,new Qm(a),a.bypassAuthState)}async function mI(a){const{auth:t,user:i}=a;return pt(i,t,"internal-error"),GC(i,new Qm(a),a.bypassAuthState)}class g0{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fI;case"linkViaPopup":case"linkViaRedirect":return mI;case"reauthViaPopup":case"reauthViaRedirect":return dI;default:Wi(this.auth,"internal-error")}}resolve(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gI=new xl(2e3,1e4);class La extends g0{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const t=Gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gI.get())};t()}}La.currentPopupAction=null;const pI="pendingRedirect",Cc=new Map;class yI extends g0{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Cc.get(this.auth._key());if(!t){try{const r=await _I(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Cc.set(this.auth._key(),t)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _I(a,t){const i=EI(t),r=TI(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function vI(a,t){Cc.set(a._key(),t)}function TI(a){return Ki(a._redirectPersistence)}function EI(a){return wc(pI,a.config.apiKey,a.name)}async function SI(a,t,i=!1){if(Yn(a.app))return Promise.reject(Mr(a));const r=Hm(a),l=hI(r,t),d=await new yI(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const AI=600*1e3;class bI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!RI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!p0(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(bi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=AI&&this.cachedEventUids.clear(),this.cachedEventUids.has(jv(t))}saveEventToCache(t){this.cachedEventUids.add(jv(t)),this.lastProcessedEventTime=Date.now()}}function jv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function p0({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function RI(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p0(a);default:return!1}}async function wI(a,t={}){return no(a,"GET","/v1/projects",t)}const CI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,II=/^https?/;async function DI(a){if(a.config.emulator)return;const{authorizedDomains:t}=await wI(a);for(const i of t)try{if(NI(i))return}catch{}Wi(a,"unauthorized-domain")}function NI(a){const t=Wd(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!II.test(i))return!1;if(CI.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const OI=new xl(3e4,6e4);function qv(){const a=Ri().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function MI(a){return new Promise((t,i)=>{function r(){qv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qv(),i(bi(a,"network-request-failed"))},timeout:OI.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)r();else{const l=PC("iframefcb");return Ri()[l]=()=>{gapi.load?r():i(bi(a,"network-request-failed"))},kC(`${LC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Ic=null,t})}let Ic=null;function VI(a){return Ic=Ic||MI(a),Ic}const xI=new xl(5e3,15e3),UI="__/auth/iframe",kI="emulator/auth/iframe",LI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zI(a){const t=a.config;pt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?zm(t,kI):`https://${a.config.authDomain}/${UI}`,r={apiKey:t.apiKey,appName:a.name,v:Ja},l=PI.get(a.config.apiHost);l&&(r.eid=l);const c=a._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Il(r).slice(1)}`}async function BI(a){const t=await VI(a),i=Ri().gapi;return pt(i,a,"internal-error"),t.open({where:document.body,url:zI(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LI,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=bi(a,"network-request-failed"),p=Ri().setTimeout(()=>{c(d)},xI.get());function v(){Ri().clearTimeout(p),l(r)}r.ping(v).then(v,()=>{c(d)})}))}const jI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qI=500,HI=600,FI="_blank",GI="http://localhost";class Hv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QI(a,t,i,r=qI,l=HI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const v={...jI,width:r.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(p=ZE(y)?FI:i),KE(y)&&(t=t||GI,v.scrollbars="yes");const S=Object.entries(v).reduce((V,[H,W])=>`${V}${H}=${W},`,"");if(IC(y)&&p!=="_self")return YI(t||"",p),new Hv(null);const A=window.open(t||"",p,S);pt(A,a,"popup-blocked");try{A.focus()}catch{}return new Hv(A)}function YI(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const KI="__/auth/handler",XI="emulator/auth/handler",ZI=encodeURIComponent("fac");async function Fv(a,t,i,r,l,c){pt(a.config.authDomain,a,"auth-domain-config-required"),pt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:Ja,eventId:l};if(t instanceof r0){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",NA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(t instanceof Ul){const S=t.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const v=await a._getAppCheckToken(),y=v?`#${ZI}=${encodeURIComponent(v)}`:"";return`${JI(a)}?${Il(p).slice(1)}${y}`}function JI({config:a}){return a.emulator?zm(a,XI):`https://${a.authDomain}/${KI}`}const Nd="webStorageSupport";class $I{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c0,this._completeRedirectFn=SI,this._overrideRedirectResult=vI}async _openPopup(t,i,r,l){ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Fv(t,i,r,Wd(),l);return QI(t,c,Gm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await Fv(t,i,r,Wd(),l);return eI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ts(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await BI(t),r=new bI(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Nd,{type:Nd},l=>{const c=l?.[0]?.[Nd];c!==void 0&&i(!!c),Wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=DI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return e0()||XE()||qm()}}const WI=$I;var Gv="@firebase/auth",Qv="1.11.1";class t2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function e2(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n2(a){xr(new Qs("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n0(a)},y=new xC(r,l,c,v);return BC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),xr(new Qs("auth-internal",t=>{const i=Hm(t.getProvider("auth").getImmediate());return(r=>new t2(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(Gv,Qv,e2(a)),vi(Gv,Qv,"esm2020")}const i2=300,s2=sT("authIdTokenMaxAge")||i2;let Yv=null;const r2=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>s2)return;const l=i?.token;Yv!==l&&(Yv=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function a2(a=um()){const t=Jc(a,"auth");if(t.isInitialized())return t.getImmediate();const i=zC(a,{popupRedirectResolver:WI,persistence:[cI,$C,c0]}),r=sT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=r2(c.toString());XC(i,d,()=>d(i.currentUser)),KC(i,p=>d(p))}}const l=eT("auth");return l&&jC(i,`http://${l}`),i}function o2(){return document.getElementsByTagName("head")?.[0]??document}UC({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=l=>{const c=bi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",o2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n2("Browser");const y0="functions";class l2{constructor(t,i,r,l){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Yn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=i.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||i.get().then(c=>this.auth=c,()=>{}),this.messaging||r.get().then(c=>this.messaging=c,()=>{}),this.appCheck||l?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const i=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return i.error?null:i.token}return null}async getContext(t){const i=await this.getAuthToken(),r=await this.getMessagingToken(),l=await this.getAppCheckToken(t);return{authToken:i,messagingToken:r,appCheckToken:l}}}const nm="us-central1";class u2{constructor(t,i,r,l,c=nm,d=(...p)=>fetch(...p)){this.app=t,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new l2(t,i,r,l),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(c);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=nm}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(t){const i=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${i}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${i}.cloudfunctions.net/${t}`}}function c2(a,t,i){const r=Pr(t);a.emulatorOrigin=`http${r?"s":""}://${t}:${i}`,r&&(rm(a.emulatorOrigin+"/backends"),am("Functions",!0))}const Kv="@firebase/functions",Xv="0.13.1";const h2="auth-internal",f2="app-check-internal",d2="messaging-internal";function m2(a){const t=(i,{instanceIdentifier:r})=>{const l=i.getProvider("app").getImmediate(),c=i.getProvider(h2),d=i.getProvider(d2),p=i.getProvider(f2);return new u2(l,c,d,p,r)};xr(new Qs(y0,t,"PUBLIC").setMultipleInstances(!0)),vi(Kv,Xv,a),vi(Kv,Xv,"esm2020")}function g2(a=um(),t=nm){const r=Jc(_n(a),y0).getImmediate({identifier:t}),l=nT("functions");return l&&p2(r,...l),r}function p2(a,t,i){c2(_n(a),t,i)}m2();const y2={apiKey:"AIzaSyDotsYz6L5sCwR1iIrxtmOfZ90qI-xsxF4",authDomain:"golfbilkontroll-skigk.firebaseapp.com",projectId:"golfbilkontroll-skigk",storageBucket:"golfbilkontroll-skigk.firebasestorage.app",messagingSenderId:"793476088060",appId:"1:793476088060:web:d3f021f3ab98d2d8529779",measurementId:"G-ZQE9F3B8EE"},Ym=oT(y2),im=Fw(Ym);a2(Ym);g2(Ym,"europe-west3");function _2({selectedDate:a,onDateChange:t}){const[i,r]=Mn.useState(()=>{const X=new Date(a);return new Date(X.getFullYear(),X.getMonth(),1)}),l=["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],c=["Man","Tir","Ons","Tor","Fre","Lr","Sn"],d=X=>new Date(X.getFullYear(),X.getMonth()+1,0).getDate(),p=X=>new Date(X.getFullYear(),X.getMonth(),1).getDay()||7,v=d(i),y=p(i),S=Array(y-1).fill(null);for(let X=1;X<=v;X++)S.push(X);const A=X=>{const $=new Date(i.getFullYear(),i.getMonth(),X).toISOString().split("T")[0];t($)},V=()=>{r(new Date(i.getFullYear(),i.getMonth()-1))},H=()=>{r(new Date(i.getFullYear(),i.getMonth()+1))},W=new Date;return W.setHours(0,0,0,0),J.jsxs("div",{className:"calendar",children:[J.jsxs("div",{className:"calendar-header",children:[J.jsx("button",{onClick:V,children:""}),J.jsxs("h3",{children:[l[i.getMonth()]," ",i.getFullYear()]}),J.jsx("button",{onClick:H,children:""})]}),J.jsxs("div",{className:"calendar-days",children:[c.map(X=>J.jsx("div",{className:"day-name",children:X},X)),S.map((X,$)=>{if(X===null)return J.jsx("div",{className:"empty"},`empty-${$}`);const at=new Date(i.getFullYear(),i.getMonth(),X),ut=at.toISOString().split("T")[0]===a,Lt=at.getTime()===W.getTime(),Yt=at<W;return J.jsx("button",{className:`day ${ut?"selected":""} ${Lt?"today":""} ${Yt?"past":""}`,onClick:()=>A(X),disabled:Yt,children:X},X)})]})]})}const Zv=[{label:"10:00",time:"10:00"},{label:"11:00",time:"11:00"},{label:"12:00",time:"12:00"},{label:"13:00",time:"13:00"},{label:"14:00",time:"14:00"},{label:"15:00",time:"15:00"},{label:"16:00",time:"16:00"},{label:"17:00",time:"17:00"},{label:"18:00",time:"18:00"},{label:"19:00",time:"19:00"},{label:"20:00",time:"20:00"}];function v2({selectedDate:a,carts:t,onCartSelect:i}){const[r,l]=Mn.useState(new Map),[c,d]=Mn.useState(!0);Mn.useEffect(()=>{(async()=>{try{d(!0);const y=$d(im,"rentals"),S=await zE(y),A=new Map;t.forEach(V=>{Zv.forEach(H=>{const W=`${V.id}-${H.time}`,X=new Date(`${a}T${H.time}:00`),$=Array.from(S.docs).some(at=>{const dt=at.data();if(dt.cartId!==V.id)return!1;const ut=new Date(dt.startTime),Lt=new Date(dt.endTime);return X>=ut&&X<Lt});A.set(W,{status:$?"booked":"available"})})}),l(A)}catch(y){console.error("Error loading availability:",y)}finally{d(!1)}})()},[a,t]);const p=(v,y)=>{const S=`${v.id}-${y}`;r.get(S)?.status==="available"&&i(v)};return c?J.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Laster..."}):J.jsx("div",{className:"availability-container",children:J.jsx("div",{className:"availability-grid",children:J.jsxs("table",{className:"grid-table",children:[J.jsx("thead",{children:J.jsxs("tr",{children:[J.jsx("th",{style:{textAlign:"left"},children:"Tid"}),t.map(v=>J.jsx("th",{children:v.name},v.id))]})}),J.jsx("tbody",{children:Zv.map(v=>J.jsxs("tr",{children:[J.jsx("td",{className:"cart-name-cell",children:v.time}),t.map(y=>{const S=`${y.id}-${v.time}`,A=r.get(S)?.status||"available";return J.jsx("td",{children:J.jsx("button",{className:`time-slot ${A}`,onClick:()=>p(y,v.time),disabled:A==="booked",children:A==="available"?"":""})},S)})]},v.time))})]})})})}function T2({cart:a,selectedDate:t,onSubmit:i,onCancel:r}){const[l,c]=Mn.useState({renterName:"",membershipNumber:"",isMember:!1,holes:18,startTime:"10:00",endTime:"14:00",phone:"",email:"",notes:""}),d=y=>{const{name:S,value:A,type:V,checked:H}=y.target;let W=A;if(V==="checkbox"?W=H:S==="holes"&&(W=parseInt(A)),c(X=>({...X,[S]:W})),S==="holes"){const X=parseInt(A)===18?4:2,$=new Date(`2000-01-01T${l.startTime}:00`),dt=new Date($.getTime()+X*60*6e4).toTimeString().slice(0,5);c(ut=>({...ut,endTime:dt}))}if(S==="startTime"){const X=l.holes===18?4:2,$=new Date(`2000-01-01T${A}:00`),dt=new Date($.getTime()+X*60*6e4).toTimeString().slice(0,5);c(ut=>({...ut,endTime:dt}))}},p=y=>{if(y.preventDefault(),!l.renterName.trim()){alert("Legg inn navn");return}if(!l.phone.trim()){alert("Legg inn telefonnummer");return}const S=new Date(`${t}T${l.startTime}:00`).toISOString(),A=new Date(`${t}T${l.endTime}:00`).toISOString();i({renterName:l.renterName,membershipNumber:l.membershipNumber||null,isMember:l.isMember,holes:l.holes,startTime:S,endTime:A,phone:l.phone,email:l.email,notes:l.notes,price:l.holes===18?450:250})};if(!a)return J.jsx("div",{className:"booking-form",children:J.jsx("p",{children:"Velg en golfbil for  fortsette."})});const v=l.holes===18?450:250;return J.jsx("div",{className:"booking-form",children:J.jsxs("form",{onSubmit:p,children:[J.jsxs("div",{className:"form-section",children:[J.jsx("h3",{children:" Leietakers informasjon"}),J.jsxs("div",{className:"form-group",children:[J.jsx("label",{htmlFor:"renterName",children:"Navn *"}),J.jsx("input",{id:"renterName",type:"text",name:"renterName",placeholder:"Skriv inn navn",value:l.renterName,onChange:d,required:!0})]}),J.jsxs("div",{className:"form-group checkbox",children:[J.jsx("input",{id:"isMember",type:"checkbox",name:"isMember",checked:l.isMember,onChange:d}),J.jsx("label",{htmlFor:"isMember",children:"Jeg er medlem av klubben"})]}),l.isMember&&J.jsxs("div",{className:"form-group",children:[J.jsx("label",{htmlFor:"membershipNumber",children:"GolfBox medlemsnummer"}),J.jsx("input",{id:"membershipNumber",type:"text",name:"membershipNumber",placeholder:"f.eks. 73-10524",value:l.membershipNumber,onChange:d})]})]}),J.jsxs("div",{className:"form-section",children:[J.jsx("h3",{children:" Golfbil og tid"}),J.jsxs("div",{className:"form-group",children:[J.jsx("label",{children:"Valgt bil"}),J.jsx("input",{type:"text",value:a.name,disabled:!0,style:{backgroundColor:"#f0f0f0",cursor:"not-allowed"}})]}),J.jsxs("div",{className:"form-group",children:[J.jsx("label",{children:"Dato"}),J.jsx("input",{type:"text",value:t,disabled:!0,style:{backgroundColor:"#f0f0f0",cursor:"not-allowed"}})]}),J.jsxs("div",{className:"form-row",children:[J.jsxs("div",{className:"form-group",children:[J.jsx("label",{htmlFor:"holes",children:"Antall hull"}),J.jsxs("select",{id:"holes",name:"holes",value:l.holes,onChange:d,children:[J.jsx("option",{value:"9",children:"9 hull"}),J.jsx("option",{value:"18",children:"18 hull"})]})]}),J.jsxs("div",{className:"form-group",children:[J.jsx("label",{htmlFor:"startTime",children:"Starttid"}),J.jsx("input",{id:"startTime",type:"time",name:"startTime",value:l.startTime,onChange:d})]})]}),J.jsxs("div",{className:"form-group",children:[J.jsx("label",{htmlFor:"endTime",children:"Sluttid"}),J.jsx("input",{id:"endTime",type:"time",name:"endTime",value:l.endTime,disabled:!0,style:{backgroundColor:"#f0f0f0",cursor:"not-allowed"}})]})]}),J.jsxs("div",{className:"form-section",children:[J.jsx("h3",{children:" Pris"}),J.jsxs("div",{className:"pricing-info",children:[J.jsxs("p",{children:["Medlemspris  18 hull / 9 hull: ",J.jsx("strong",{children:"450 kr / 250 kr"})]}),J.jsxs("div",{className:"estimated-price",children:["Totalt: ",v," kr"]})]})]}),J.jsxs("div",{className:"form-section",children:[J.jsx("h3",{children:" Kontaktinformasjon"}),J.jsxs("div",{className:"form-group",children:[J.jsx("label",{htmlFor:"phone",children:"Telefonnummer *"}),J.jsx("input",{id:"phone",type:"tel",name:"phone",placeholder:"f.eks. 98765432",value:l.phone,onChange:d,required:!0})]}),J.jsxs("div",{className:"form-group",children:[J.jsx("label",{htmlFor:"email",children:"E-postadresse"}),J.jsx("input",{id:"email",type:"email",name:"email",placeholder:"din@email.no",value:l.email,onChange:d})]})]}),J.jsxs("div",{className:"form-section",children:[J.jsx("h3",{children:" Kommentar"}),J.jsx("div",{className:"form-group",children:J.jsx("textarea",{name:"notes",placeholder:"Legg til kommentar eller spesiell foresprsel (valgfritt)",value:l.notes,onChange:d,rows:3})})]}),J.jsxs("div",{className:"button-group",children:[J.jsx("button",{type:"button",className:"btn-cancel",onClick:r,children:"Avbryt"}),J.jsx("button",{type:"submit",className:"btn-primary",children:"Registrer booking"})]})]})})}function E2(){const[a,t]=Mn.useState(new Date().toISOString().split("T")[0]),[i,r]=Mn.useState([]),[l,c]=Mn.useState(!0),[d,p]=Mn.useState(null),[v,y]=Mn.useState("select");Mn.useEffect(()=>{(async()=>{try{const H=$d(im,"carts"),W=await zE(H),X=[];W.forEach($=>{const at=$.data();X.push({id:at.id||parseInt($.id),name:at.name,status:at.status})}),r(X.sort(($,at)=>$.id-at.id))}catch(H){console.error("Error loading carts:",H)}finally{c(!1)}})()},[]);const S=V=>{p(V),y("form")},A=async V=>{if(!d){alert("No cart selected");return}try{const H=$d(im,"rentals");await aC(H,{...V,cartId:d.id,status:"pending",createdAt:Wt.now()}),alert(" Booking registered! Admin will confirm soon."),y("select"),p(null),t(new Date().toISOString().split("T")[0])}catch(H){console.error("Booking error:",H),alert(" Error creating booking. Please try again.")}};return J.jsxs("div",{className:"user-app",children:[J.jsxs("div",{className:"app-header",children:[J.jsx("h1",{children:" SKI GOLFKLUBB"}),J.jsx("p",{children:"Leie av golfbil - Rask og enkel booking"})]}),J.jsx("div",{className:"booking-steps",children:v==="select"?J.jsxs("div",{className:"step active",children:[J.jsxs("div",{className:"step-header",children:[J.jsx("div",{className:"step-number",children:"1"}),J.jsx("h2",{children:"Velg dato og golfbil"})]}),J.jsx(_2,{selectedDate:a,onDateChange:t}),J.jsx("div",{className:"grid-title",children:"Tilgjengelige tider"}),l?J.jsx("div",{style:{padding:"20px",textAlign:"center"},children:J.jsx("p",{children:"Laster tilgjengelighet..."})}):J.jsx(v2,{selectedDate:a,carts:i,onCartSelect:S})]}):J.jsxs("div",{className:"step active",children:[J.jsxs("div",{className:"step-header",children:[J.jsx("div",{className:"step-number",children:"2"}),J.jsx("h2",{children:"Fyll ut leiedetaljer"})]}),J.jsx(T2,{cart:d,selectedDate:a,onSubmit:A,onCancel:()=>{y("select"),p(null)}})]})})]})}rA.createRoot(document.getElementById("root")).render(J.jsx(JS.StrictMode,{children:J.jsx(E2,{})}));
