(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var rd={exports:{}},ao={};var h_;function GS(){if(h_)return ao;h_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return ao.Fragment=t,ao.jsx=i,ao.jsxs=i,ao}var f_;function FS(){return f_||(f_=1,rd.exports=GS()),rd.exports}var w=FS(),ad={exports:{}},yt={};var d_;function QS(){if(d_)return yt;d_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=V&&M[V]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,J={};function ht(M,K,nt){this.props=M,this.context=K,this.refs=J,this.updater=nt||W}ht.prototype.isReactComponent={},ht.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},ht.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function it(){}it.prototype=ht.prototype;function st(M,K,nt){this.props=M,this.context=K,this.refs=J,this.updater=nt||W}var St=st.prototype=new it;St.constructor=st,$(St,ht.prototype),St.isPureReactComponent=!0;var Ut=Array.isArray;function At(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(M,K,nt){var rt=nt.ref;return{$$typeof:r,type:M,key:K,ref:rt!==void 0?rt:null,props:nt}}function x(M,K){return R(M.type,K,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(nt){return K[nt]})}var C=/\/+/g;function te(M,K){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):K.toString(36)}function Ie(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(At,At):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,K,nt,rt,pt){var bt=typeof M;(bt==="undefined"||bt==="boolean")&&(M=null);var Vt=!1;if(M===null)Vt=!0;else switch(bt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(M.$$typeof){case r:case t:Vt=!0;break;case S:return Vt=M._init,F(Vt(M._payload),K,nt,rt,pt)}}if(Vt)return pt=pt(M),Vt=rt===""?"."+te(M,0):rt,Ut(pt)?(nt="",Vt!=null&&(nt=Vt.replace(C,"$&/")+"/"),F(pt,K,nt,"",function(Ks){return Ks})):pt!=null&&(O(pt)&&(pt=x(pt,nt+(pt.key==null||M&&M.key===pt.key?"":(""+pt.key).replace(C,"$&/")+"/")+Vt)),K.push(pt)),1;Vt=0;var Ne=rt===""?".":rt+":";if(Ut(M))for(var ee=0;ee<M.length;ee++)rt=M[ee],bt=Ne+te(rt,ee),Vt+=F(rt,K,nt,bt,pt);else if(ee=G(M),typeof ee=="function")for(M=ee.call(M),ee=0;!(rt=M.next()).done;)rt=rt.value,bt=Ne+te(rt,ee++),Vt+=F(rt,K,nt,bt,pt);else if(bt==="object"){if(typeof M.then=="function")return F(Ie(M),K,nt,rt,pt);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function et(M,K,nt){if(M==null)return M;var rt=[],pt=0;return F(M,rt,"","",function(bt){return K.call(nt,bt,pt++)}),rt}function ft(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(nt){(M._status===0||M._status===-1)&&(M._status=1,M._result=nt)},function(nt){(M._status===0||M._status===-1)&&(M._status=2,M._result=nt)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Lt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ht={map:et,forEach:function(M,K,nt){et(M,function(){K.apply(this,arguments)},nt)},count:function(M){var K=0;return et(M,function(){K++}),K},toArray:function(M){return et(M,function(K){return K})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return yt.Activity=b,yt.Children=Ht,yt.Component=ht,yt.Fragment=i,yt.Profiler=o,yt.PureComponent=st,yt.StrictMode=a,yt.Suspense=y,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,yt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},yt.cache=function(M){return function(){return M.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(M,K,nt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=$({},M.props),pt=M.key;if(K!=null)for(bt in K.key!==void 0&&(pt=""+K.key),K)!A.call(K,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&K.ref===void 0||(rt[bt]=K[bt]);var bt=arguments.length-2;if(bt===1)rt.children=nt;else if(1<bt){for(var Vt=Array(bt),Ne=0;Ne<bt;Ne++)Vt[Ne]=arguments[Ne+2];rt.children=Vt}return R(M.type,pt,rt)},yt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},yt.createElement=function(M,K,nt){var rt,pt={},bt=null;if(K!=null)for(rt in K.key!==void 0&&(bt=""+K.key),K)A.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(pt[rt]=K[rt]);var Vt=arguments.length-2;if(Vt===1)pt.children=nt;else if(1<Vt){for(var Ne=Array(Vt),ee=0;ee<Vt;ee++)Ne[ee]=arguments[ee+2];pt.children=Ne}if(M&&M.defaultProps)for(rt in Vt=M.defaultProps,Vt)pt[rt]===void 0&&(pt[rt]=Vt[rt]);return R(M,bt,pt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(M){return{$$typeof:p,render:M}},yt.isValidElement=O,yt.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:ft}},yt.memo=function(M,K){return{$$typeof:v,type:M,compare:K===void 0?null:K}},yt.startTransition=function(M){var K=N.T,nt={};N.T=nt;try{var rt=M(),pt=N.S;pt!==null&&pt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(At,Lt)}catch(bt){Lt(bt)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),N.T=K}},yt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},yt.use=function(M){return N.H.use(M)},yt.useActionState=function(M,K,nt){return N.H.useActionState(M,K,nt)},yt.useCallback=function(M,K){return N.H.useCallback(M,K)},yt.useContext=function(M){return N.H.useContext(M)},yt.useDebugValue=function(){},yt.useDeferredValue=function(M,K){return N.H.useDeferredValue(M,K)},yt.useEffect=function(M,K){return N.H.useEffect(M,K)},yt.useEffectEvent=function(M){return N.H.useEffectEvent(M)},yt.useId=function(){return N.H.useId()},yt.useImperativeHandle=function(M,K,nt){return N.H.useImperativeHandle(M,K,nt)},yt.useInsertionEffect=function(M,K){return N.H.useInsertionEffect(M,K)},yt.useLayoutEffect=function(M,K){return N.H.useLayoutEffect(M,K)},yt.useMemo=function(M,K){return N.H.useMemo(M,K)},yt.useOptimistic=function(M,K){return N.H.useOptimistic(M,K)},yt.useReducer=function(M,K,nt){return N.H.useReducer(M,K,nt)},yt.useRef=function(M){return N.H.useRef(M)},yt.useState=function(M){return N.H.useState(M)},yt.useSyncExternalStore=function(M,K,nt){return N.H.useSyncExternalStore(M,K,nt)},yt.useTransition=function(){return N.H.useTransition()},yt.version="19.2.0",yt}var m_;function em(){return m_||(m_=1,ad.exports=QS()),ad.exports}var we=em(),ld={exports:{}},lo={},od={exports:{}},ud={};var g_;function YS(){return g_||(g_=1,(function(r){function t(F,et){var ft=F.length;F.push(et);t:for(;0<ft;){var Lt=ft-1>>>1,Ht=F[Lt];if(0<o(Ht,et))F[Lt]=et,F[ft]=Ht,ft=Lt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var et=F[0],ft=F.pop();if(ft!==et){F[0]=ft;t:for(var Lt=0,Ht=F.length,M=Ht>>>1;Lt<M;){var K=2*(Lt+1)-1,nt=F[K],rt=K+1,pt=F[rt];if(0>o(nt,ft))rt<Ht&&0>o(pt,nt)?(F[Lt]=pt,F[rt]=ft,Lt=rt):(F[Lt]=nt,F[K]=ft,Lt=K);else if(rt<Ht&&0>o(pt,ft))F[Lt]=pt,F[rt]=ft,Lt=rt;else break t}}return et}function o(F,et){var ft=F.sortIndex-et.sortIndex;return ft!==0?ft:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],v=[],S=1,b=null,V=3,G=!1,W=!1,$=!1,J=!1,ht=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function St(F){for(var et=i(v);et!==null;){if(et.callback===null)a(v);else if(et.startTime<=F)a(v),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(v)}}function Ut(F){if($=!1,St(F),!W)if(i(y)!==null)W=!0,At||(At=!0,U());else{var et=i(v);et!==null&&Ie(Ut,et.startTime-F)}}var At=!1,N=-1,A=5,R=-1;function x(){return J?!0:!(r.unstable_now()-R<A)}function O(){if(J=!1,At){var F=r.unstable_now();R=F;var et=!0;try{t:{W=!1,$&&($=!1,it(N),N=-1),G=!0;var ft=V;try{e:{for(St(F),b=i(y);b!==null&&!(b.expirationTime>F&&x());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,V=b.priorityLevel;var Ht=Lt(b.expirationTime<=F);if(F=r.unstable_now(),typeof Ht=="function"){b.callback=Ht,St(F),et=!0;break e}b===i(y)&&a(y),St(F)}else a(y);b=i(y)}if(b!==null)et=!0;else{var M=i(v);M!==null&&Ie(Ut,M.startTime-F),et=!1}}break t}finally{b=null,V=ft,G=!1}et=void 0}}finally{et?U():At=!1}}}var U;if(typeof st=="function")U=function(){st(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,te=C.port2;C.port1.onmessage=O,U=function(){te.postMessage(null)}}else U=function(){ht(O,0)};function Ie(F,et){N=ht(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(F){switch(V){case 1:case 2:case 3:var et=3;break;default:et=V}var ft=V;V=et;try{return F()}finally{V=ft}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ft=V;V=F;try{return et()}finally{V=ft}},r.unstable_scheduleCallback=function(F,et,ft){var Lt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Lt+ft:Lt):ft=Lt,F){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ft+Ht,F={id:S++,callback:et,priorityLevel:F,startTime:ft,expirationTime:Ht,sortIndex:-1},ft>Lt?(F.sortIndex=ft,t(v,F),i(y)===null&&F===i(v)&&($?(it(N),N=-1):$=!0,Ie(Ut,ft-Lt))):(F.sortIndex=Ht,t(y,F),W||G||(W=!0,At||(At=!0,U()))),F},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(F){var et=V;return function(){var ft=V;V=et;try{return F.apply(this,arguments)}finally{V=ft}}}})(ud)),ud}var p_;function KS(){return p_||(p_=1,od.exports=YS()),od.exports}var cd={exports:{}},Fe={};var y_;function XS(){if(y_)return Fe;y_=1;var r=em();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(y,v,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:y,containerInfo:v,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Fe.createPortal=function(y,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(y,v,null,S)},Fe.flushSync=function(y){var v=d.T,S=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=v,a.p=S,a.d.f()}},Fe.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(y,v))},Fe.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Fe.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var S=v.as,b=p(S,v.crossOrigin),V=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?a.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:V,fetchPriority:G}):S==="script"&&a.d.X(y,{crossOrigin:b,integrity:V,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Fe.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=p(v.as,v.crossOrigin);a.d.M(y,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(y)},Fe.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,b=p(S,v.crossOrigin);a.d.L(y,S,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Fe.preloadModule=function(y,v){if(typeof y=="string")if(v){var S=p(v.as,v.crossOrigin);a.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(y)},Fe.requestFormReset=function(y){a.d.r(y)},Fe.unstable_batchedUpdates=function(y,v){return y(v)},Fe.useFormState=function(y,v,S){return d.H.useFormState(y,v,S)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.2.0",Fe}var __;function $S(){if(__)return cd.exports;__=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),cd.exports=XS(),cd.exports}var v_;function ZS(){if(v_)return lo;v_=1;var r=KS(),t=em(),i=$S();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return y(c),e;if(f===l)return y(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===s){g=!0,s=c,l=f;break}if(E===l){g=!0,l=c,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=c;break}if(E===l){g=!0,l=f,s=c;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,V=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),it=Symbol.for("react.consumer"),st=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),Ut=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case ht:return"Profiler";case J:return"StrictMode";case Ut:return"Suspense";case At:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case st:return e.displayName||"Context";case it:return(e._context.displayName||"Context")+".Consumer";case St:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var Ie=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function M(e){return{current:e}}function K(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function nt(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var rt=M(null),pt=M(null),bt=M(null),Vt=M(null);function Ne(e,n){switch(nt(bt,n),nt(pt,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?xy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=xy(n),e=ky(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),nt(rt,e)}function ee(){K(rt),K(pt),K(bt)}function Ks(e){e.memoizedState!==null&&nt(Vt,e);var n=rt.current,s=ky(n,e.type);n!==s&&(nt(pt,e),nt(rt,s))}function Lr(e){pt.current===e&&(K(rt),K(pt)),Vt.current===e&&(K(Vt),no._currentValue=ft)}var Pr,zr;function Xn(e){if(Pr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Pr=n&&n[1]||"",zr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pr+e+zr}var nl=!1;function Xs(e,n){if(!e||nl)return"";nl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(c=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===I.length||c===z.length)for(l=I.length-1,c=z.length-1;1<=l&&0<=c&&I[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(I[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||I[l]!==z[c]){var H=`
`+I[l].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=l&&0<=c);break}}}finally{nl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Xn(s):""}function il(e,n){switch(e.tag){case 26:case 27:case 5:return Xn(e.type);case 16:return Xn("Lazy");case 13:return e.child!==n&&n!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return Xs(e.type,!1);case 11:return Xs(e.type.render,!1);case 1:return Xs(e.type,!0);case 31:return Xn("Activity");default:return""}}function sl(e){try{var n="",s=null;do n+=il(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ge=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,Ji=r.unstable_cancelCallback,ah=r.unstable_shouldYield,ko=r.unstable_requestPaint,Ze=r.unstable_now,$s=r.unstable_getCurrentPriorityLevel,rl=r.unstable_ImmediatePriority,al=r.unstable_UserBlockingPriority,Wi=r.unstable_NormalPriority,lh=r.unstable_LowPriority,Uo=r.unstable_IdlePriority,Lo=r.log,Po=r.unstable_setDisableYieldValue,xn=null,Le=null;function vn(e){if(typeof Lo=="function"&&Po(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(xn,e)}catch{}}var ue=Math.clz32?Math.clz32:jo,zo=Math.log,jr=Math.LN2;function jo(e){return e>>>=0,e===0?32:31-(zo(e)/jr|0)|0}var $n=256,Zs=262144,pe=4194304;function Zn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Jn(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Zn(l):(g&=E,g!==0?c=Zn(g):s||(s=E&~e,s!==0&&(c=Zn(s))))):(E=l&~f,E!==0?c=Zn(E):g!==0?c=Zn(g):s||(s=l&~e,s!==0&&(c=Zn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function oh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function Wn(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Js(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function uh(e,n,s,l,c,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var H=31-ue(s),Y=1<<H;E[H]=0,I[H]=-1;var j=z[H];if(j!==null)for(z[H]=null,H=0;H<j.length;H++){var q=j[H];q!==null&&(q.lane&=-536870913)}s&=~Y}l!==0&&Ws(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Ws(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-ue(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function ll(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-ue(s),c=1<<l;c&n|e[l]&n&&(e[l]|=n),s&=~c}}function ol(e,n){var s=n&-n;return s=(s&42)!==0?1:tr(s),(s&(e.suspendedLanes|n))!==0?0:s}function tr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ri(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qo(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:s_(e.type))}function Un(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var Ln=Math.random().toString(36).slice(2),ye="__reactFiber$"+Ln,Ve="__reactProps$"+Ln,ti="__reactContainer$"+Ln,Br="__reactEvents$"+Ln,ch="__reactListeners$"+Ln,Ho="__reactHandles$"+Ln,Go="__reactResources$"+Ln,ei="__reactMarker$"+Ln;function qr(e){delete e[ye],delete e[Ve],delete e[Br],delete e[ch],delete e[Ho]}function ni(e){var n=e[ye];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ti]||s[ye]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=qy(e);e!==null;){if(s=e[ye])return s;e=qy(e)}return n}e=s,s=e.parentNode}return null}function En(e){if(e=e[ye]||e[ti]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ii(e){var n=e[Go];return n||(n=e[Go]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[ei]=!0}var ul=new Set,cl={};function si(e,n){ri(e,n),ri(e+"Capture",n)}function ri(e,n){for(cl[e]=n,e=0;e<n.length;e++)ul.add(n[e])}var hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fl={},dl={};function Fo(e){return ge.call(dl,e)?!0:ge.call(fl,e)?!1:hl.test(e)?dl[e]=!0:(fl[e]=!0,!1)}function Hr(e,n,s){if(Fo(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function hn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function ve(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ts(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ml(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=ts(e)?"checked":"value";e._valueTracker=ml(e,n,""+e[n])}}function er(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ts(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var nr=/[\n"\\]/g;function en(e){return e.replace(nr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Gr(e,n,s,l,c,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?gl(e,g,xe(n)):s!=null?gl(e,g,xe(s)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+xe(E):e.removeAttribute("name")}function Qo(e,n,s,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+xe(s):"",n=n!=null?""+xe(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function gl(e,n,s){n==="number"&&ai(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function es(e,n,s,l){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+xe(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Yo(e,n,s){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+xe(s):""}function ns(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=xe(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Gt(e)}function nn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Ko=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||Ko.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function yl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&pl(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&pl(e,f,n[f])}function Fr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qr(e){return is.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pn(){}var _l=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ss=null,li=null;function ir(e){var n=En(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(Gr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var c=l[Ve]||null;if(!c)throw Error(a(90));Gr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&er(l)}break t;case"textarea":Yo(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&es(e,!!s.multiple,n,!1)}}}var Yr=!1;function rs(e,n,s){if(Yr)return e(n,s);Yr=!0;try{var l=e(n);return l}finally{if(Yr=!1,(ss!==null||li!==null)&&(qu(),ss&&(n=ss,e=li,li=ss=null,ir(n),e)))for(n=0;n<e.length;n++)ir(e[n])}}function zn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Ve]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sr=!1;if(Sn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){sr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{sr=!1}var oi=null,vl=null,rr=null;function El(){if(rr)return rr;var e,n=vl,s=n.length,l,c="value"in oi?oi.value:oi.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===c[f-l];l++);return rr=c.slice(e,1<l?1-l:void 0)}function ar(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ci(){return!0}function jn(){return!1}function Pe(e){function n(s,l,c,f,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ci:jn,this.isPropagationStopped=jn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),n}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=Pe(Ii),as=b({},Ii,{view:0,detail:0}),Tl=Pe(as),ls,Kr,ci,Xr=b({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ci&&(ci&&e.type==="mousemove"?(ls=e.screenX-ci.screenX,Kr=e.screenY-ci.screenY):Kr=ls=0,ci=e),ls)},movementY:function(e){return"movementY"in e?e.movementY:Kr}}),Sl=Pe(Xr),lr=b({},Xr,{dataTransfer:0}),$o=Pe(lr),Zo=b({},as,{relatedTarget:0}),or=Pe(Zo),Al=b({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Jo=Pe(Al),$r=b({},Ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wo=Pe($r),tu=b({},Ii,{data:0}),hi=Pe(tu),eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function su(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=iu[e])?!!n[e]:!1}function os(){return su}var Je=b({},as,{key:function(e){if(e.key){var n=eu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(e){return e.type==="keypress"?ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ru=Pe(Je),au=b({},Xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=Pe(au),u=b({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),m=Pe(u),_=b({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(_),L=b({},Xr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Pe(L),tt=b({},Ii,{newState:0,oldState:0}),Et=Pe(tt),ce=[9,13,27,32],Bt=Sn&&"CompositionEvent"in window,ne=null;Sn&&"documentMode"in document&&(ne=document.documentMode);var An=Sn&&"TextEvent"in window&&!ne,fi=Sn&&(!Bt||ne&&8<ne&&11>=ne),Bn=" ",qn=!1;function ur(e,n){switch(e){case"keyup":return ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function m0(e,n){switch(e){case"compositionend":return Zr(n);case"keypress":return n.which!==32?null:(qn=!0,Bn);case"textInput":return e=n.data,e===Bn&&qn?null:e;default:return null}}function g0(e,n){if(Jr)return e==="compositionend"||!Bt&&ur(e,n)?(e=El(),rr=vl=oi=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fi&&n.locale!=="ko"?null:n.data;default:return null}}var p0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!p0[e.type]:n==="textarea"}function Qm(e,n,s,l){ss?li?li.push(l):li=[l]:ss=l,n=Xu(n,"onChange"),0<n.length&&(s=new ui("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var bl=null,wl=null;function y0(e){Iy(e,0)}function lu(e){var n=cn(e);if(er(n))return e}function Ym(e,n){if(e==="change")return n}var Km=!1;if(Sn){var hh;if(Sn){var fh="oninput"in document;if(!fh){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),fh=typeof Xm.oninput=="function"}hh=fh}else hh=!1;Km=hh&&(!document.documentMode||9<document.documentMode)}function $m(){bl&&(bl.detachEvent("onpropertychange",Zm),wl=bl=null)}function Zm(e){if(e.propertyName==="value"&&lu(wl)){var n=[];Qm(n,wl,e,Tn(e)),rs(y0,n)}}function _0(e,n,s){e==="focusin"?($m(),bl=n,wl=s,bl.attachEvent("onpropertychange",Zm)):e==="focusout"&&$m()}function v0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lu(wl)}function E0(e,n){if(e==="click")return lu(n)}function T0(e,n){if(e==="input"||e==="change")return lu(n)}function S0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:S0;function Rl(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!ge.call(n,c)||!fn(e[c],n[c]))return!1}return!0}function Jm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wm(e,n){var s=Jm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Jm(s)}}function tg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?tg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function eg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ai(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ai(e.document)}return n}function dh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var A0=Sn&&"documentMode"in document&&11>=document.documentMode,Wr=null,mh=null,Cl=null,gh=!1;function ng(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;gh||Wr==null||Wr!==ai(l)||(l=Wr,"selectionStart"in l&&dh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&Rl(Cl,l)||(Cl=l,l=Xu(mh,"onSelect"),0<l.length&&(n=new ui("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Wr)))}function cr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ta={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},ph={},ig={};Sn&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function hr(e){if(ph[e])return ph[e];if(!ta[e])return e;var n=ta[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in ig)return ph[e]=n[s];return e}var sg=hr("animationend"),rg=hr("animationiteration"),ag=hr("animationstart"),b0=hr("transitionrun"),w0=hr("transitionstart"),R0=hr("transitioncancel"),lg=hr("transitionend"),og=new Map,yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yh.push("scrollEnd");function Hn(e,n){og.set(e,n),si(n,[e])}var ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bn=[],ea=0,_h=0;function uu(){for(var e=ea,n=_h=ea=0;n<e;){var s=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&ug(s,c,f)}}function cu(e,n,s,l){bn[ea++]=e,bn[ea++]=n,bn[ea++]=s,bn[ea++]=l,_h|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function vh(e,n,s,l){return cu(e,n,s,l),hu(e)}function fr(e,n){return cu(e,null,null,n),hu(e)}function ug(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-ue(s),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function hu(e){if(50<Xl)throw Xl=0,Nf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var na={};function C0(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,s,l){return new C0(e,n,s,l)}function Eh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Di(e,n){var s=e.alternate;return s===null?(s=dn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function cg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function fu(e,n,s,l,c,f){var g=0;if(l=e,typeof e=="function")Eh(e)&&(g=1);else if(typeof e=="string")g=MS(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=dn(31,s,n,c),e.elementType=R,e.lanes=f,e;case $:return dr(s.children,c,f,n);case J:g=8,c|=24;break;case ht:return e=dn(12,s,n,c|2),e.elementType=ht,e.lanes=f,e;case Ut:return e=dn(13,s,n,c),e.elementType=Ut,e.lanes=f,e;case At:return e=dn(19,s,n,c),e.elementType=At,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:g=10;break t;case it:g=9;break t;case St:g=11;break t;case N:g=14;break t;case A:g=16,l=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=dn(g,s,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function dr(e,n,s,l){return e=dn(7,e,l,n),e.lanes=s,e}function Th(e,n,s){return e=dn(6,e,null,n),e.lanes=s,e}function hg(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function Sh(e,n,s){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var fg=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var s=fg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:sl(n)},fg.set(e,n),n)}return{value:e,source:n,stack:sl(n)}}var ia=[],sa=0,du=null,Il=0,Rn=[],Cn=0,us=null,di=1,mi="";function Oi(e,n){ia[sa++]=Il,ia[sa++]=du,du=e,Il=n}function dg(e,n,s){Rn[Cn++]=di,Rn[Cn++]=mi,Rn[Cn++]=us,us=e;var l=di;e=mi;var c=32-ue(l)-1;l&=~(1<<c),s+=1;var f=32-ue(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,di=1<<32-ue(n)+c|s<<c|l,mi=f+e}else di=1<<f|s<<c|l,mi=e}function Ah(e){e.return!==null&&(Oi(e,1),dg(e,1,0))}function bh(e){for(;e===du;)du=ia[--sa],ia[sa]=null,Il=ia[--sa],ia[sa]=null;for(;e===us;)us=Rn[--Cn],Rn[Cn]=null,mi=Rn[--Cn],Rn[Cn]=null,di=Rn[--Cn],Rn[Cn]=null}function mg(e,n){Rn[Cn++]=di,Rn[Cn++]=mi,Rn[Cn++]=us,di=n.id,mi=n.overflow,us=e}var ze=null,Jt=null,Ot=!1,cs=null,In=!1,wh=Error(a(519));function hs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(wn(n,e)),wh}function gg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[ye]=e,n[Ve]=l,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<Zl.length;s++)Ct(Zl[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Qo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ns(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||My(n.textContent,s)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=Pn),n=!0):n=!1,n||hs(e,!0)}function pg(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:ze=ze.return}}function ra(e){if(e!==ze)return!1;if(!Ot)return pg(e),Ot=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Gf(e.type,e.memoizedProps)),s=!s),s&&Jt&&hs(e),pg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Jt=By(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Jt=By(e)}else n===27?(n=Jt,ws(e.type)?(e=Xf,Xf=null,Jt=e):Jt=n):Jt=ze?Dn(e.stateNode.nextSibling):null;return!0}function mr(){Jt=ze=null,Ot=!1}function Rh(){var e=cs;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),cs=null),e}function Nl(e){cs===null?cs=[e]:cs.push(e)}var Ch=M(null),gr=null,Mi=null;function fs(e,n,s){nt(Ch,n._currentValue),n._currentValue=s}function Vi(e){e._currentValue=Ch.current,K(Ch)}function Ih(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Nh(e,n,s,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Ih(f.return,s,e),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Ih(g,s,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function aa(e,n,s,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(c===Vt.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(no):e=[no])}c=c.return}e!==null&&Nh(n,e,s,l),n.flags|=262144}function mu(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function pr(e){gr=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return yg(gr,e)}function gu(e,n){return gr===null&&pr(e),yg(e,n)}function yg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Mi===null){if(e===null)throw Error(a(308));Mi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Mi=Mi.next=n;return s}var I0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},N0=r.unstable_scheduleCallback,D0=r.unstable_NormalPriority,Ee={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dh(){return{controller:new I0,data:new Map,refCount:0}}function Dl(e){e.refCount--,e.refCount===0&&N0(D0,function(){e.controller.abort()})}var Ol=null,Oh=0,la=0,oa=null;function O0(e,n){if(Ol===null){var s=Ol=[];Oh=0,la=kf(),oa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Oh++,n.then(_g,_g),n}function _g(){if(--Oh===0&&Ol!==null){oa!==null&&(oa.status="fulfilled");var e=Ol;Ol=null,la=0,oa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function M0(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var vg=F.S;F.S=function(e,n){ny=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&O0(e,n),vg!==null&&vg(e,n)};var yr=M(null);function Mh(){var e=yr.current;return e!==null?e:Zt.pooledCache}function pu(e,n){n===null?nt(yr,yr.current):nt(yr,n.pool)}function Eg(){var e=Mh();return e===null?null:{parent:Ee._currentValue,pool:e}}var ua=Error(a(460)),Vh=Error(a(474)),yu=Error(a(542)),_u={then:function(){}};function Tg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Pn,Pn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,bg(e),e;default:if(typeof n.status=="string")n.then(Pn,Pn);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,bg(e),e}throw vr=n,ua}}function _r(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(vr=s,ua):s}}var vr=null;function Ag(){if(vr===null)throw Error(a(459));var e=vr;return vr=null,e}function bg(e){if(e===ua||e===yu)throw Error(a(483))}var ca=null,Ml=0;function vu(e){var n=Ml;return Ml+=1,ca===null&&(ca=[]),Sg(ca,e,n)}function Vl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Eu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function wg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function c(k,D){return k=Di(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,Q){return D===null||D.tag!==6?(D=Th(P,k.mode,Q),D.return=k,D):(D=c(D,P),D.return=k,D)}function I(k,D,P,Q){var ct=P.type;return ct===$?H(k,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&_r(ct)===D.type)?(D=c(D,P.props),Vl(D,P),D.return=k,D):(D=fu(P.type,P.key,P.props,null,k.mode,Q),Vl(D,P),D.return=k,D)}function z(k,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Sh(P,k.mode,Q),D.return=k,D):(D=c(D,P.children||[]),D.return=k,D)}function H(k,D,P,Q,ct){return D===null||D.tag!==7?(D=dr(P,k.mode,Q,ct),D.return=k,D):(D=c(D,P),D.return=k,D)}function Y(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Th(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=fu(D.type,D.key,D.props,null,k.mode,P),Vl(P,D),P.return=k,P;case W:return D=Sh(D,k.mode,P),D.return=k,D;case A:return D=_r(D),Y(k,D,P)}if(Ie(D)||U(D))return D=dr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return Y(k,vu(D),P);if(D.$$typeof===st)return Y(k,gu(k,D),P);Eu(k,D)}return null}function j(k,D,P,Q){var ct=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:E(k,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ct?I(k,D,P,Q):null;case W:return P.key===ct?z(k,D,P,Q):null;case A:return P=_r(P),j(k,D,P,Q)}if(Ie(P)||U(P))return ct!==null?null:H(k,D,P,Q,null);if(typeof P.then=="function")return j(k,D,vu(P),Q);if(P.$$typeof===st)return j(k,D,gu(k,P),Q);Eu(k,P)}return null}function q(k,D,P,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(D,k,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return k=k.get(Q.key===null?P:Q.key)||null,I(D,k,Q,ct);case W:return k=k.get(Q.key===null?P:Q.key)||null,z(D,k,Q,ct);case A:return Q=_r(Q),q(k,D,P,Q,ct)}if(Ie(Q)||U(Q))return k=k.get(P)||null,H(D,k,Q,ct,null);if(typeof Q.then=="function")return q(k,D,P,vu(Q),ct);if(Q.$$typeof===st)return q(k,D,P,gu(D,Q),ct);Eu(D,Q)}return null}function ot(k,D,P,Q){for(var ct=null,zt=null,ut=D,wt=D=0,Nt=null;ut!==null&&wt<P.length;wt++){ut.index>wt?(Nt=ut,ut=null):Nt=ut.sibling;var jt=j(k,ut,P[wt],Q);if(jt===null){ut===null&&(ut=Nt);break}e&&ut&&jt.alternate===null&&n(k,ut),D=f(jt,D,wt),zt===null?ct=jt:zt.sibling=jt,zt=jt,ut=Nt}if(wt===P.length)return s(k,ut),Ot&&Oi(k,wt),ct;if(ut===null){for(;wt<P.length;wt++)ut=Y(k,P[wt],Q),ut!==null&&(D=f(ut,D,wt),zt===null?ct=ut:zt.sibling=ut,zt=ut);return Ot&&Oi(k,wt),ct}for(ut=l(ut);wt<P.length;wt++)Nt=q(ut,k,wt,P[wt],Q),Nt!==null&&(e&&Nt.alternate!==null&&ut.delete(Nt.key===null?wt:Nt.key),D=f(Nt,D,wt),zt===null?ct=Nt:zt.sibling=Nt,zt=Nt);return e&&ut.forEach(function(Ds){return n(k,Ds)}),Ot&&Oi(k,wt),ct}function dt(k,D,P,Q){if(P==null)throw Error(a(151));for(var ct=null,zt=null,ut=D,wt=D=0,Nt=null,jt=P.next();ut!==null&&!jt.done;wt++,jt=P.next()){ut.index>wt?(Nt=ut,ut=null):Nt=ut.sibling;var Ds=j(k,ut,jt.value,Q);if(Ds===null){ut===null&&(ut=Nt);break}e&&ut&&Ds.alternate===null&&n(k,ut),D=f(Ds,D,wt),zt===null?ct=Ds:zt.sibling=Ds,zt=Ds,ut=Nt}if(jt.done)return s(k,ut),Ot&&Oi(k,wt),ct;if(ut===null){for(;!jt.done;wt++,jt=P.next())jt=Y(k,jt.value,Q),jt!==null&&(D=f(jt,D,wt),zt===null?ct=jt:zt.sibling=jt,zt=jt);return Ot&&Oi(k,wt),ct}for(ut=l(ut);!jt.done;wt++,jt=P.next())jt=q(ut,k,wt,jt.value,Q),jt!==null&&(e&&jt.alternate!==null&&ut.delete(jt.key===null?wt:jt.key),D=f(jt,D,wt),zt===null?ct=jt:zt.sibling=jt,zt=jt);return e&&ut.forEach(function(HS){return n(k,HS)}),Ot&&Oi(k,wt),ct}function $t(k,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===$&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ct=P.key;D!==null;){if(D.key===ct){if(ct=P.type,ct===$){if(D.tag===7){s(k,D.sibling),Q=c(D,P.props.children),Q.return=k,k=Q;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&_r(ct)===D.type){s(k,D.sibling),Q=c(D,P.props),Vl(Q,P),Q.return=k,k=Q;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===$?(Q=dr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=fu(P.type,P.key,P.props,null,k.mode,Q),Vl(Q,P),Q.return=k,k=Q)}return g(k);case W:t:{for(ct=P.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),Q=c(D,P.children||[]),Q.return=k,k=Q;break t}else{s(k,D);break}else n(k,D);D=D.sibling}Q=Sh(P,k.mode,Q),Q.return=k,k=Q}return g(k);case A:return P=_r(P),$t(k,D,P,Q)}if(Ie(P))return ot(k,D,P,Q);if(U(P)){if(ct=U(P),typeof ct!="function")throw Error(a(150));return P=ct.call(P),dt(k,D,P,Q)}if(typeof P.then=="function")return $t(k,D,vu(P),Q);if(P.$$typeof===st)return $t(k,D,gu(k,P),Q);Eu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),Q=c(D,P),Q.return=k,k=Q):(s(k,D),Q=Th(P,k.mode,Q),Q.return=k,k=Q),g(k)):s(k,D)}return function(k,D,P,Q){try{Ml=0;var ct=$t(k,D,P,Q);return ca=null,ct}catch(ut){if(ut===ua||ut===yu)throw ut;var zt=dn(29,ut,null,k.mode);return zt.lanes=Q,zt.return=k,zt}finally{}}}var Er=wg(!0),Rg=wg(!1),ds=!1;function xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ms(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function gs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=hu(e),ug(e,null,s),n}return cu(e,l,n,s),hu(e)}function xl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ll(e,s)}}function Uh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Lh=!1;function kl(){if(Lh){var e=oa;if(e!==null)throw e}}function Ul(e,n,s,l){Lh=!1;var c=e.updateQueue;ds=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=z:E.next=z,H.lastBaseUpdate=I))}if(f!==null){var Y=c.baseState;g=0,H=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(It&j)===j:(l&j)===j){j!==0&&j===la&&(Lh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,dt=E;j=n;var $t=s;switch(dt.tag){case 1:if(ot=dt.payload,typeof ot=="function"){Y=ot.call($t,Y,j);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=dt.payload,j=typeof ot=="function"?ot.call($t,Y,j):ot,j==null)break t;Y=b({},Y,j);break t;case 2:ds=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=c.callbacks,q===null?c.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(z=H=q,I=Y):H=H.next=q,g|=j;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(I=Y),c.baseState=I,c.firstBaseUpdate=z,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),Es|=g,e.lanes=g,e.memoizedState=Y}}function Cg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Ig(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Cg(s[e],n)}var ha=M(null),Tu=M(0);function Ng(e,n){e=qi,nt(Tu,e),nt(ha,n),qi=e|n.baseLanes}function Ph(){nt(Tu,qi),nt(ha,ha.current)}function zh(){qi=Tu.current,K(ha),K(Tu)}var mn=M(null),Nn=null;function ps(e){var n=e.alternate;nt(he,he.current&1),nt(mn,e),Nn===null&&(n===null||ha.current!==null||n.memoizedState!==null)&&(Nn=e)}function jh(e){nt(he,he.current),nt(mn,e),Nn===null&&(Nn=e)}function Dg(e){e.tag===22?(nt(he,he.current),nt(mn,e),Nn===null&&(Nn=e)):ys()}function ys(){nt(he,he.current),nt(mn,mn.current)}function gn(e){K(mn),Nn===e&&(Nn=null),K(he)}var he=M(0);function Su(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Yf(s)||Kf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xi=0,Tt=null,Kt=null,Te=null,Au=!1,fa=!1,Tr=!1,bu=0,Ll=0,da=null,V0=0;function le(){throw Error(a(321))}function Bh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!fn(e[s],n[s]))return!1;return!0}function qh(e,n,s,l,c,f){return xi=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?dp:sf,Tr=!1,f=s(l,c),Tr=!1,fa&&(f=Mg(n,s,l,c)),Og(e),f}function Og(e){F.H=jl;var n=Kt!==null&&Kt.next!==null;if(xi=0,Te=Kt=Tt=null,Au=!1,Ll=0,da=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&mu(e)&&(Se=!0))}function Mg(e,n,s,l){Tt=e;var c=0;do{if(fa&&(da=null),Ll=0,fa=!1,25<=c)throw Error(a(301));if(c+=1,Te=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=mp,f=n(s,l)}while(fa);return f}function x0(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Pl(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Tt.flags|=1024),n}function Hh(){var e=bu!==0;return bu=0,e}function Gh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Fh(e){if(Au){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Au=!1}xi=0,Te=Kt=Tt=null,fa=!1,Ll=bu=0,da=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Tt.memoizedState=Te=e:Te=Te.next=e,Te}function fe(){if(Kt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=Te===null?Tt.memoizedState:Te.next;if(n!==null)Te=n,Kt=e;else{if(e===null)throw Tt.alternate===null?Error(a(467)):Error(a(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Te===null?Tt.memoizedState=Te=e:Te=Te.next=e}return Te}function wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(e){var n=Ll;return Ll+=1,da===null&&(da=[]),e=Sg(da,e,n),n=Tt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?dp:sf),e}function Ru(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pl(e);if(e.$$typeof===st)return je(e)}throw Error(a(438,String(e)))}function Qh(e){var n=null,s=Tt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=wu(),Tt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=x;return n.index++,s}function ki(e,n){return typeof n=="function"?n(e):n}function Cu(e){var n=fe();return Yh(n,Kt,e)}function Yh(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=g=null,I=null,z=n,H=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(It&Y)===Y:(xi&Y)===Y){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===la&&(H=!0);else if((xi&j)===j){z=z.next,j===la&&(H=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=Y,g=f):I=I.next=Y,Tt.lanes|=j,Es|=j;Y=z.action,Tr&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,g=f):I=I.next=j,Tt.lanes|=Y,Es|=Y;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!fn(f,e.memoizedState)&&(Se=!0,H&&(s=oa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Kh(e){var n=fe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);fn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Vg(e,n,s){var l=Tt,c=fe(),f=Ot;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!fn((Kt||c).memoizedState,s);if(g&&(c.memoizedState=s,Se=!0),c=c.queue,Zh(Ug.bind(null,l,c,e),[e]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,ma(9,{destroy:void 0},kg.bind(null,l,c,s,n),null),Zt===null)throw Error(a(349));f||(xi&127)!==0||xg(l,n,s)}return s}function xg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Tt.updateQueue,n===null?(n=wu(),Tt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function kg(e,n,s,l){n.value=s,n.getSnapshot=l,Lg(n)&&Pg(e)}function Ug(e,n,s){return s(function(){Lg(n)&&Pg(e)})}function Lg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!fn(e,s)}catch{return!0}}function Pg(e){var n=fr(e,2);n!==null&&on(n,e,2)}function Xh(e){var n=We();if(typeof e=="function"){var s=e;if(e=s(),Tr){vn(!0);try{s()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n}function zg(e,n,s,l){return e.baseState=s,Yh(e,Kt,typeof l=="function"?l:ki)}function k0(e,n,s,l,c){if(Du(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,jg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function jg(e,n){var s=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=s(c,l),I=F.S;I!==null&&I(g,E),Bg(e,n,E)}catch(z){$h(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(c,l),Bg(e,n,f)}catch(z){$h(e,n,z)}}function Bg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){qg(e,n,l)},function(l){return $h(e,n,l)}):qg(e,n,s)}function qg(e,n,s){n.status="fulfilled",n.value=s,Hg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,jg(e,s)))}function $h(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Hg(n),n=n.next;while(n!==l)}e.action=null}function Hg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Gg(e,n){return n}function Fg(e,n){if(Ot){var s=Zt.formState;if(s!==null){t:{var l=Tt;if(Ot){if(Jt){e:{for(var c=Jt,f=In;c.nodeType!==8;){if(!f){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Jt=Dn(c.nextSibling),l=c.data==="F!";break t}}hs(l)}l=!1}l&&(n=s[0])}}return s=We(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:n},s.queue=l,s=cp.bind(null,Tt,l),l.dispatch=s,l=Xh(!1),f=nf.bind(null,Tt,!1,l.queue),l=We(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,s=k0.bind(null,Tt,c,f,s),c.dispatch=s,l.memoizedState=e,[n,s,!1]}function Qg(e){var n=fe();return Yg(n,Kt,e)}function Yg(e,n,s){if(n=Yh(e,n,Gg)[0],e=Cu(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Pl(n)}catch(g){throw g===ua?yu:g}else l=n;n=fe();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Tt.flags|=2048,ma(9,{destroy:void 0},U0.bind(null,c,s),null)),[l,f,e]}function U0(e,n){e.action=n}function Kg(e){var n=fe(),s=Kt;if(s!==null)return Yg(n,s,e);fe(),n=n.memoizedState,s=fe();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function ma(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=wu(),Tt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Xg(){return fe().memoizedState}function Iu(e,n,s,l){var c=We();Tt.flags|=e,c.memoizedState=ma(1|n,{destroy:void 0},s,l===void 0?null:l)}function Nu(e,n,s,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&Bh(l,Kt.memoizedState.deps)?c.memoizedState=ma(n,f,s,l):(Tt.flags|=e,c.memoizedState=ma(1|n,f,s,l))}function $g(e,n){Iu(8390656,8,e,n)}function Zh(e,n){Nu(2048,8,e,n)}function L0(e){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=wu(),Tt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Zg(e){var n=fe().memoizedState;return L0({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Jg(e,n){return Nu(4,2,e,n)}function Wg(e,n){return Nu(4,4,e,n)}function tp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ep(e,n,s){s=s!=null?s.concat([e]):null,Nu(4,4,tp.bind(null,n,e),s)}function Jh(){}function np(e,n){var s=fe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Bh(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function ip(e,n){var s=fe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Bh(n,l[1]))return l[0];if(l=e(),Tr){vn(!0);try{e()}finally{vn(!1)}}return s.memoizedState=[l,n],l}function Wh(e,n,s){return s===void 0||(xi&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=sy(),Tt.lanes|=e,Es|=e,s)}function sp(e,n,s,l){return fn(s,n)?s:ha.current!==null?(e=Wh(e,s,l),fn(e,n)||(Se=!0),e):(xi&42)===0||(xi&1073741824)!==0&&(It&261930)===0?(Se=!0,e.memoizedState=s):(e=sy(),Tt.lanes|=e,Es|=e,n)}function rp(e,n,s,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,nf(e,!1,n,s);try{var I=c(),z=F.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var H=M0(I,l);zl(e,n,H,_n(e))}else zl(e,n,l,_n(e))}catch(Y){zl(e,n,{then:function(){},status:"rejected",reason:Y},_n())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function P0(){}function tf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var c=ap(e).queue;rp(e,c,n,ft,s===null?P0:function(){return lp(e),s(l)})}function ap(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function lp(e){var n=ap(e);n.next===null&&(n=e.alternate.memoizedState),zl(e,n.next.queue,{},_n())}function ef(){return je(no)}function op(){return fe().memoizedState}function up(){return fe().memoizedState}function z0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=_n();e=ms(s);var l=gs(n,e,s);l!==null&&(on(l,n,s),xl(l,n,s)),n={cache:Dh()},e.payload=n;return}n=n.return}}function j0(e,n,s){var l=_n();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Du(e)?hp(n,s):(s=vh(e,n,s,l),s!==null&&(on(s,e,l),fp(s,n,l)))}function cp(e,n,s){var l=_n();zl(e,n,s,l)}function zl(e,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Du(e))hp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return cu(e,n,c,0),Zt===null&&uu(),!1}catch{}finally{}if(s=vh(e,n,c,l),s!==null)return on(s,e,l),fp(s,n,l),!0}return!1}function nf(e,n,s,l){if(l={lane:2,revertLane:kf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Du(e)){if(n)throw Error(a(479))}else n=vh(e,s,l,2),n!==null&&on(n,e,2)}function Du(e){var n=e.alternate;return e===Tt||n!==null&&n===Tt}function hp(e,n){fa=Au=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function fp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ll(e,s)}}var jl={readContext:je,use:Ru,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};jl.useEffectEvent=le;var dp={readContext:je,use:Ru,useCallback:function(e,n){return We().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:$g,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Iu(4194308,4,tp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Iu(4194308,4,e,n)},useInsertionEffect:function(e,n){Iu(4,2,e,n)},useMemo:function(e,n){var s=We();n=n===void 0?null:n;var l=e();if(Tr){vn(!0);try{e()}finally{vn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=We();if(s!==void 0){var c=s(n);if(Tr){vn(!0);try{s(n)}finally{vn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=j0.bind(null,Tt,e),[l.memoizedState,e]},useRef:function(e){var n=We();return e={current:e},n.memoizedState=e},useState:function(e){e=Xh(e);var n=e.queue,s=cp.bind(null,Tt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Jh,useDeferredValue:function(e,n){var s=We();return Wh(s,e,n)},useTransition:function(){var e=Xh(!1);return e=rp.bind(null,Tt,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Tt,c=We();if(Ot){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Zt===null)throw Error(a(349));(It&127)!==0||xg(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,$g(Ug.bind(null,l,f,e),[e]),l.flags|=2048,ma(9,{destroy:void 0},kg.bind(null,l,f,s,n),null),s},useId:function(){var e=We(),n=Zt.identifierPrefix;if(Ot){var s=mi,l=di;s=(l&~(1<<32-ue(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=bu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=V0++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ef,useFormState:Fg,useActionState:Fg,useOptimistic:function(e){var n=We();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=nf.bind(null,Tt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Qh,useCacheRefresh:function(){return We().memoizedState=z0.bind(null,Tt)},useEffectEvent:function(e){var n=We(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},sf={readContext:je,use:Ru,useCallback:np,useContext:je,useEffect:Zh,useImperativeHandle:ep,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:ip,useReducer:Cu,useRef:Xg,useState:function(){return Cu(ki)},useDebugValue:Jh,useDeferredValue:function(e,n){var s=fe();return sp(s,Kt.memoizedState,e,n)},useTransition:function(){var e=Cu(ki)[0],n=fe().memoizedState;return[typeof e=="boolean"?e:Pl(e),n]},useSyncExternalStore:Vg,useId:op,useHostTransitionStatus:ef,useFormState:Qg,useActionState:Qg,useOptimistic:function(e,n){var s=fe();return zg(s,Kt,e,n)},useMemoCache:Qh,useCacheRefresh:up};sf.useEffectEvent=Zg;var mp={readContext:je,use:Ru,useCallback:np,useContext:je,useEffect:Zh,useImperativeHandle:ep,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:ip,useReducer:Kh,useRef:Xg,useState:function(){return Kh(ki)},useDebugValue:Jh,useDeferredValue:function(e,n){var s=fe();return Kt===null?Wh(s,e,n):sp(s,Kt.memoizedState,e,n)},useTransition:function(){var e=Kh(ki)[0],n=fe().memoizedState;return[typeof e=="boolean"?e:Pl(e),n]},useSyncExternalStore:Vg,useId:op,useHostTransitionStatus:ef,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,n){var s=fe();return Kt!==null?zg(s,Kt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Qh,useCacheRefresh:up};mp.useEffectEvent=Zg;function rf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var af={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=_n(),c=ms(l);c.payload=n,s!=null&&(c.callback=s),n=gs(e,c,l),n!==null&&(on(n,e,l),xl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=_n(),c=ms(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=gs(e,c,l),n!==null&&(on(n,e,l),xl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=_n(),l=ms(s);l.tag=2,n!=null&&(l.callback=n),n=gs(e,l,s),n!==null&&(on(n,e,s),xl(n,e,s))}};function gp(e,n,s,l,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Rl(s,l)||!Rl(c,f):!0}function pp(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&af.enqueueReplaceState(n,n.state,null)}function Sr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function yp(e){ou(e)}function _p(e){console.error(e)}function vp(e){ou(e)}function Ou(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ep(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function lf(e,n,s){return s=ms(s),s.tag=3,s.payload={element:null},s.callback=function(){Ou(e,n)},s}function Tp(e){return e=ms(e),e.tag=3,e}function Sp(e,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){Ep(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Ep(n,s,l),typeof c!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function B0(e,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&aa(n,s,c,!0),s=mn.current,s!==null){switch(s.tag){case 31:case 13:return Nn===null?Hu():s.alternate===null&&oe===0&&(oe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===_u?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Mf(e,l,c)),!1;case 22:return s.flags|=65536,l===_u?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Mf(e,l,c)),!1}throw Error(a(435,s.tag))}return Mf(e,l,c),Hu(),!1}if(Ot)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==wh&&(e=Error(a(422),{cause:l}),Nl(wn(e,s)))):(l!==wh&&(n=Error(a(423),{cause:l}),Nl(wn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=wn(l,s),c=lf(e.stateNode,l,c),Uh(e,c),oe!==4&&(oe=2)),!1;var f=Error(a(520),{cause:l});if(f=wn(f,s),Kl===null?Kl=[f]:Kl.push(f),oe!==4&&(oe=2),n===null)return!0;l=wn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=lf(s.stateNode,l,e),Uh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ts===null||!Ts.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Tp(c),Sp(c,e,s,l),Uh(s,c),!1}s=s.return}while(s!==null);return!1}var of=Error(a(461)),Se=!1;function Be(e,n,s,l){n.child=e===null?Rg(n,null,s,l):Er(n,e.child,s,l)}function Ap(e,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return pr(n),l=qh(e,n,s,g,f,c),E=Hh(),e!==null&&!Se?(Gh(e,n,c),Ui(e,n,c)):(Ot&&E&&Ah(n),n.flags|=1,Be(e,n,l,c),n.child)}function bp(e,n,s,l,c){if(e===null){var f=s.type;return typeof f=="function"&&!Eh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,wp(e,n,f,l,c)):(e=fu(s.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!pf(e,c)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Rl,s(g,l)&&e.ref===n.ref)return Ui(e,n,c)}return n.flags|=1,e=Di(f,l),e.ref=n.ref,e.return=n,n.child=e}function wp(e,n,s,l,c){if(e!==null){var f=e.memoizedProps;if(Rl(f,l)&&e.ref===n.ref)if(Se=!1,n.pendingProps=l=f,pf(e,c))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,Ui(e,n,c)}return uf(e,n,s,l,c)}function Rp(e,n,s,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Cp(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&pu(n,f!==null?f.cachePool:null),f!==null?Ng(n,f):Ph(),Dg(n);else return l=n.lanes=536870912,Cp(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(pu(n,f.cachePool),Ng(n,f),ys(),n.memoizedState=null):(e!==null&&pu(n,null),Ph(),ys());return Be(e,n,c,s),n.child}function Bl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Cp(e,n,s,l,c){var f=Mh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&pu(n,null),Ph(),Dg(n),e!==null&&aa(e,n,l,!0),n.childLanes=c,null}function Mu(e,n){return n=xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ip(e,n,s){return Er(n,e.child,null,s),e=Mu(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function q0(e,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ot){if(l.mode==="hidden")return e=Mu(n,l),n.lanes=536870912,Bl(null,e);if(jh(n),(e=Jt)?(e=jy(e,In),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:us!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},s=hg(e),s.return=n,n.child=s,ze=n,Jt=null)):e=null,e===null)throw hs(n);return n.lanes=536870912,null}return Mu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(jh(n),c)if(n.flags&256)n.flags&=-257,n=Ip(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||aa(e,n,s,!1),c=(s&e.childLanes)!==0,Se||c){if(l=Zt,l!==null&&(g=ol(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,fr(e,g),on(l,e,g),of;Hu(),n=Ip(e,n,s)}else e=f.treeContext,Jt=Dn(g.nextSibling),ze=n,Ot=!0,cs=null,In=!1,e!==null&&mg(n,e),n=Mu(n,l),n.flags|=4096;return n}return e=Di(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Vu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function uf(e,n,s,l,c){return pr(n),s=qh(e,n,s,l,void 0,c),l=Hh(),e!==null&&!Se?(Gh(e,n,c),Ui(e,n,c)):(Ot&&l&&Ah(n),n.flags|=1,Be(e,n,s,c),n.child)}function Np(e,n,s,l,c,f){return pr(n),n.updateQueue=null,s=Mg(n,l,s,c),Og(e),l=Hh(),e!==null&&!Se?(Gh(e,n,f),Ui(e,n,f)):(Ot&&l&&Ah(n),n.flags|=1,Be(e,n,s,f),n.child)}function Dp(e,n,s,l,c){if(pr(n),n.stateNode===null){var f=na,g=s.contextType;typeof g=="object"&&g!==null&&(f=je(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=af,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},xh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?je(g):na,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(rf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&af.enqueueReplaceState(f,f.state,null),Ul(n,l,f,c),kl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Sr(s,E);f.props=I;var z=f.context,H=s.contextType;g=na,typeof H=="object"&&H!==null&&(g=je(H));var Y=s.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&pp(n,f,l,g),ds=!1;var j=n.memoizedState;f.state=j,Ul(n,l,f,c),kl(),z=n.memoizedState,E||j!==z||ds?(typeof Y=="function"&&(rf(n,s,Y,l),z=n.memoizedState),(I=ds||gp(n,s,I,l,j,z,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,kh(e,n),g=n.memoizedProps,H=Sr(s,g),f.props=H,Y=n.pendingProps,j=f.context,z=s.contextType,I=na,typeof z=="object"&&z!==null&&(I=je(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==I)&&pp(n,f,l,I),ds=!1,j=n.memoizedState,f.state=j,Ul(n,l,f,c),kl();var q=n.memoizedState;g!==Y||j!==q||ds||e!==null&&e.dependencies!==null&&mu(e.dependencies)?(typeof E=="function"&&(rf(n,s,E,l),q=n.memoizedState),(H=ds||gp(n,s,H,l,j,q,I)||e!==null&&e.dependencies!==null&&mu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=I,l=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Vu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Er(n,e.child,null,c),n.child=Er(n,null,s,c)):Be(e,n,s,c),n.memoizedState=f.state,e=n.child):e=Ui(e,n,c),e}function Op(e,n,s,l){return mr(),n.flags|=256,Be(e,n,s,l),n.child}var cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hf(e){return{baseLanes:e,cachePool:Eg()}}function ff(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=yn),e}function Mp(e,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(he.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ot){if(c?ps(n):ys(),(e=Jt)?(e=jy(e,In),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:us!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},s=hg(e),s.return=n,n.child=s,ze=n,Jt=null)):e=null,e===null)throw hs(n);return Kf(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ys(),c=n.mode,E=xu({mode:"hidden",children:E},c),l=dr(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=hf(s),l.childLanes=ff(e,g,s),n.memoizedState=cf,Bl(null,l)):(ps(n),df(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(ps(n),n.flags&=-257,n=mf(e,n,s)):n.memoizedState!==null?(ys(),n.child=e.child,n.flags|=128,n=null):(ys(),E=l.fallback,c=n.mode,l=xu({mode:"visible",children:l.children},c),E=dr(E,c,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Er(n,e.child,null,s),l=n.child,l.memoizedState=hf(s),l.childLanes=ff(e,g,s),n.memoizedState=cf,n=Bl(null,l));else if(ps(n),Kf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,Nl({value:l,source:null,stack:null}),n=mf(e,n,s)}else if(Se||aa(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=Zt,g!==null&&(l=ol(g,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,fr(e,l),on(g,e,l),of;Yf(E)||Hu(),n=mf(e,n,s)}else Yf(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,Jt=Dn(E.nextSibling),ze=n,Ot=!0,cs=null,In=!1,e!==null&&mg(n,e),n=df(n,l.children),n.flags|=4096);return n}return c?(ys(),E=l.fallback,c=n.mode,I=e.child,z=I.sibling,l=Di(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Di(z,E):(E=dr(E,c,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Bl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=hf(s):(c=E.cachePool,c!==null?(I=Ee._currentValue,c=c.parent!==I?{parent:I,pool:I}:c):c=Eg(),E={baseLanes:E.baseLanes|s,cachePool:c}),l.memoizedState=E,l.childLanes=ff(e,g,s),n.memoizedState=cf,Bl(e.child,l)):(ps(n),s=e.child,e=s.sibling,s=Di(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function df(e,n){return n=xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function xu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function mf(e,n,s){return Er(n,e.child,null,s),e=df(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Vp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Ih(e.return,n,s)}function gf(e,n,s,l,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=f)}function xp(e,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=he.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(he,g),Be(e,n,l,s),l=Ot?Il:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vp(e,s,n);else if(e.tag===19)Vp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Su(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),gf(n,!1,c,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Su(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}gf(n,!0,s,null,f,l);break;case"together":gf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ui(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Es|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(aa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Di(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Di(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&mu(e)))}function H0(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),fs(n,Ee,e.memoizedState.cache),mr();break;case 27:case 5:Ks(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:fs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,jh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ps(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Mp(e,n,s):(ps(n),e=Ui(e,n,s),e!==null?e.sibling:null);ps(n);break;case 19:var c=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(aa(e,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return xp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(he,he.current),l)break;return null;case 22:return n.lanes=0,Rp(e,n,s,n.pendingProps);case 24:fs(n,Ee,e.memoizedState.cache)}return Ui(e,n,s)}function kp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!pf(e,s)&&(n.flags&128)===0)return Se=!1,H0(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,Ot&&(n.flags&1048576)!==0&&dg(n,Il,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=_r(n.elementType),n.type=e,typeof e=="function")Eh(e)?(l=Sr(e,l),n.tag=1,n=Dp(null,n,e,l,s)):(n.tag=0,n=uf(null,n,e,l,s));else{if(e!=null){var c=e.$$typeof;if(c===St){n.tag=11,n=Ap(null,n,e,l,s);break t}else if(c===N){n.tag=14,n=bp(null,n,e,l,s);break t}}throw n=te(e)||e,Error(a(306,n,""))}}return n;case 0:return uf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Sr(l,n.pendingProps),Dp(e,n,l,c,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,kh(e,n),Ul(n,l,null,s);var g=n.memoizedState;if(l=g.cache,fs(n,Ee,l),l!==f.cache&&Nh(n,[Ee],s,!0),kl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Op(e,n,l,s);break t}else if(l!==c){c=wn(Error(a(424)),n),Nl(c),n=Op(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Jt=Dn(e.firstChild),ze=n,Ot=!0,cs=null,In=!0,s=Rg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(mr(),l===c){n=Ui(e,n,s);break t}Be(e,n,l,s)}n=n.child}return n;case 26:return Vu(e,n),e===null?(s=Qy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ot||(s=n.type,e=n.pendingProps,l=$u(bt.current).createElement(s),l[ye]=n,l[Ve]=e,qe(l,s,e),_e(l),n.stateNode=l):n.memoizedState=Qy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ks(n),e===null&&Ot&&(l=n.stateNode=Hy(n.type,n.pendingProps,bt.current),ze=n,In=!0,c=Jt,ws(n.type)?(Xf=c,Jt=Dn(l.firstChild)):Jt=c),Be(e,n,n.pendingProps.children,s),Vu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ot&&((c=l=Jt)&&(l=vS(l,n.type,n.pendingProps,In),l!==null?(n.stateNode=l,ze=n,Jt=Dn(l.firstChild),In=!1,c=!0):c=!1),c||hs(n)),Ks(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,Gf(c,f)?l=null:g!==null&&Gf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=qh(e,n,x0,null,null,s),no._currentValue=c),Vu(e,n),Be(e,n,l,s),n.child;case 6:return e===null&&Ot&&((e=s=Jt)&&(s=ES(s,n.pendingProps,In),s!==null?(n.stateNode=s,ze=n,Jt=null,e=!0):e=!1),e||hs(n)),null;case 13:return Mp(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Er(n,null,l,s):Be(e,n,l,s),n.child;case 11:return Ap(e,n,n.type,n.pendingProps,s);case 7:return Be(e,n,n.pendingProps,s),n.child;case 8:return Be(e,n,n.pendingProps.children,s),n.child;case 12:return Be(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,fs(n,n.type,l.value),Be(e,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,pr(n),c=je(c),l=l(c),n.flags|=1,Be(e,n,l,s),n.child;case 14:return bp(e,n,n.type,n.pendingProps,s);case 15:return wp(e,n,n.type,n.pendingProps,s);case 19:return xp(e,n,s);case 31:return q0(e,n,s);case 22:return Rp(e,n,s,n.pendingProps);case 24:return pr(n),l=je(Ee),e===null?(c=Mh(),c===null&&(c=Zt,f=Dh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},xh(n),fs(n,Ee,c)):((e.lanes&s)!==0&&(kh(e,n),Ul(n,null,null,s),kl()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),fs(n,Ee,l)):(l=f.cache,fs(n,Ee,l),l!==c.cache&&Nh(n,[Ee],s,!0))),Be(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Li(e){e.flags|=4}function yf(e,n,s,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(oy())e.flags|=8192;else throw vr=_u,Vh}else e.flags&=-16777217}function Up(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zy(n))if(oy())e.flags|=8192;else throw vr=_u,Vh}function ku(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Bo():536870912,e.lanes|=n,_a|=n)}function ql(e,n){if(!Ot)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function G0(e,n,s){var l=n.pendingProps;switch(bh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(Ee),ee(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ra(n)?Li(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Rh())),Wt(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(Li(n),f!==null?(Wt(n),Up(n,f)):(Wt(n),yf(n,c,null,l,s))):f?f!==e.memoizedState?(Li(n),Wt(n),Up(n,f)):(Wt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Li(n),Wt(n),yf(n,c,e,l,s)),null;case 27:if(Lr(n),s=bt.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Wt(n),null}e=rt.current,ra(n)?gg(n):(e=Hy(c,l,s),n.stateNode=e,Li(n))}return Wt(n),null;case 5:if(Lr(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Wt(n),null}if(f=rt.current,ra(n))gg(n);else{var g=$u(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ye]=n,f[Ve]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Li(n)}}return Wt(n),yf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Li(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,ra(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,c=ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[ye]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||My(e.nodeValue,s)),e||hs(n,!0)}else e=$u(e).createTextNode(l),e[ye]=n,n.stateNode=e}return Wt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=ra(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ye]=n}else mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),e=!1}else s=Rh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Wt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ra(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ye]=n}else mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),c=!1}else c=Rh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ku(n,n.updateQueue),Wt(n),null);case 4:return ee(),e===null&&zf(n.stateNode.containerInfo),Wt(n),null;case 10:return Vi(n.type),Wt(n),null;case 19:if(K(he),l=n.memoizedState,l===null)return Wt(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)ql(l,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Su(e),f!==null){for(n.flags|=128,ql(l,!1),e=f.updateQueue,n.updateQueue=e,ku(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)cg(s,e),s=s.sibling;return nt(he,he.current&1|2),Ot&&Oi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Ze()>ju&&(n.flags|=128,c=!0,ql(l,!1),n.lanes=4194304)}else{if(!c)if(e=Su(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,ku(n,e),ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ot)return Wt(n),null}else 2*Ze()-l.renderingStartTime>ju&&s!==536870912&&(n.flags|=128,c=!0,ql(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ze(),e.sibling=null,s=he.current,nt(he,c?s&1|2:s&1),Ot&&Oi(n,l.treeForkCount),e):(Wt(n),null);case 22:case 23:return gn(n),zh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),s=n.updateQueue,s!==null&&ku(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&K(yr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Vi(Ee),Wt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function F0(e,n){switch(bh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Vi(Ee),ee(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Lr(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(a(340));mr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));mr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(he),null;case 4:return ee(),null;case 10:return Vi(n.type),null;case 22:case 23:return gn(n),zh(),e!==null&&K(yr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Vi(Ee),null;case 25:return null;default:return null}}function Lp(e,n){switch(bh(n),n.tag){case 3:Vi(Ee),ee();break;case 26:case 27:case 5:Lr(n);break;case 4:ee();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:K(he);break;case 10:Vi(n.type);break;case 22:case 23:gn(n),zh(),e!==null&&K(yr);break;case 24:Vi(Ee)}}function Hl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==c)}}catch(E){Qt(n,n.return,E)}}function _s(e,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var I=s,z=E;try{z()}catch(H){Qt(c,I,H)}}}l=l.next}while(l!==f)}}catch(H){Qt(n,n.return,H)}}function Pp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Ig(n,s)}catch(l){Qt(e,e.return,l)}}}function zp(e,n,s){s.props=Sr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Qt(e,n,l)}}function Gl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(c){Qt(e,n,c)}}function gi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Qt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Qt(e,n,c)}else s.current=null}function jp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Qt(e,e.return,c)}}function _f(e,n,s){try{var l=e.stateNode;dS(l,e.type,s,n),l[Ve]=n}catch(c){Qt(e,e.return,c)}}function Bp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ws(e.type)||e.tag===4}function vf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ws(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ef(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Pn));else if(l!==4&&(l===27&&ws(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Ef(e,n,s),e=e.sibling;e!==null;)Ef(e,n,s),e=e.sibling}function Uu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&ws(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Uu(e,n,s),e=e.sibling;e!==null;)Uu(e,n,s),e=e.sibling}function qp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,l,s),n[ye]=e,n[Ve]=s}catch(f){Qt(e,e.return,f)}}var Pi=!1,Ae=!1,Tf=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Q0(e,n){if(e=e.containerInfo,qf=ic,e=eg(e),dh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,z=0,H=0,Y=e,j=null;e:for(;;){for(var q;Y!==s||c!==0&&Y.nodeType!==3||(E=g+c),Y!==f||l!==0&&Y.nodeType!==3||(I=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===s&&++z===c&&(E=g),j===f&&++H===l&&(I=g),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Hf={focusedElem:e,selectionRange:s},ic=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ot=Sr(s.type,c);e=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Qt(s,s.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Qf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function Gp(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ji(e,s),l&4&&Hl(5,s);break;case 1:if(ji(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(s,s.return,g)}else{var c=Sr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(s,s.return,g)}}l&64&&Pp(s),l&512&&Gl(s,s.return);break;case 3:if(ji(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Ig(e,n)}catch(g){Qt(s,s.return,g)}}break;case 27:n===null&&l&4&&qp(s);case 26:case 5:ji(e,s),n===null&&l&4&&jp(s),l&512&&Gl(s,s.return);break;case 12:ji(e,s);break;case 31:ji(e,s),l&4&&Yp(e,s);break;case 13:ji(e,s),l&4&&Kp(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=eS.bind(null,s),TS(e,s))));break;case 22:if(l=s.memoizedState!==null||Pi,!l){n=n!==null&&n.memoizedState!==null||Ae,c=Pi;var f=Ae;Pi=l,(Ae=n)&&!f?Bi(e,s,(s.subtreeFlags&8772)!==0):ji(e,s),Pi=c,Ae=f}break;case 30:break;default:ji(e,s)}}function Fp(e){var n=e.alternate;n!==null&&(e.alternate=null,Fp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&qr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,sn=!1;function zi(e,n,s){for(s=s.child;s!==null;)Qp(e,n,s),s=s.sibling}function Qp(e,n,s){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(xn,s)}catch{}switch(s.tag){case 26:Ae||gi(s,n),zi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ae||gi(s,n);var l=ie,c=sn;ws(s.type)&&(ie=s.stateNode,sn=!1),zi(e,n,s),Wl(s.stateNode),ie=l,sn=c;break;case 5:Ae||gi(s,n);case 6:if(l=ie,c=sn,ie=null,zi(e,n,s),ie=l,sn=c,ie!==null)if(sn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{ie.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:ie!==null&&(sn?(e=ie,Py(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ra(e)):Py(ie,s.stateNode));break;case 4:l=ie,c=sn,ie=s.stateNode.containerInfo,sn=!0,zi(e,n,s),ie=l,sn=c;break;case 0:case 11:case 14:case 15:_s(2,s,n),Ae||_s(4,s,n),zi(e,n,s);break;case 1:Ae||(gi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&zp(s,n,l)),zi(e,n,s);break;case 21:zi(e,n,s);break;case 22:Ae=(l=Ae)||s.memoizedState!==null,zi(e,n,s),Ae=l;break;default:zi(e,n,s)}}function Yp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ra(e)}catch(s){Qt(n,n.return,s)}}}function Kp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ra(e)}catch(s){Qt(n,n.return,s)}}function Y0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Hp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Hp),n;default:throw Error(a(435,e.tag))}}function Lu(e,n){var s=Y0(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=nS.bind(null,e,l);l.then(c,c)}})}function rn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(ws(E.type)){ie=E.stateNode,sn=!1;break t}break;case 5:ie=E.stateNode,sn=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(ie===null)throw Error(a(160));Qp(f,g,c),ie=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Xp(n,e),n=n.sibling}var Gn=null;function Xp(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(n,e),an(e),l&4&&(_s(3,e,e.return),Hl(3,e),_s(5,e,e.return));break;case 1:rn(n,e),an(e),l&512&&(Ae||s===null||gi(s,s.return)),l&64&&Pi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Gn;if(rn(n,e),an(e),l&512&&(Ae||s===null||gi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ei]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,l,s),f[ye]=e,_e(f),l=f;break t;case"link":var g=Xy("link","href",c).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),qe(f,l,s),c.head.appendChild(f);break;case"meta":if(g=Xy("meta","content",c).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=c.createElement(l),qe(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[ye]=e,_e(f),l=f}e.stateNode=l}else $y(c,e.type,e.stateNode);else e.stateNode=Ky(c,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?$y(c,e.type,e.stateNode):Ky(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&_f(e,e.memoizedProps,s.memoizedProps)}break;case 27:rn(n,e),an(e),l&512&&(Ae||s===null||gi(s,s.return)),s!==null&&l&4&&_f(e,e.memoizedProps,s.memoizedProps);break;case 5:if(rn(n,e),an(e),l&512&&(Ae||s===null||gi(s,s.return)),e.flags&32){c=e.stateNode;try{nn(c,"")}catch(ot){Qt(e,e.return,ot)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,_f(e,c,s!==null?s.memoizedProps:c)),l&1024&&(Tf=!0);break;case 6:if(rn(n,e),an(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ot){Qt(e,e.return,ot)}}break;case 3:if(Wu=null,c=Gn,Gn=Zu(n.containerInfo),rn(n,e),Gn=c,an(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ra(n.containerInfo)}catch(ot){Qt(e,e.return,ot)}Tf&&(Tf=!1,$p(e));break;case 4:l=Gn,Gn=Zu(e.stateNode.containerInfo),rn(n,e),an(e),Gn=l;break;case 12:rn(n,e),an(e);break;case 31:rn(n,e),an(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lu(e,l)));break;case 13:rn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(zu=Ze()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lu(e,l)));break;case 22:c=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=Pi,H=Ae;if(Pi=z||c,Ae=H||I,rn(n,e),Ae=H,Pi=z,an(e),l&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||I||Pi||Ae||Ar(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){Qt(I,I.return,ot)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=c?"":I.memoizedProps}catch(ot){Qt(I,I.return,ot)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;c?zy(q,!0):zy(I.stateNode,!1)}catch(ot){Qt(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Lu(e,s))));break;case 19:rn(n,e),an(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lu(e,l)));break;case 30:break;case 21:break;default:rn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Bp(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=vf(e);Uu(e,f,c);break;case 5:var g=s.stateNode;s.flags&32&&(nn(g,""),s.flags&=-33);var E=vf(e);Uu(e,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,z=vf(e);Ef(e,z,I);break;default:throw Error(a(161))}}catch(H){Qt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $p(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;$p(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gp(e,n.alternate,n),n=n.sibling}function Ar(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:_s(4,n,n.return),Ar(n);break;case 1:gi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&zp(n,n.return,s),Ar(n);break;case 27:Wl(n.stateNode);case 26:case 5:gi(n,n.return),Ar(n);break;case 22:n.memoizedState===null&&Ar(n);break;case 30:Ar(n);break;default:Ar(n)}e=e.sibling}}function Bi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Bi(c,f,s),Hl(4,f);break;case 1:if(Bi(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Qt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var I=c.shared.hiddenCallbacks;if(I!==null)for(c.shared.hiddenCallbacks=null,c=0;c<I.length;c++)Cg(I[c],E)}catch(z){Qt(l,l.return,z)}}s&&g&64&&Pp(f),Gl(f,f.return);break;case 27:qp(f);case 26:case 5:Bi(c,f,s),s&&l===null&&g&4&&jp(f),Gl(f,f.return);break;case 12:Bi(c,f,s);break;case 31:Bi(c,f,s),s&&g&4&&Yp(c,f);break;case 13:Bi(c,f,s),s&&g&4&&Kp(c,f);break;case 22:f.memoizedState===null&&Bi(c,f,s),Gl(f,f.return);break;case 30:break;default:Bi(c,f,s)}n=n.sibling}}function Sf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Dl(s))}function Af(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Dl(e))}function Fn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zp(e,n,s,l),n=n.sibling}function Zp(e,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(e,n,s,l),c&2048&&Hl(9,n);break;case 1:Fn(e,n,s,l);break;case 3:Fn(e,n,s,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Dl(e)));break;case 12:if(c&2048){Fn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Qt(n,n.return,I)}}else Fn(e,n,s,l);break;case 31:Fn(e,n,s,l);break;case 13:Fn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(e,n,s,l):Fl(e,n):f._visibility&2?Fn(e,n,s,l):(f._visibility|=2,ga(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Sf(g,n);break;case 24:Fn(e,n,s,l),c&2048&&Af(n.alternate,n);break;default:Fn(e,n,s,l)}}function ga(e,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,I=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:ga(f,g,E,I,c),Hl(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?ga(f,g,E,I,c):Fl(f,g):(H._visibility|=2,ga(f,g,E,I,c)),c&&z&2048&&Sf(g.alternate,g);break;case 24:ga(f,g,E,I,c),c&&z&2048&&Af(g.alternate,g);break;default:ga(f,g,E,I,c)}n=n.sibling}}function Fl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,c=l.flags;switch(l.tag){case 22:Fl(s,l),c&2048&&Sf(l.alternate,l);break;case 24:Fl(s,l),c&2048&&Af(l.alternate,l);break;default:Fl(s,l)}n=n.sibling}}var Ql=8192;function pa(e,n,s){if(e.subtreeFlags&Ql)for(e=e.child;e!==null;)Jp(e,n,s),e=e.sibling}function Jp(e,n,s){switch(e.tag){case 26:pa(e,n,s),e.flags&Ql&&e.memoizedState!==null&&VS(s,Gn,e.memoizedState,e.memoizedProps);break;case 5:pa(e,n,s);break;case 3:case 4:var l=Gn;Gn=Zu(e.stateNode.containerInfo),pa(e,n,s),Gn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ql,Ql=16777216,pa(e,n,s),Ql=l):pa(e,n,s));break;default:pa(e,n,s)}}function Wp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Yl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ke=l,ey(l,e)}Wp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ty(e),e=e.sibling}function ty(e){switch(e.tag){case 0:case 11:case 15:Yl(e),e.flags&2048&&_s(9,e,e.return);break;case 3:Yl(e);break;case 12:Yl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Pu(e)):Yl(e);break;default:Yl(e)}}function Pu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];ke=l,ey(l,e)}Wp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:_s(8,n,n.return),Pu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Pu(n));break;default:Pu(n)}e=e.sibling}}function ey(e,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:_s(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ke=l;else t:for(s=e;ke!==null;){l=ke;var c=l.sibling,f=l.return;if(Fp(l),l===s){ke=null;break t}if(c!==null){c.return=f,ke=c;break t}ke=f}}}var K0={getCacheForType:function(e){var n=je(Ee),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return je(Ee).controller.signal}},X0=typeof WeakMap=="function"?WeakMap:Map,qt=0,Zt=null,Rt=null,It=0,Ft=0,pn=null,vs=!1,ya=!1,bf=!1,qi=0,oe=0,Es=0,br=0,wf=0,yn=0,_a=0,Kl=null,ln=null,Rf=!1,zu=0,ny=0,ju=1/0,Bu=null,Ts=null,Oe=0,Ss=null,va=null,Hi=0,Cf=0,If=null,iy=null,Xl=0,Nf=null;function _n(){return(qt&2)!==0&&It!==0?It&-It:F.T!==null?kf():qo()}function sy(){if(yn===0)if((It&536870912)===0||Ot){var e=Zs;Zs<<=1,(Zs&3932160)===0&&(Zs=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function on(e,n,s){(e===Zt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ea(e,0),As(e,It,yn,!1)),Js(e,s),((qt&2)===0||e!==Zt)&&(e===Zt&&((qt&2)===0&&(br|=s),oe===4&&As(e,It,yn,!1)),pi(e))}function ry(e,n,s){if((qt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||kn(e,n),c=l?J0(e,n):Of(e,n,!0),f=l;do{if(c===0){ya&&!l&&As(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!$0(s)){c=Of(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;c=Kl;var I=E.current.memoizedState.isDehydrated;if(I&&(Ea(E,g).flags|=256),g=Of(E,g,!1),g!==2){if(bf&&!I){E.errorRecoveryDisabledLanes|=f,br|=f,c=4;break t}f=ln,ln=c,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Ea(e,0),As(e,n,0,!0);break}t:{switch(l=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:As(l,n,yn,!vs);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=zu+300-Ze(),10<c)){if(As(l,n,yn,!vs),Jn(l,0,!0)!==0)break t;Hi=n,l.timeoutHandle=Uy(ay.bind(null,l,s,ln,Bu,Rf,n,yn,br,_a,vs,f,"Throttled",-0,0),c);break t}ay(l,s,ln,Bu,Rf,n,yn,br,_a,vs,f,null,-0,0)}}break}while(!0);pi(e)}function ay(e,n,s,l,c,f,g,E,I,z,H,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},Jp(n,f,Y);var ot=(f&62914560)===f?zu-Ze():(f&4194048)===f?ny-Ze():0;if(ot=xS(Y,ot),ot!==null){Hi=f,e.cancelPendingCommit=ot(my.bind(null,e,n,f,s,l,c,g,E,I,H,Y,null,j,q)),As(e,f,g,!z);return}}my(e,n,f,s,l,c,g,E,I)}function $0(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function As(e,n,s,l){n&=~wf,n&=~br,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-ue(c),g=1<<f;l[f]=-1,c&=~g}s!==0&&Ws(e,s,n)}function qu(){return(qt&6)===0?($l(0),!1):!0}function Df(){if(Rt!==null){if(Ft===0)var e=Rt.return;else e=Rt,Mi=gr=null,Fh(e),ca=null,Ml=0,e=Rt;for(;e!==null;)Lp(e.alternate,e),e=e.return;Rt=null}}function Ea(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,pS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Hi=0,Df(),Zt=e,Rt=s=Di(e.current,null),It=n,Ft=0,pn=null,vs=!1,ya=kn(e,n),bf=!1,_a=yn=wf=br=Es=oe=0,ln=Kl=null,Rf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-ue(l),f=1<<c;n|=e[c],l&=~f}return qi=n,uu(),s}function ly(e,n){Tt=null,F.H=jl,n===ua||n===yu?(n=Ag(),Ft=3):n===Vh?(n=Ag(),Ft=4):Ft=n===of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,Rt===null&&(oe=1,Ou(e,wn(n,e.current)))}function oy(){var e=mn.current;return e===null?!0:(It&4194048)===It?Nn===null:(It&62914560)===It||(It&536870912)!==0?e===Nn:!1}function uy(){var e=F.H;return F.H=jl,e===null?jl:e}function cy(){var e=F.A;return F.A=K0,e}function Hu(){oe=4,vs||(It&4194048)!==It&&mn.current!==null||(ya=!0),(Es&134217727)===0&&(br&134217727)===0||Zt===null||As(Zt,It,yn,!1)}function Of(e,n,s){var l=qt;qt|=2;var c=uy(),f=cy();(Zt!==e||It!==n)&&(Bu=null,Ea(e,n)),n=!1;var g=oe;t:do try{if(Ft!==0&&Rt!==null){var E=Rt,I=pn;switch(Ft){case 8:Df(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var z=Ft;if(Ft=0,pn=null,Ta(e,E,I,z),s&&ya){g=0;break t}break;default:z=Ft,Ft=0,pn=null,Ta(e,E,I,z)}}Z0(),g=oe;break}catch(H){ly(e,H)}while(!0);return n&&e.shellSuspendCounter++,Mi=gr=null,qt=l,F.H=c,F.A=f,Rt===null&&(Zt=null,It=0,uu()),g}function Z0(){for(;Rt!==null;)hy(Rt)}function J0(e,n){var s=qt;qt|=2;var l=uy(),c=cy();Zt!==e||It!==n?(Bu=null,ju=Ze()+500,Ea(e,n)):ya=kn(e,n);t:do try{if(Ft!==0&&Rt!==null){n=Rt;var f=pn;e:switch(Ft){case 1:Ft=0,pn=null,Ta(e,n,f,1);break;case 2:case 9:if(Tg(f)){Ft=0,pn=null,fy(n);break}n=function(){Ft!==2&&Ft!==9||Zt!==e||(Ft=7),pi(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Tg(f)?(Ft=0,pn=null,fy(n)):(Ft=0,pn=null,Ta(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?Zy(g):E.stateNode.complete){Ft=0,pn=null;var I=E.sibling;if(I!==null)Rt=I;else{var z=E.return;z!==null?(Rt=z,Gu(z)):Rt=null}break e}}Ft=0,pn=null,Ta(e,n,f,5);break;case 6:Ft=0,pn=null,Ta(e,n,f,6);break;case 8:Df(),oe=6;break t;default:throw Error(a(462))}}W0();break}catch(H){ly(e,H)}while(!0);return Mi=gr=null,F.H=l,F.A=c,qt=s,Rt!==null?0:(Zt=null,It=0,uu(),oe)}function W0(){for(;Rt!==null&&!ah();)hy(Rt)}function hy(e){var n=kp(e.alternate,e,qi);e.memoizedProps=e.pendingProps,n===null?Gu(e):Rt=n}function fy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Np(s,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Np(s,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:Fh(n);default:Lp(s,n),n=Rt=cg(n,qi),n=kp(s,n,qi)}e.memoizedProps=e.pendingProps,n===null?Gu(e):Rt=n}function Ta(e,n,s,l){Mi=gr=null,Fh(n),ca=null,Ml=0;var c=n.return;try{if(B0(e,c,n,s,It)){oe=1,Ou(e,wn(s,e.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;oe=1,Ou(e,wn(s,e.current)),Rt=null;return}n.flags&32768?(Ot||l===1?e=!0:ya||(It&536870912)!==0?e=!1:(vs=e=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),dy(n,e)):Gu(n)}function Gu(e){var n=e;do{if((n.flags&32768)!==0){dy(n,vs);return}e=n.return;var s=G0(n.alternate,n,qi);if(s!==null){Rt=s;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);oe===0&&(oe=5)}function dy(e,n){do{var s=F0(e.alternate,e);if(s!==null){s.flags&=32767,Rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=s}while(e!==null);oe=6,Rt=null}function my(e,n,s,l,c,f,g,E,I){e.cancelPendingCommit=null;do Fu();while(Oe!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=_h,uh(e,s,f,g,E,I),e===Zt&&(Rt=Zt=null,It=0),va=n,Ss=e,Hi=s,Cf=f,If=c,iy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,iS(Wi,function(){return vy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,c=et.p,et.p=2,g=qt,qt|=4;try{Q0(e,n,s)}finally{qt=g,et.p=c,F.T=l}}Oe=1,gy(),py(),yy()}}function gy(){if(Oe===1){Oe=0;var e=Ss,n=va,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var l=et.p;et.p=2;var c=qt;qt|=4;try{Xp(n,e);var f=Hf,g=eg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&tg(E.ownerDocument.documentElement,E)){if(I!==null&&dh(E)){var z=I.start,H=I.end;if(H===void 0&&(H=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,dt=Math.min(I.start,ot),$t=I.end===void 0?dt:Math.min(I.end,ot);!q.extend&&dt>$t&&(g=$t,$t=dt,dt=g);var k=Wm(E,dt),D=Wm(E,$t);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),dt>$t?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}ic=!!qf,Hf=qf=null}finally{qt=c,et.p=l,F.T=s}}e.current=n,Oe=2}}function py(){if(Oe===2){Oe=0;var e=Ss,n=va,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var l=et.p;et.p=2;var c=qt;qt|=4;try{Gp(e,n.alternate,n)}finally{qt=c,et.p=l,F.T=s}}Oe=3}}function yy(){if(Oe===4||Oe===3){Oe=0,ko();var e=Ss,n=va,s=Hi,l=iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,va=Ss=null,_y(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ts=null),Ri(s),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(xn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,c=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,et.p=c}}(Hi&3)!==0&&Fu(),pi(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Nf?Xl++:(Xl=0,Nf=e):Xl=0,$l(0)}}function _y(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Dl(n)))}function Fu(){return gy(),py(),yy(),vy()}function vy(){if(Oe!==5)return!1;var e=Ss,n=Cf;Cf=0;var s=Ri(Hi),l=F.T,c=et.p;try{et.p=32>s?32:s,F.T=null,s=If,If=null;var f=Ss,g=Hi;if(Oe=0,va=Ss=null,Hi=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,ty(f.current),Zp(f,f.current,g,s),qt=E,$l(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(xn,f)}catch{}return!0}finally{et.p=c,F.T=l,_y(e,n)}}function Ey(e,n,s){n=wn(s,n),n=lf(e.stateNode,n,2),e=gs(e,n,2),e!==null&&(Js(e,2),pi(e))}function Qt(e,n,s){if(e.tag===3)Ey(e,e,s);else for(;n!==null;){if(n.tag===3){Ey(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ts===null||!Ts.has(l))){e=wn(s,e),s=Tp(2),l=gs(n,s,2),l!==null&&(Sp(s,l,n,e),Js(l,2),pi(l));break}}n=n.return}}function Mf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new X0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(bf=!0,c.add(s),e=tS.bind(null,e,n,s),n.then(e,e))}function tS(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Zt===e&&(It&s)===s&&(oe===4||oe===3&&(It&62914560)===It&&300>Ze()-zu?(qt&2)===0&&Ea(e,0):wf|=s,_a===It&&(_a=0)),pi(e)}function Ty(e,n){n===0&&(n=Bo()),e=fr(e,n),e!==null&&(Js(e,n),pi(e))}function eS(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ty(e,s)}function nS(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Ty(e,s)}function iS(e,n){return De(e,n)}var Qu=null,Sa=null,Vf=!1,Yu=!1,xf=!1,bs=0;function pi(e){e!==Sa&&e.next===null&&(Sa===null?Qu=Sa=e:Sa=Sa.next=e),Yu=!0,Vf||(Vf=!0,rS())}function $l(e,n){if(!xf&&Yu){xf=!0;do for(var s=!1,l=Qu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ue(42|e)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,wy(l,f))}else f=It,f=Jn(l,l===Zt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||kn(l,f)||(s=!0,wy(l,f));l=l.next}while(s);xf=!1}}function sS(){Sy()}function Sy(){Yu=Vf=!1;var e=0;bs!==0&&gS()&&(e=bs);for(var n=Ze(),s=null,l=Qu;l!==null;){var c=l.next,f=Ay(l,n);f===0?(l.next=null,s===null?Qu=c:s.next=c,c===null&&(Sa=s)):(s=l,(e!==0||(f&3)!==0)&&(Yu=!0)),l=c}Oe!==0&&Oe!==5||$l(e),bs!==0&&(bs=0)}function Ay(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ue(f),E=1<<g,I=c[g];I===-1?((E&s)===0||(E&l)!==0)&&(c[g]=oh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,s=It,s=Jn(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ji(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||kn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&Ji(l),Ri(s)){case 2:case 8:s=al;break;case 32:s=Wi;break;case 268435456:s=Uo;break;default:s=Wi}return l=by.bind(null,e),s=De(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&Ji(l),e.callbackPriority=2,e.callbackNode=null,2}function by(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Fu()&&e.callbackNode!==s)return null;var l=It;return l=Jn(e,e===Zt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(ry(e,l,n),Ay(e,Ze()),e.callbackNode!=null&&e.callbackNode===s?by.bind(null,e):null)}function wy(e,n){if(Fu())return null;ry(e,n,!0)}function rS(){yS(function(){(qt&6)!==0?De(rl,sS):Sy()})}function kf(){if(bs===0){var e=la;e===0&&(e=$n,$n<<=1,($n&261888)===0&&($n=256)),bs=e}return bs}function Ry(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qr(""+e)}function Cy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function aS(e,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Ry((c[Ve]||null).action),g=l.submitter;g&&(n=(n=g[Ve]||null)?Ry(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ui("action","action",null,l,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(bs!==0){var I=g?Cy(c,g):new FormData(c);tf(s,{pending:!0,data:I,method:c.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Cy(c,g):new FormData(c),tf(s,{pending:!0,data:I,method:c.method,action:f},f,I))},currentTarget:c}]})}}for(var Uf=0;Uf<yh.length;Uf++){var Lf=yh[Uf],lS=Lf.toLowerCase(),oS=Lf[0].toUpperCase()+Lf.slice(1);Hn(lS,"on"+oS)}Hn(sg,"onAnimationEnd"),Hn(rg,"onAnimationIteration"),Hn(ag,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(b0,"onTransitionRun"),Hn(w0,"onTransitionStart"),Hn(R0,"onTransitionCancel"),Hn(lg,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function Iy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(H){ou(H)}c.currentTarget=null,f=I}else for(g=0;g<l.length;g++){if(E=l[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(H){ou(H)}c.currentTarget=null,f=I}}}}function Ct(e,n){var s=n[Br];s===void 0&&(s=n[Br]=new Set);var l=e+"__bubble";s.has(l)||(Ny(n,e,2,!1),s.add(l))}function Pf(e,n,s){var l=0;n&&(l|=4),Ny(s,e,l,n)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function zf(e){if(!e[Ku]){e[Ku]=!0,ul.forEach(function(s){s!=="selectionchange"&&(uS.has(s)||Pf(s,!1,e),Pf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ku]||(n[Ku]=!0,Pf("selectionchange",!1,n))}}function Ny(e,n,s,l){switch(s_(n)){case 2:var c=LS;break;case 8:c=PS;break;default:c=td}s=c.bind(null,n,s,e),c=void 0,!sr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function jf(e,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ni(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){l=f=g;continue t}E=E.parentNode}}l=l.return}rs(function(){var z=f,H=Tn(s),Y=[];t:{var j=og.get(e);if(j!==void 0){var q=ui,ot=e;switch(e){case"keypress":if(ar(s)===0)break t;case"keydown":case"keyup":q=ru;break;case"focusin":ot="focus",q=or;break;case"focusout":ot="blur",q=or;break;case"beforeblur":case"afterblur":q=or;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=$o;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case sg:case rg:case ag:q=Jo;break;case lg:q=T;break;case"scroll":case"scrollend":q=Tl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ni;break;case"toggle":case"beforetoggle":q=Et}var dt=(n&4)!==0,$t=!dt&&(e==="scroll"||e==="scrollend"),k=dt?j!==null?j+"Capture":null:j;dt=[];for(var D=z,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=zn(D,k),Q!=null&&dt.push(Jl(D,Q,P))),$t)break;D=D.return}0<dt.length&&(j=new q(j,ot,null,s,H),Y.push({event:j,listeners:dt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==_l&&(ot=s.relatedTarget||s.fromElement)&&(ni(ot)||ot[ti]))break t;if((q||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=s.relatedTarget||s.toElement,q=z,ot=ot?ni(ot):null,ot!==null&&($t=h(ot),dt=ot.tag,ot!==$t||dt!==5&&dt!==27&&dt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(dt=Sl,Q="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Ni,Q="onPointerLeave",k="onPointerEnter",D="pointer"),$t=q==null?j:cn(q),P=ot==null?j:cn(ot),j=new dt(Q,D+"leave",q,s,H),j.target=$t,j.relatedTarget=P,Q=null,ni(H)===z&&(dt=new dt(k,D+"enter",ot,s,H),dt.target=P,dt.relatedTarget=$t,Q=dt),$t=Q,q&&ot)e:{for(dt=cS,k=q,D=ot,P=0,Q=k;Q;Q=dt(Q))P++;Q=0;for(var ct=D;ct;ct=dt(ct))Q++;for(;0<P-Q;)k=dt(k),P--;for(;0<Q-P;)D=dt(D),Q--;for(;P--;){if(k===D||D!==null&&k===D.alternate){dt=k;break e}k=dt(k),D=dt(D)}dt=null}else dt=null;q!==null&&Dy(Y,j,q,dt,!1),ot!==null&&$t!==null&&Dy(Y,$t,ot,dt,!0)}}t:{if(j=z?cn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var zt=Ym;else if(Fm(j))if(Km)zt=T0;else{zt=v0;var ut=_0}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&Fr(z.elementType)&&(zt=Ym):zt=E0;if(zt&&(zt=zt(e,z))){Qm(Y,zt,s,H);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&gl(j,"number",j.value)}switch(ut=z?cn(z):window,e){case"focusin":(Fm(ut)||ut.contentEditable==="true")&&(Wr=ut,mh=z,Cl=null);break;case"focusout":Cl=mh=Wr=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,ng(Y,s,H);break;case"selectionchange":if(A0)break;case"keydown":case"keyup":ng(Y,s,H)}var wt;if(Bt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Jr?ur(e,s)&&(Nt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Nt="onCompositionStart");Nt&&(fi&&s.locale!=="ko"&&(Jr||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Jr&&(wt=El()):(oi=H,vl="value"in oi?oi.value:oi.textContent,Jr=!0)),ut=Xu(z,Nt),0<ut.length&&(Nt=new hi(Nt,e,null,s,H),Y.push({event:Nt,listeners:ut}),wt?Nt.data=wt:(wt=Zr(s),wt!==null&&(Nt.data=wt)))),(wt=An?m0(e,s):g0(e,s))&&(Nt=Xu(z,"onBeforeInput"),0<Nt.length&&(ut=new hi("onBeforeInput","beforeinput",null,s,H),Y.push({event:ut,listeners:Nt}),ut.data=wt)),aS(Y,e,z,s,H)}Iy(Y,n)})}function Jl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Xu(e,n){for(var s=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=zn(e,s),c!=null&&l.unshift(Jl(e,c,f)),c=zn(e,n),c!=null&&l.push(Jl(e,c,f))),e.tag===3)return l;e=e.return}return[]}function cS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dy(e,n,s,l,c){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||z===null||(I=z,c?(z=zn(s,f),z!=null&&g.unshift(Jl(s,z,I))):c||(z=zn(s,f),z!=null&&g.push(Jl(s,z,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var hS=/\r\n?/g,fS=/\u0000|\uFFFD/g;function Oy(e){return(typeof e=="string"?e:""+e).replace(hS,`
`).replace(fS,"")}function My(e,n){return n=Oy(n),Oy(e)===n}function Xt(e,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||nn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&nn(e,""+l);break;case"className":hn(e,"class",l);break;case"tabIndex":hn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,s,l);break;case"style":yl(e,l,f);break;case"data":if(n!=="object"){hn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Qr(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(e,n,"name",c.name,c,null),Xt(e,n,"formEncType",c.formEncType,c,null),Xt(e,n,"formMethod",c.formMethod,c,null),Xt(e,n,"formTarget",c.formTarget,c,null)):(Xt(e,n,"encType",c.encType,c,null),Xt(e,n,"method",c.method,c,null),Xt(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Qr(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Pn);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Qr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Hr(e,"popover",l);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Xo.get(s)||s,Hr(e,s,l))}}function Bf(e,n,s,l,c,f){switch(s){case"style":yl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?nn(e,l):(typeof l=="number"||typeof l=="bigint")&&nn(e,""+l);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,c);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Hr(e,s,l)}}}function qe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,g,s,null)}}c&&Xt(e,n,"srcSet",s.srcSet,s,null),l&&Xt(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=g=c=null,I=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var H=s[l];if(H!=null)switch(l){case"name":c=H;break;case"type":g=H;break;case"checked":I=H;break;case"defaultChecked":z=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Xt(e,n,l,H,s,null)}}Qo(e,f,E,I,z,g,c,!1);return;case"select":Ct("invalid",e),l=g=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Xt(e,n,c,E,s,null)}n=f,s=g,e.multiple=!!l,n!=null?es(e,!!l,n,!1):s!=null&&es(e,!!l,s,!0);return;case"textarea":Ct("invalid",e),f=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,g,E,s,null)}ns(e,l,c,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,n,I,l,s,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(l=0;l<Zl.length;l++)Ct(Zl[l],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,z,l,s,null)}return;default:if(Fr(n)){for(H in s)s.hasOwnProperty(H)&&(l=s[H],l!==void 0&&Bf(e,n,H,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Xt(e,n,E,l,s,null))}function dS(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,I=null,z=null,H=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=Y;default:l.hasOwnProperty(q)||Xt(e,n,q,null,l,Y)}}for(var j in l){var q=l[j];if(Y=s[j],l.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":c=q;break;case"checked":z=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Xt(e,n,j,q,l,Y)}}Gr(e,g,E,I,z,H,f,c);return;case"select":q=g=E=j=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||Xt(e,n,f,null,l,I)}for(c in l)if(f=l[c],I=s[c],l.hasOwnProperty(c)&&(f!=null||I!=null))switch(c){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Xt(e,n,c,f,l,I)}n=E,s=g,l=q,j!=null?es(e,!!s,j,!1):!!l!=!!s&&(n!=null?es(e,!!s,n,!0):es(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,l,c)}for(g in l)if(c=l[g],f=s[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":j=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Xt(e,n,g,c,l,f)}Yo(e,j,q);return;case"option":for(var ot in s)if(j=s[ot],s.hasOwnProperty(ot)&&j!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:Xt(e,n,ot,null,l,j)}for(I in l)if(j=l[I],q=s[I],l.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Xt(e,n,I,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)j=s[dt],s.hasOwnProperty(dt)&&j!=null&&!l.hasOwnProperty(dt)&&Xt(e,n,dt,null,l,j);for(z in l)if(j=l[z],q=s[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Xt(e,n,z,j,l,q)}return;default:if(Fr(n)){for(var $t in s)j=s[$t],s.hasOwnProperty($t)&&j!==void 0&&!l.hasOwnProperty($t)&&Bf(e,n,$t,void 0,l,j);for(H in l)j=l[H],q=s[H],!l.hasOwnProperty(H)||j===q||j===void 0&&q===void 0||Bf(e,n,H,j,l,q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&Xt(e,n,k,null,l,j);for(Y in l)j=l[Y],q=s[Y],!l.hasOwnProperty(Y)||j===q||j==null&&q==null||Xt(e,n,Y,j,l,q)}function Vy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Vy(g)){for(g=0,E=c.responseEnd,l+=1;l<s.length;l++){var I=s[l],z=I.startTime;if(z>E)break;var H=I.transferSize,Y=I.initiatorType;H&&Vy(Y)&&(I=I.responseEnd,g+=H*(I<E?1:(E-z)/(I-z)))}if(--l,n+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qf=null,Hf=null;function $u(e){return e.nodeType===9?e:e.ownerDocument}function xy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ky(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Gf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ff=null;function gS(){var e=window.event;return e&&e.type==="popstate"?e===Ff?!1:(Ff=e,!0):(Ff=null,!1)}var Uy=typeof setTimeout=="function"?setTimeout:void 0,pS=typeof clearTimeout=="function"?clearTimeout:void 0,Ly=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ly<"u"?function(e){return Ly.resolve(null).then(e).catch(_S)}:Uy;function _S(e){setTimeout(function(){throw e})}function ws(e){return e==="head"}function Py(e,n){var s=n,l=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(c),Ra(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Wl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Wl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ei]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Wl(e.ownerDocument.body);s=c}while(s);Ra(n)}function zy(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Qf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Qf(s),qr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function vS(e,n,s,l){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ei])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function ES(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Dn(e.nextSibling),e===null))return null;return e}function jy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function Yf(e){return e.data==="$?"||e.data==="$~"}function Kf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function TS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Dn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Xf=null;function By(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Dn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function qy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Hy(e,n,s){switch(n=$u(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Wl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);qr(e)}var On=new Map,Gy=new Set;function Zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Gi=et.d;et.d={f:SS,r:AS,D:bS,C:wS,L:RS,m:CS,X:NS,S:IS,M:DS};function SS(){var e=Gi.f(),n=qu();return e||n}function AS(e){var n=En(e);n!==null&&n.tag===5&&n.type==="form"?lp(n):Gi.r(e)}var Aa=typeof document>"u"?null:document;function Fy(e,n,s){var l=Aa;if(l&&typeof n=="string"&&n){var c=en(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Gy.has(c)||(Gy.add(c),e={rel:e,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),qe(n,"link",e),_e(n),l.head.appendChild(n)))}}function bS(e){Gi.D(e),Fy("dns-prefetch",e,null)}function wS(e,n){Gi.C(e,n),Fy("preconnect",e,n)}function RS(e,n,s){Gi.L(e,n,s);var l=Aa;if(l&&e&&n){var c='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+en(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+en(s.imageSizes)+'"]')):c+='[href="'+en(e)+'"]';var f=c;switch(n){case"style":f=ba(e);break;case"script":f=wa(e)}On.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),On.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(to(f))||n==="script"&&l.querySelector(eo(f))||(n=l.createElement("link"),qe(n,"link",e),_e(n),l.head.appendChild(n)))}}function CS(e,n){Gi.m(e,n);var s=Aa;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+en(l)+'"][href="'+en(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=wa(e)}if(!On.has(f)&&(e=b({rel:"modulepreload",href:e},n),On.set(f,e),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(eo(f)))return}l=s.createElement("link"),qe(l,"link",e),_e(l),s.head.appendChild(l)}}}function IS(e,n,s){Gi.S(e,n,s);var l=Aa;if(l&&e){var c=ii(l).hoistableStyles,f=ba(e);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(to(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=On.get(f))&&$f(e,s);var I=g=l.createElement("link");_e(I),qe(I,"link",e),I._p=new Promise(function(z,H){I.onload=z,I.onerror=H}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ju(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function NS(e,n){Gi.X(e,n);var s=Aa;if(s&&e){var l=ii(s).hoistableScripts,c=wa(e),f=l.get(c);f||(f=s.querySelector(eo(c)),f||(e=b({src:e,async:!0},n),(n=On.get(c))&&Zf(e,n),f=s.createElement("script"),_e(f),qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function DS(e,n){Gi.M(e,n);var s=Aa;if(s&&e){var l=ii(s).hoistableScripts,c=wa(e),f=l.get(c);f||(f=s.querySelector(eo(c)),f||(e=b({src:e,async:!0,type:"module"},n),(n=On.get(c))&&Zf(e,n),f=s.createElement("script"),_e(f),qe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Qy(e,n,s,l){var c=(c=bt.current)?Zu(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ba(s.href),s=ii(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ba(s.href);var f=ii(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(to(e)))&&!f._p&&(g.instance=f,g.state.loading=5),On.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},On.set(e,s),f||OS(c,e,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=wa(s),s=ii(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ba(e){return'href="'+en(e)+'"'}function to(e){return'link[rel="stylesheet"]['+e+"]"}function Yy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function OS(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",s),_e(n),e.head.appendChild(n))}function wa(e){return'[src="'+en(e)+'"]'}function eo(e){return"script[async]"+e}function Ky(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+en(s.href)+'"]');if(l)return n.instance=l,_e(l),l;var c=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),_e(l),qe(l,"style",c),Ju(l,s.precedence,e),n.instance=l;case"stylesheet":c=ba(s.href);var f=e.querySelector(to(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;l=Yy(s),(c=On.get(c))&&$f(l,c),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),qe(f,"link",l),n.state.loading|=4,Ju(f,s.precedence,e),n.instance=f;case"script":return f=wa(s.src),(c=e.querySelector(eo(f)))?(n.instance=c,_e(c),c):(l=s,(c=On.get(f))&&(l=b({},s),Zf(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),_e(c),qe(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ju(l,s.precedence,e));return n.instance}function Ju(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function $f(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Zf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Wu=null;function Xy(e,n,s){if(Wu===null){var l=new Map,c=Wu=new Map;c.set(s,l)}else c=Wu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[ei]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function $y(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function MS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Zy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function VS(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=ba(l.href),f=n.querySelector(to(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=tc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,_e(f);return}f=n.ownerDocument||n,l=Yy(l),(c=On.get(c))&&$f(l,c),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),qe(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=tc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Jf=0;function xS(e,n){return e.stylesheets&&e.count===0&&nc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&nc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Jf===0&&(Jf=62500*mS());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&nc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Jf?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ec=null;function nc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ec=new Map,n.forEach(kS,e),ec=null,tc.call(e))}function kS(e,n){if(!(n.state.loading&4)){var s=ec.get(e);if(s)var l=s.get(null);else{s=new Map,ec.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,c),s.set(g,c),this.count++,l=tc.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var no={$$typeof:st,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function US(e,n,s,l,c,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Jy(e,n,s,l,c,f,g,E,I,z,H,Y){return e=new US(e,n,s,g,I,z,H,Y,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=Dh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},xh(f),e}function Wy(e){return e?(e=na,e):na}function t_(e,n,s,l,c,f){c=Wy(c),l.context===null?l.context=c:l.pendingContext=c,l=ms(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=gs(e,l,n),s!==null&&(on(s,e,n),xl(s,e,n))}function e_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Wf(e,n){e_(e,n),(e=e.alternate)&&e_(e,n)}function n_(e){if(e.tag===13||e.tag===31){var n=fr(e,67108864);n!==null&&on(n,e,67108864),Wf(e,67108864)}}function i_(e){if(e.tag===13||e.tag===31){var n=_n();n=tr(n);var s=fr(e,n);s!==null&&on(s,e,n),Wf(e,n)}}var ic=!0;function LS(e,n,s,l){var c=F.T;F.T=null;var f=et.p;try{et.p=2,td(e,n,s,l)}finally{et.p=f,F.T=c}}function PS(e,n,s,l){var c=F.T;F.T=null;var f=et.p;try{et.p=8,td(e,n,s,l)}finally{et.p=f,F.T=c}}function td(e,n,s,l){if(ic){var c=ed(l);if(c===null)jf(e,n,l,sc,s),r_(e,l);else if(jS(c,e,n,s,l))l.stopPropagation();else if(r_(e,l),n&4&&-1<zS.indexOf(e)){for(;c!==null;){var f=En(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Zn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-ue(g);E.entanglements[1]|=I,g&=~I}pi(f),(qt&6)===0&&(ju=Ze()+500,$l(0))}}break;case 31:case 13:E=fr(f,2),E!==null&&on(E,f,2),qu(),Wf(f,2)}if(f=ed(l),f===null&&jf(e,n,l,sc,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else jf(e,n,l,null,s)}}function ed(e){return e=Tn(e),nd(e)}var sc=null;function nd(e){if(sc=null,e=ni(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return sc=e,null}function s_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($s()){case rl:return 2;case al:return 8;case Wi:case lh:return 32;case Uo:return 268435456;default:return 32}default:return 32}}var id=!1,Rs=null,Cs=null,Is=null,io=new Map,so=new Map,Ns=[],zS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r_(e,n){switch(e){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":io.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(n.pointerId)}}function ro(e,n,s,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&n_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function jS(e,n,s,l,c){switch(n){case"focusin":return Rs=ro(Rs,e,n,s,l,c),!0;case"dragenter":return Cs=ro(Cs,e,n,s,l,c),!0;case"mouseover":return Is=ro(Is,e,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return io.set(f,ro(io.get(f)||null,e,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,so.set(f,ro(so.get(f)||null,e,n,s,l,c)),!0}return!1}function a_(e){var n=ni(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Un(e.priority,function(){i_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Un(e.priority,function(){i_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=ed(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);_l=l,s.target.dispatchEvent(l),_l=null}else return n=En(s),n!==null&&n_(n),e.blockedOn=s,!1;n.shift()}return!0}function l_(e,n,s){rc(e)&&s.delete(n)}function BS(){id=!1,Rs!==null&&rc(Rs)&&(Rs=null),Cs!==null&&rc(Cs)&&(Cs=null),Is!==null&&rc(Is)&&(Is=null),io.forEach(l_),so.forEach(l_)}function ac(e,n){e.blockedOn===n&&(e.blockedOn=null,id||(id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,BS)))}var lc=null;function o_(e){lc!==e&&(lc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lc===e&&(lc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(nd(l||s)===null)continue;break}var f=En(s);f!==null&&(e.splice(n,3),n-=3,tf(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Ra(e){function n(I){return ac(I,e)}Rs!==null&&ac(Rs,e),Cs!==null&&ac(Cs,e),Is!==null&&ac(Is,e),io.forEach(n),so.forEach(n);for(var s=0;s<Ns.length;s++){var l=Ns[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ns.length&&(s=Ns[0],s.blockedOn===null);)a_(s),s.blockedOn===null&&Ns.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],g=c[Ve]||null;if(typeof f=="function")g||o_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Ve]||null)E=g.formAction;else if(nd(c)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),o_(s)}}}function u_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function sd(e){this._internalRoot=e}oc.prototype.render=sd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=_n();t_(s,l,e,n,null,null)},oc.prototype.unmount=sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;t_(e.current,2,null,e,null,null),qu(),n[ti]=null}};function oc(e){this._internalRoot=e}oc.prototype.unstable_scheduleHydration=function(e){if(e){var n=qo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ns.length&&n!==0&&n<Ns[s].priority;s++);Ns.splice(s,0,e),s===0&&a_(e)}};var c_=t.version;if(c_!=="19.2.0")throw Error(a(527,c_,"19.2.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var qS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{xn=uc.inject(qS),Le=uc}catch{}}return lo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",c=yp,f=_p,g=vp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Jy(e,1,!1,null,null,s,l,null,c,f,g,u_),e[ti]=n.current,zf(e),new sd(n)},lo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,c="",f=yp,g=_p,E=vp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=Jy(e,1,!0,n,s??null,l,c,I,f,g,E,u_),n.context=Wy(null),s=n.current,l=_n(),l=tr(l),c=ms(l),c.callback=null,gs(s,c,l),s=l,n.current.lanes=s,Js(n,s),pi(n),e[ti]=n.current,zf(e),new oc(n)},lo.version="19.2.0",lo}var E_;function JS(){if(E_)return ld.exports;E_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ld.exports=ZS(),ld.exports}var WS=JS();function tA({currentStep:r,totalSteps:t,onStepClick:i}){const a=we.useRef(null),h=[{title:"Nr & Varighet",icon:""},{title:"Velg Bil",icon:""},{title:"Dine Detaljer",icon:""},{title:"Bekreft",icon:""}].map((y,v)=>{const S=v+1;let b;return S<r?b="completed":S===r?b="current":b="upcoming",{number:S,title:y.title,icon:y.icon,status:b}}),d=(r-1)/(t-1)*100;we.useEffect(()=>{a.current&&(a.current.style.transform=`scaleX(${d/100})`)},[d]);const p=y=>{y<r&&i&&i(y)};return w.jsxs("div",{className:"progress-steps-container",children:[w.jsx("div",{className:"progress-track",children:w.jsx("div",{ref:a,className:"progress-fill"})}),w.jsx("div",{className:"steps-row",children:h.map(y=>w.jsxs("div",{className:"step-wrapper",children:[w.jsx("button",{type:"button",className:`step-circle ${y.status} ${y.status==="completed"?"clickable":""}`,onClick:()=>p(y.number),disabled:y.status!=="completed","aria-label":`Step ${y.number}: ${y.title}`,"aria-current":y.status==="current"?"step":void 0,children:y.status==="completed"?w.jsx("span",{className:"step-icon completed-icon",children:""}):w.jsx("span",{className:"step-icon",children:y.icon})}),w.jsxs("div",{className:"step-label",children:[w.jsxs("div",{className:"step-number",children:["Steg ",y.number]}),w.jsx("div",{className:"step-title",children:y.title})]})]},y.number))})]})}function eE({selectedDate:r,onDateChange:t,minDate:i,maxDate:a}){const[o,h]=we.useState(()=>{const it=new Date(r);return new Date(it.getFullYear(),it.getMonth(),1)}),d=new Date(r),p=new Date;p.setHours(0,0,0,0);const y=["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],v=["Man","Tir","Ons","Tor","Fre","Lr","Sn"],b=(it=>{const st=it.getFullYear(),St=it.getMonth(),Ut=new Date(st,St,1),At=new Date(st,St+1,0);let N=Ut.getDay()-1;N===-1&&(N=6);const A=[];for(let R=0;R<N;R++)A.push(null);for(let R=1;R<=At.getDate();R++)A.push(R);return A})(o),V=()=>{h(new Date(o.getFullYear(),o.getMonth()-1,1))},G=()=>{h(new Date(o.getFullYear(),o.getMonth()+1,1))},W=it=>{const st=o.getFullYear(),St=(o.getMonth()+1).toString().padStart(2,"0"),Ut=it.toString().padStart(2,"0"),At=`${st}-${St}-${Ut}`;i&&At<i||a&&At>a||t(At)},$=it=>{if(!it)return!1;const St=new Date(o.getFullYear(),o.getMonth(),it).toISOString().split("T")[0];return!!(i&&St<i||a&&St>a)},J=it=>{if(!it)return!1;const st=new Date(o.getFullYear(),o.getMonth(),it);return st.getFullYear()===d.getFullYear()&&st.getMonth()===d.getMonth()&&st.getDate()===d.getDate()},ht=it=>{if(!it)return!1;const st=new Date(o.getFullYear(),o.getMonth(),it);return st.getFullYear()===p.getFullYear()&&st.getMonth()===p.getMonth()&&st.getDate()===p.getDate()};return w.jsxs("div",{className:"ski-calendar",children:[w.jsxs("div",{className:"ski-calendar-header",children:[w.jsx("button",{type:"button",onClick:V,className:"ski-calendar-nav-btn","aria-label":"Forrige mned",children:""}),w.jsxs("h2",{className:"ski-calendar-month",children:[y[o.getMonth()]," ",o.getFullYear()]}),w.jsx("button",{type:"button",onClick:G,className:"ski-calendar-nav-btn","aria-label":"Neste mned",children:""})]}),w.jsxs("div",{className:"ski-calendar-grid",children:[v.map(it=>w.jsx("div",{className:"ski-calendar-day-name",children:it},it)),b.map((it,st)=>w.jsx("div",{className:`ski-calendar-day ${it?"":"empty"} ${J(it)?"selected":""} ${ht(it)?"today":""} ${$(it)?"disabled":""}`,onClick:()=>it&&!$(it)&&W(it),children:it},st))]})]})}const ja={member:{9:200,18:350},nonMember:{9:250,18:425}},nm=50,T_={9:135,18:270},eA={9:30,18:60};function ho(r,t,i){const a=r?ja.member[i]:ja.nonMember[i];return Math.max(0,a-(t?nm:0))}function nA({data:r,updateData:t,onNext:i}){const a=[];for(let p=10;p<=19;p++)for(let y=0;y<60;y+=10)a.push(`${p.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`);const o=r.date&&r.time&&r.holes,h=ho(!0,!1,r.holes),d=ho(!1,!1,r.holes);return w.jsxs("div",{className:"step-container",children:[w.jsx("h2",{className:"card-title",children:" Nr & Varighet"}),w.jsx("p",{className:"step-description",children:"Velg dato, tid og hvor lenge du vil spille"}),w.jsxs("div",{className:"card",children:[w.jsxs("div",{className:"input-group",children:[w.jsx("label",{className:"input-label",children:"Velg dato"}),w.jsx(eE,{selectedDate:r.date,onDateChange:p=>t({date:p,time:""})})]}),w.jsxs("div",{className:"input-group",children:[w.jsx("label",{className:"input-label",children:"Antall hull"}),w.jsxs("div",{className:"hole-selector",children:[w.jsxs("button",{type:"button",className:`hole-option ${r.holes===18?"selected":""}`,onClick:()=>t({holes:18}),children:[w.jsx("div",{className:"hole-number",children:"18"}),w.jsx("div",{className:"hole-label",children:"Hull"}),w.jsx("div",{className:"hole-duration",children:"~4 timer"}),w.jsxs("div",{className:"hole-price",children:["Fra ",h," kr"]})]}),w.jsxs("button",{type:"button",className:`hole-option ${r.holes===9?"selected":""}`,onClick:()=>t({holes:9}),children:[w.jsx("div",{className:"hole-number",children:"9"}),w.jsx("div",{className:"hole-label",children:"Hull"}),w.jsx("div",{className:"hole-duration",children:"~2 timer"}),w.jsxs("div",{className:"hole-price",children:["Fra ",ho(!0,!1,9)," kr"]})]})]})]}),w.jsxs("div",{className:"input-group",children:[w.jsx("label",{className:"input-label",children:"Velg starttid"}),w.jsx("div",{className:"chip-grid",children:a.map(p=>w.jsx("button",{type:"button",className:`chip ${r.time===p?"selected":""}`,onClick:()=>t({time:p}),children:p},p))})]}),r.holes&&w.jsx("div",{className:"price-preview",children:w.jsxs("div",{className:"price-row",children:[w.jsx("span",{children:" Estimert pris:"}),w.jsxs("span",{className:"price-range",children:[h," kr (medlem) - ",d," kr (ikke-medlem)"]})]})})]}),w.jsx("button",{type:"button",className:"btn btn-primary btn-large",onClick:i,disabled:!o,children:"Neste: Velg Bil "})]})}const iA=()=>{};var S_={};const nE=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},sA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];t[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],p=r[i++],y=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const h=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return t.join("")},iE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,p=d?r[o+1]:0,y=o+2<r.length,v=y?r[o+2]:0,S=h>>2,b=(h&3)<<4|p>>4;let V=(p&15)<<2|v>>6,G=v&63;y||(G=64,d||(V=64)),a.push(i[S],i[b],i[V],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(nE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):sA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||p==null||v==null||b==null)throw new rA;const V=h<<2|p>>4;if(a.push(V),v!==64){const G=p<<4&240|v>>2;if(a.push(G),b!==64){const W=v<<6&192|b;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aA=function(r){const t=nE(r);return iE.encodeByteArray(t,!0)},Rc=function(r){return aA(r).replace(/\./g,"")},sE=function(r){try{return iE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function lA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oA=()=>lA().__FIREBASE_DEFAULTS__,uA=()=>{if(typeof process>"u"||typeof S_>"u")return;const r=S_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&sE(r[1]);return t&&JSON.parse(t)},qc=()=>{try{return iA()||oA()||uA()||cA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},rE=r=>qc()?.emulatorHosts?.[r],aE=r=>{const t=rE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},lE=()=>qc()?.config,oE=r=>qc()?.[`_${r}`];class hA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function xr(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function im(r){return(await fetch(r,{credentials:"include"})).ok}function fA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Rc(JSON.stringify(i)),Rc(JSON.stringify(d)),""].join(".")}const fo={};function dA(){const r={prod:[],emulator:[]};for(const t of Object.keys(fo))fo[t]?r.emulator.push(t):r.prod.push(t);return r}function mA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let A_=!1;function sm(r,t){if(typeof window>"u"||typeof document>"u"||!xr(window.location.host)||fo[r]===t||fo[r]||A_)return;fo[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",h=dA().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,G){V.setAttribute("width","24"),V.setAttribute("id",G),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{A_=!0,d()},V}function S(V,G){V.setAttribute("id",G),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function b(){const V=mA(a),G=i("text"),W=document.getElementById(G)||document.createElement("span"),$=i("learnmore"),J=document.getElementById($)||document.createElement("a"),ht=i("preprendIcon"),it=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const st=V.element;p(st),S(J,$);const St=v();y(it,ht),st.append(it,W,J,St),document.body.appendChild(st)}h?(W.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function pA(){const r=qc()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _A(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function vA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EA(){const r=$e();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function TA(){return!pA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SA(){try{return typeof indexedDB=="object"}catch{return!1}}function AA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const bA="FirebaseError";class Zi extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=bA,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ro.prototype.create)}}class Ro{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,h=this.errors[t],d=h?wA(h,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Zi(o,p,a)}}function wA(r,t){return r.replace(RA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const RA=/\{\$([^}]+)}/g;function CA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Dr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const h=r[o],d=t[o];if(b_(h)&&b_(d)){if(!Dr(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function b_(r){return r!==null&&typeof r=="object"}function Co(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function IA(r,t){const i=new NA(r,t);return i.subscribe.bind(i)}class NA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");DA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=hd),o.error===void 0&&(o.error=hd),o.complete===void 0&&(o.complete=hd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function hd(){}function Vn(r){return r&&r._delegate?r._delegate:r}class Bs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const wr="[DEFAULT]";class OA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new hA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VA(t))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(t=wr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wr){return this.instances.has(t)}getOptions(t=wr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&t(h,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:MA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=wr){return this.component?this.component.multipleInstances?t:wr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MA(r){return r===wr?void 0:r}function VA(r){return r.instantiationMode==="EAGER"}class xA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new OA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const kA={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},UA=Dt.INFO,LA={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},PA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=LA[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rm{constructor(t){this.name=t,this._logLevel=UA,this._logHandler=PA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const zA=(r,t)=>t.some(i=>r instanceof i);let w_,R_;function jA(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BA(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uE=new WeakMap,bd=new WeakMap,cE=new WeakMap,fd=new WeakMap,am=new WeakMap;function qA(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Ps(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&uE.set(i,r)}).catch(()=>{}),am.set(t,r),t}function HA(r){if(bd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});bd.set(r,t)}let wd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return bd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||cE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ps(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function GA(r){wd=r(wd)}function FA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(dd(this),t,...i);return cE.set(a,t.sort?t.sort():[t]),Ps(a)}:BA().includes(r)?function(...t){return r.apply(dd(this),t),Ps(uE.get(this))}:function(...t){return Ps(r.apply(dd(this),t))}}function QA(r){return typeof r=="function"?FA(r):(r instanceof IDBTransaction&&HA(r),zA(r,jA())?new Proxy(r,wd):r)}function Ps(r){if(r instanceof IDBRequest)return qA(r);if(fd.has(r))return fd.get(r);const t=QA(r);return t!==r&&(fd.set(r,t),am.set(t,r)),t}const dd=r=>am.get(r);function YA(r,t,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,t),p=Ps(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Ps(d.result),y.oldVersion,y.newVersion,Ps(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{h&&y.addEventListener("close",()=>h()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const KA=["get","getKey","getAll","getAllKeys","count"],XA=["put","add","delete","clear"],md=new Map;function C_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(md.get(t))return md.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=XA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||KA.includes(i)))return;const h=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let v=y.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&y.done]))[0]};return md.set(t,h),h}GA(r=>({...r,get:(t,i,a)=>C_(t,i)||r.get(t,i,a),has:(t,i)=>!!C_(t,i)||r.has(t,i)}));class $A{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ZA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function ZA(r){return r.getComponent()?.type==="VERSION"}const Rd="@firebase/app",I_="0.14.6";const Yi=new rm("@firebase/app"),JA="@firebase/app-compat",WA="@firebase/analytics-compat",tb="@firebase/analytics",eb="@firebase/app-check-compat",nb="@firebase/app-check",ib="@firebase/auth",sb="@firebase/auth-compat",rb="@firebase/database",ab="@firebase/data-connect",lb="@firebase/database-compat",ob="@firebase/functions",ub="@firebase/functions-compat",cb="@firebase/installations",hb="@firebase/installations-compat",fb="@firebase/messaging",db="@firebase/messaging-compat",mb="@firebase/performance",gb="@firebase/performance-compat",pb="@firebase/remote-config",yb="@firebase/remote-config-compat",_b="@firebase/storage",vb="@firebase/storage-compat",Eb="@firebase/firestore",Tb="@firebase/ai",Sb="@firebase/firestore-compat",Ab="firebase",bb="12.6.0";const Cd="[DEFAULT]",wb={[Rd]:"fire-core",[JA]:"fire-core-compat",[tb]:"fire-analytics",[WA]:"fire-analytics-compat",[nb]:"fire-app-check",[eb]:"fire-app-check-compat",[ib]:"fire-auth",[sb]:"fire-auth-compat",[rb]:"fire-rtdb",[ab]:"fire-data-connect",[lb]:"fire-rtdb-compat",[ob]:"fire-fn",[ub]:"fire-fn-compat",[cb]:"fire-iid",[hb]:"fire-iid-compat",[fb]:"fire-fcm",[db]:"fire-fcm-compat",[mb]:"fire-perf",[gb]:"fire-perf-compat",[pb]:"fire-rc",[yb]:"fire-rc-compat",[_b]:"fire-gcs",[vb]:"fire-gcs-compat",[Eb]:"fire-fst",[Sb]:"fire-fst-compat",[Tb]:"fire-vertex","fire-js":"fire-js",[Ab]:"fire-js-all"};const Cc=new Map,Rb=new Map,Id=new Map;function N_(r,t){try{r.container.addComponent(t)}catch(i){Yi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Or(r){const t=r.name;if(Id.has(t))return Yi.debug(`There were multiple attempts to register component ${t}.`),!1;Id.set(t,r);for(const i of Cc.values())N_(i,r);for(const i of Rb.values())N_(i,r);return!0}function Hc(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Qn(r){return r==null?!1:r.settings!==void 0}const Cb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new Ro("app","Firebase",Cb);class Ib{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}const Xa=bb;function hE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Cd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw zs.create("bad-app-name",{appName:String(o)});if(i||(i=lE()),!i)throw zs.create("no-options");const h=Cc.get(o);if(h){if(Dr(i,h.options)&&Dr(a,h.config))return h;throw zs.create("duplicate-app",{appName:o})}const d=new xA(o);for(const y of Id.values())d.addComponent(y);const p=new Ib(i,a,d);return Cc.set(o,p),p}function lm(r=Cd){const t=Cc.get(r);if(!t&&r===Cd&&lE())return hE();if(!t)throw zs.create("no-app",{appName:r});return t}function vi(r,t,i){let a=wb[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=t.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yi.warn(d.join(" "));return}Or(new Bs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const Nb="firebase-heartbeat-database",Db=1,vo="firebase-heartbeat-store";let gd=null;function fE(){return gd||(gd=YA(Nb,Db,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(vo)}catch(i){console.warn(i)}}}}).catch(r=>{throw zs.create("idb-open",{originalErrorMessage:r.message})})),gd}async function Ob(r){try{const i=(await fE()).transaction(vo),a=await i.objectStore(vo).get(dE(r));return await i.done,a}catch(t){if(t instanceof Zi)Yi.warn(t.message);else{const i=zs.create("idb-get",{originalErrorMessage:t?.message});Yi.warn(i.message)}}}async function D_(r,t){try{const a=(await fE()).transaction(vo,"readwrite");await a.objectStore(vo).put(t,dE(r)),await a.done}catch(i){if(i instanceof Zi)Yi.warn(i.message);else{const a=zs.create("idb-set",{originalErrorMessage:i?.message});Yi.warn(a.message)}}}function dE(r){return`${r.name}!${r.options.appId}`}const Mb=1024,Vb=30;class xb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ub(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=O_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Vb){const o=Lb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Yi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=O_(),{heartbeatsToSend:i,unsentEntries:a}=kb(this._heartbeatsCache.heartbeats),o=Rc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Yi.warn(t),""}}}function O_(){return new Date().toISOString().substring(0,10)}function kb(r,t=Mb){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),M_(i)>t){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),M_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Ub{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SA()?AA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Ob(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return D_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return D_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function M_(r){return Rc(JSON.stringify({version:2,heartbeats:r})).length}function Lb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function Pb(r){Or(new Bs("platform-logger",t=>new $A(t),"PRIVATE")),Or(new Bs("heartbeat",t=>new xb(t),"PRIVATE")),vi(Rd,I_,r),vi(Rd,I_,"esm2020"),vi("fire-js","")}Pb("");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var js,mE;(function(){var r;function t(N,A){function R(){}R.prototype=A.prototype,N.F=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(x,O,U){for(var C=Array(arguments.length-2),te=2;te<arguments.length;te++)C[te-2]=arguments[te];return A.prototype[O].apply(x,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,R){R||(R=0);const x=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)x[O]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(O=0;O<16;++O)x[O]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],O=N.g[2];let U=N.g[3],C;C=A+(U^R&(O^U))+x[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(O^A&(R^O))+x[1]+3905402710&4294967295,U=A+(C<<12&4294967295|C>>>20),C=O+(R^U&(A^R))+x[2]+606105819&4294967295,O=U+(C<<17&4294967295|C>>>15),C=R+(A^O&(U^A))+x[3]+3250441966&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(U^R&(O^U))+x[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(O^A&(R^O))+x[5]+1200080426&4294967295,U=A+(C<<12&4294967295|C>>>20),C=O+(R^U&(A^R))+x[6]+2821735955&4294967295,O=U+(C<<17&4294967295|C>>>15),C=R+(A^O&(U^A))+x[7]+4249261313&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(U^R&(O^U))+x[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(O^A&(R^O))+x[9]+2336552879&4294967295,U=A+(C<<12&4294967295|C>>>20),C=O+(R^U&(A^R))+x[10]+4294925233&4294967295,O=U+(C<<17&4294967295|C>>>15),C=R+(A^O&(U^A))+x[11]+2304563134&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(U^R&(O^U))+x[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(O^A&(R^O))+x[13]+4254626195&4294967295,U=A+(C<<12&4294967295|C>>>20),C=O+(R^U&(A^R))+x[14]+2792965006&4294967295,O=U+(C<<17&4294967295|C>>>15),C=R+(A^O&(U^A))+x[15]+1236535329&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(O^U&(R^O))+x[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^O&(A^R))+x[6]+3225465664&4294967295,U=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(U^A))+x[11]+643717713&4294967295,O=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(O^U))+x[0]+3921069994&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^U&(R^O))+x[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^O&(A^R))+x[10]+38016083&4294967295,U=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(U^A))+x[15]+3634488961&4294967295,O=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(O^U))+x[4]+3889429448&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^U&(R^O))+x[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^O&(A^R))+x[14]+3275163606&4294967295,U=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(U^A))+x[3]+4107603335&4294967295,O=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(O^U))+x[8]+1163531501&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^U&(R^O))+x[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^O&(A^R))+x[2]+4243563512&4294967295,U=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(U^A))+x[7]+1735328473&4294967295,O=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(O^U))+x[12]+2368359562&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(R^O^U)+x[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^O)+x[8]+2272392833&4294967295,U=A+(C<<11&4294967295|C>>>21),C=O+(U^A^R)+x[11]+1839030562&4294967295,O=U+(C<<16&4294967295|C>>>16),C=R+(O^U^A)+x[14]+4259657740&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^U)+x[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^O)+x[4]+1272893353&4294967295,U=A+(C<<11&4294967295|C>>>21),C=O+(U^A^R)+x[7]+4139469664&4294967295,O=U+(C<<16&4294967295|C>>>16),C=R+(O^U^A)+x[10]+3200236656&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^U)+x[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^O)+x[0]+3936430074&4294967295,U=A+(C<<11&4294967295|C>>>21),C=O+(U^A^R)+x[3]+3572445317&4294967295,O=U+(C<<16&4294967295|C>>>16),C=R+(O^U^A)+x[6]+76029189&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^U)+x[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^O)+x[12]+3873151461&4294967295,U=A+(C<<11&4294967295|C>>>21),C=O+(U^A^R)+x[15]+530742520&4294967295,O=U+(C<<16&4294967295|C>>>16),C=R+(O^U^A)+x[2]+3299628645&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(O^(R|~U))+x[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~O))+x[7]+1126891415&4294967295,U=A+(C<<10&4294967295|C>>>22),C=O+(A^(U|~R))+x[14]+2878612391&4294967295,O=U+(C<<15&4294967295|C>>>17),C=R+(U^(O|~A))+x[5]+4237533241&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~U))+x[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~O))+x[3]+2399980690&4294967295,U=A+(C<<10&4294967295|C>>>22),C=O+(A^(U|~R))+x[10]+4293915773&4294967295,O=U+(C<<15&4294967295|C>>>17),C=R+(U^(O|~A))+x[1]+2240044497&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~U))+x[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~O))+x[15]+4264355552&4294967295,U=A+(C<<10&4294967295|C>>>22),C=O+(A^(U|~R))+x[6]+2734768916&4294967295,O=U+(C<<15&4294967295|C>>>17),C=R+(U^(O|~A))+x[13]+1309151649&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~U))+x[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~O))+x[11]+3174756917&4294967295,U=A+(C<<10&4294967295|C>>>22),C=O+(A^(U|~R))+x[2]+718787259&4294967295,O=U+(C<<15&4294967295|C>>>17),C=R+(U^(O|~A))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,A){A===void 0&&(A=N.length);const R=A-this.blockSize,x=this.C;let O=this.h,U=0;for(;U<A;){if(O==0)for(;U<=R;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<A;)if(x[O++]=N.charCodeAt(U++),O==this.blockSize){o(this,x),O=0;break}}else for(;U<A;)if(x[O++]=N[U++],O==this.blockSize){o(this,x),O=0;break}}this.h=O,this.o+=A},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,R=0;R<4;++R)for(let x=0;x<32;x+=8)N[A++]=this.g[R]>>>x&255;return N};function h(N,A){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function d(N,A){this.h=A;const R=[];let x=!0;for(let O=N.length-1;O>=0;O--){const U=N[O]|0;x&&U==A||(R[O]=U,x=!1)}this.g=R}var p={};function y(N){return-128<=N&&N<128?h(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return J(v(-N));const A=[];let R=1;for(let x=0;N>=R;x++)A[x]=N/R|0,R*=4294967296;return new d(A,0)}function S(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return J(S(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(A,8));let x=b;for(let U=0;U<N.length;U+=8){var O=Math.min(8,N.length-U);const C=parseInt(N.substring(U,U+O),A);O<8?(O=v(Math.pow(A,O)),x=x.j(O).add(v(C))):(x=x.j(R),x=x.add(v(C)))}return x}var b=y(0),V=y(1),G=y(16777216);r=d.prototype,r.m=function(){if($(this))return-J(this).m();let N=0,A=1;for(let R=0;R<this.g.length;R++){const x=this.i(R);N+=(x>=0?x:4294967296+x)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if($(this))return"-"+J(this).toString(N);const A=v(Math.pow(N,6));var R=this;let x="";for(;;){const O=St(R,A).g;R=ht(R,O.j(A));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=O,W(R))return U+x;for(;U.length<6;)U="0"+U;x=U+x}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function $(N){return N.h==-1}r.l=function(N){return N=ht(this,N),$(N)?-1:W(N)?0:1};function J(N){const A=N.g.length,R=[];for(let x=0;x<A;x++)R[x]=~N.g[x];return new d(R,~N.h).add(V)}r.abs=function(){return $(this)?J(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),R=[];let x=0;for(let O=0;O<=A;O++){let U=x+(this.i(O)&65535)+(N.i(O)&65535),C=(U>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);x=C>>>16,U&=65535,C&=65535,R[O]=C<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ht(N,A){return N.add(J(A))}r.j=function(N){if(W(this)||W(N))return b;if($(this))return $(N)?J(this).j(J(N)):J(J(this).j(N));if($(N))return J(this.j(J(N)));if(this.l(G)<0&&N.l(G)<0)return v(this.m()*N.m());const A=this.g.length+N.g.length,R=[];for(var x=0;x<2*A;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<N.g.length;O++){const U=this.i(x)>>>16,C=this.i(x)&65535,te=N.i(O)>>>16,Ie=N.i(O)&65535;R[2*x+2*O]+=C*Ie,it(R,2*x+2*O),R[2*x+2*O+1]+=U*Ie,it(R,2*x+2*O+1),R[2*x+2*O+1]+=C*te,it(R,2*x+2*O+1),R[2*x+2*O+2]+=U*te,it(R,2*x+2*O+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new d(R,0)};function it(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function st(N,A){this.g=N,this.h=A}function St(N,A){if(W(A))throw Error("division by zero");if(W(N))return new st(b,b);if($(N))return A=St(J(N),A),new st(J(A.g),J(A.h));if($(A))return A=St(N,J(A)),new st(J(A.g),A.h);if(N.g.length>30){if($(N)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var R=V,x=A;x.l(N)<=0;)R=Ut(R),x=Ut(x);var O=At(R,1),U=At(x,1);for(x=At(x,2),R=At(R,2);!W(x);){var C=U.add(x);C.l(N)<=0&&(O=O.add(R),U=C),x=At(x,1),R=At(R,1)}return A=ht(N,O.j(A)),new st(O,A)}for(O=b;N.l(A)>=0;){for(R=Math.max(1,Math.floor(N.m()/A.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),U=v(R),C=U.j(A);$(C)||C.l(N)>0;)R-=x,U=v(R),C=U.j(A);W(U)&&(U=V),O=O.add(U),N=ht(N,C)}return new st(O,N)}r.B=function(N){return St(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let x=0;x<A;x++)R[x]=this.i(x)&N.i(x);return new d(R,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let x=0;x<A;x++)R[x]=this.i(x)|N.i(x);return new d(R,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let x=0;x<A;x++)R[x]=this.i(x)^N.i(x);return new d(R,this.h^N.h)};function Ut(N){const A=N.g.length+1,R=[];for(let x=0;x<A;x++)R[x]=N.i(x)<<1|N.i(x-1)>>>31;return new d(R,N.h)}function At(N,A){const R=A>>5;A%=32;const x=N.g.length-R,O=[];for(let U=0;U<x;U++)O[U]=A>0?N.i(U+R)>>>A|N.i(U+R+1)<<32-A:N.i(U+R);return new d(O,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,mE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,js=d}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gE,oo,pE,yc,Nd,yE,_E,vE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=y,v.apply(null,arguments)}function S(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)tt[Et-2]=arguments[Et];return m.prototype[L].apply(T,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let tt=0;tt<B;tt++)u[_+tt]=L[tt]}else u.push(L)}}class ${constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class it{constructor(){this.h=this.g=null}add(m,_){const T=st.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var st=new $(()=>new St,u=>u.reset());class St{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ut,At=!1,N=new it,A=()=>{const u=Promise.resolve(void 0);Ut=()=>{u.then(R)}};function R(){for(var u;u=ht();){try{u.h.call(u.g)}catch(_){J(_)}var m=st;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}At=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function te(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(te,O),te.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++F,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Ht(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function M(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<K.length;B++)_=K[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=bt(u,m,T,L);return tt>-1?(m=u[tt],_||(m.fa=!1)):(m=new et(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function pt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ft(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function bt(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ee(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ee(u,m[B],_,T,L);return null}return _=sl(_),u&&u[Ie]?u.J(m,_,p(T)?!!T.capture:!1,L):Ks(u,m,_,!1,T,L)}function Ks(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const tt=p(L)?!!L.capture:!!L;let Et=Xs(u);if(Et||(u[Vt]=Et=new rt(u)),_=Et.add(m,_,T,tt,B),_.proxy)return _;if(T=Lr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Xn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Lr(){function u(_){return m.call(u.src,u.listener,_)}const m=nl;return u}function Pr(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Pr(u,m[B],_,T,L);else T=p(T)?!!T.capture:!!T,_=sl(_),u&&u[Ie]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=bt(m,_,T,L),_>-1&&(ft(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Xs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,_,T,L)),(_=u>-1?m[u]:null)&&zr(_))}function zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])pt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Xn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Xs(m))?(pt(_,u),_.h==0&&(_.src=null,m[Vt]=null)):ft(u)}}}function Xn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function nl(u,m){if(u.da)u=!0;else{m=new te(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&zr(u),u=_.call(T,m)}return u}function Xs(u){return u=u[Vt],u instanceof rt?u:null}var il="__closure_events_fn_"+(Math.random()*1e9>>>0);function sl(u){return typeof u=="function"?u:(u[il]||(u[il]=function(m){return u.handleEvent(m)}),u[il])}function ge(){x.call(this),this.i=new rt(this),this.M=this,this.G=null}b(ge,x),ge.prototype[Ie]=!0,ge.prototype.removeEventListener=function(u,m,_,T){Pr(this,u,m,_,T)};function De(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var L=m;m=new O(T,u),nt(m,L)}L=!0;let B,tt;if(_)for(tt=_.length-1;tt>=0;tt--)B=m.g=_[tt],L=Ji(B,T,!0,m)&&L;if(B=m.g=u,L=Ji(B,T,!0,m)&&L,L=Ji(B,T,!1,m)&&L,_)for(tt=0;tt<_.length;tt++)B=m.g=_[tt],L=Ji(B,T,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ft(_[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ge.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function Ji(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==_){const Et=tt.listener,ce=tt.ha||tt.src;tt.fa&&pt(u.i,tt),L=Et.call(ce,T)!==!1&&L}}return L&&!T.defaultPrevented}function ah(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ko(u){u.g=ah(()=>{u.g=null,u.i&&(u.i=!1,ko(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends x{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ko(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $s(u){x.call(this),this.h=u,this.g={}}b($s,x);var rl=[];function al(u){Lt(u.g,function(m,_){this.g.hasOwnProperty(_)&&zr(m)},u),u.g={}}$s.prototype.N=function(){$s.Z.N.call(this),al(this)},$s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wi=d.JSON.stringify,lh=d.JSON.parse,Uo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Lo(){}function Po(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){O.call(this,"d")}b(Le,O);function vn(){O.call(this,"c")}b(vn,O);var ue={},zo=null;function jr(){return zo=zo||new ge}ue.Ia="serverreachability";function jo(u){O.call(this,ue.Ia,u)}b(jo,O);function $n(u){const m=jr();De(m,new jo(m))}ue.STAT_EVENT="statevent";function Zs(u,m){O.call(this,ue.STAT_EVENT,u),this.stat=m}b(Zs,O);function pe(u){const m=jr();De(m,new Zs(m,u))}ue.Ja="timingevent";function Zn(u,m){O.call(this,ue.Ja,u),this.size=m}b(Zn,O);function Jn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function kn(){this.g=!0}kn.prototype.ua=function(){this.g=!1};function oh(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var tt="",Et=B.split("&");for(let Bt=0;Bt<Et.length;Bt++){var ce=Et[Bt].split("=");if(ce.length>1){const ne=ce[0];ce=ce[1];const An=ne.split("_");tt=An.length>=2&&An[1]=="type"?tt+(ne+"="+ce+"&"):tt+(ne+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+tt})}function Bo(u,m,_,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+tt})}function Wn(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+uh(u,_)+(T?" "+T:"")})}function Js(u,m){u.info(function(){return"TIMEOUT: "+m})}kn.prototype.info=function(){};function uh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return Wi(B)}catch{return m}}var Ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ll={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ol;function tr(){}b(tr,Lo),tr.prototype.g=function(){return new XMLHttpRequest},ol=new tr;function Ri(u){return encodeURIComponent(String(u))}function qo(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Un(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new $s(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var ye={},Ve={};function ti(u,m,_){u.M=1,u.A=er(ve(m)),u.u=_,u.R=!0,Br(u,null)}function Br(u,m){u.F=Date.now(),ei(u),u.B=ve(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Fr(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Ln,u.g=iu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Ze(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(rl[0]=L.toString()),L=rl);for(let B=0;B<L.length;B++){const tt=ee(_,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),oh(u.i,u.v,u.B,u.l,u.S,u.u)}Un.prototype.ba=function(u){u=u.target;const m=this.O;m&&jn(u)==3?m.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)t:{const Et=jn(this.g),ce=this.g.ya(),Bt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Et!=4||ce==7||(ce==8||Bt<=0?$n(3):$n(2)),ni(this);var m=this.g.ca();this.X=m;var _=ch(this);if(this.o=m==200,Bo(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var B=T;break e}}B=null}if(u=B)Wn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ii(this,u);else{this.o=!1,this.m=3,pe(12),cn(this),En(this);break t}}if(this.R){u=!0;let ne;for(;!this.K&&this.C<_.length;)if(ne=Go(this,_),ne==Ve){Et==4&&(this.m=4,pe(14),u=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(ne==ye){this.m=4,pe(15),Wn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Wn(this.i,this.l,ne,null),ii(this,ne);if(Ho(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||_.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)Wn(this.i,this.l,_,"[Invalid Chunked Response]"),cn(this),En(this);else if(_.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Al(tt),tt.P=!0,pe(11))}}else Wn(this.i,this.l,_,null),ii(this,_);Et==4&&cn(this),this.o&&!this.K&&(Et==4?Wo(this.j,this):(this.o=!1,ei(this)))}else Ii(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),cn(this),En(this)}}}catch{}finally{}};function ch(u){if(!Ho(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let _="";const T=m.length,L=jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),En(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Ho(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Go(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Ve:(_=Number(m.substring(_,T)),isNaN(_)?ye:(T+=1,T+_>m.length?Ve:(m=m.slice(T,T+_),u.C=T+_,m)))}Un.prototype.cancel=function(){this.K=!0,cn(this)};function ei(u){u.T=Date.now()+u.H,qr(u,u.H)}function qr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Jn(v(u.aa,u),m)}function ni(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Un.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Js(this.i,this.B),this.M!=2&&($n(),pe(17)),cn(this),this.m=2,En(this)):qr(this,this.T-u)};function En(u){u.j.I==0||u.K||Wo(u.j,u)}function cn(u){ni(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,al(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ii(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||ri(_.h,u))){if(!u.L&&ri(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)$r(_),ls(_);else break t;or(_),pe(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Jn(v(_.Va,_),6e3));si(_.h)<=1&&_.ta&&(_.ta=void 0)}else hi(_,11)}else if((u.L||_.g==u)&&$r(_),!C(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Bt=L[m];const ne=Bt[0];if(!(ne<=_.K))if(_.K=ne,Bt=Bt[1],_.I==2)if(Bt[0]=="c"){_.M=Bt[1],_.ba=Bt[2];const An=Bt[3];An!=null&&(_.ka=An,_.j.info("VER="+_.ka));const fi=Bt[4];fi!=null&&(_.za=fi,_.j.info("SVER="+_.za));const Bn=Bt[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(T=1.5*Bn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const qn=u.g;if(qn){const ur=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ur){var B=T.h;B.g||ur.indexOf("spdy")==-1&&ur.indexOf("quic")==-1&&ur.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(hl(B,B.h),B.h=null))}if(T.G){const Zr=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zr&&(T.wa=Zr,Gt(T.J,T.G,Zr))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var tt=u;if(T.na=nu(T,T.L?T.ba:null,T.W),tt.L){fl(T.h,tt);var Et=tt,ce=T.O;ce&&(Et.H=ce),Et.D&&(ni(Et),ei(Et)),T.g=tt}else Zo(T);_.i.length>0&&ci(_)}else Bt[0]!="stop"&&Bt[0]!="close"||hi(_,7);else _.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?hi(_,7):Tl(_):Bt[0]!="noop"&&_.l&&_.l.qa(Bt),_.A=0)}}$n(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function ul(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function si(u){return u.h?1:u.g?u.g.size:0}function ri(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function hl(u,m){u.g?u.g.add(m):u.h=m}function fl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ul.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function dl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return G(u.i)}var Fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hr(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,ts(this,u.u),this.h=u.h,ml(this,Xo(u.i)),this.m=u.m):u&&(m=String(u).match(Fo))?(this.l=!1,xe(this,m[1]||"",!0),this.o=ai(m[2]||""),this.g=ai(m[3]||"",!0),ts(this,m[4]),this.h=ai(m[5]||"",!0),ml(this,m[6]||"",!0),this.m=ai(m[7]||"")):(this.l=!1,this.i=new ns(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(nr(m,Gr,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(nr(m,Gr,!0),"@"),u.push(Ri(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(nr(_,_.charAt(0)=="/"?gl:Qo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",nr(_,Yo)),u.join("")},hn.prototype.resolve=function(u){const m=ve(this);let _=!!u.j;_?xe(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)ts(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const Et=L[tt++];Et=="."?T&&tt==L.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(Et),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?ml(m,Xo(u.i)):_=!!u.m,_&&(m.m=u.m),m};function ve(u){return new hn(u)}function xe(u,m,_){u.j=_?ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ts(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ml(u,m,_){m instanceof ns?(u.i=m,Qr(u.i,u.l)):(_||(m=nr(m,es)),u.i=new ns(m,u.l))}function Gt(u,m,_){u.i.set(m,_)}function er(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function nr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,en),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gr=/[#\/\?@]/g,Qo=/[#\?:]/g,gl=/[#\?]/g,es=/[#\?@]/g,Yo=/#/g;function ns(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Hr(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=ns.prototype,r.add=function(u,m){nn(this),this.i=null,u=is(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ko(u,m){nn(u),m=is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function pl(u,m){return nn(u),m=is(u,m),u.g.has(m)}r.forEach=function(u,m){nn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function yl(u,m){nn(u);let _=[];if(typeof m=="string")pl(u,m)&&(_=_.concat(u.g.get(is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return nn(this),this.i=null,u=is(this,u),pl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=yl(this,u),u.length>0?String(u[0]):m):m};function Fr(u,m,_){Ko(u,m),_.length>0&&(u.i=null,u.g.set(is(u,m),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Ri(_);_=yl(this,_);for(let B=0;B<_.length;B++){let tt=L;_[B]!==""&&(tt+="="+Ri(_[B])),u.push(tt)}}return this.i=u.join("&")};function Xo(u){const m=new ns;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Qr(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(Ko(this,T),Fr(this,L,_))},u)),u.j=m}function Pn(u,m){const _=new kn;if(d.Image){const T=new Image;T.onload=S(Tn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Tn,_,"TestLoadImage: error",!1,m,T),T.onabort=S(Tn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Tn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function _l(u,m){const _=new kn,T=new AbortController,L=setTimeout(()=>{T.abort(),Tn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Tn(_,"TestPingServer: ok",!0,m):Tn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(_,"TestPingServer: error",!1,m)})}function Tn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function ss(){this.g=new Uo}function li(u){this.i=u.Sb||null,this.h=u.ab||!1}b(li,Lo),li.prototype.g=function(){return new ir(this.i,this.h)};function ir(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ir,ge),r=ir.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?rs(this):zn(this),this.readyState==3&&Yr(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,rs(this))},r.Na=function(u){this.g&&(this.response=u,rs(this))},r.ga=function(){this.g&&rs(this)};function rs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,zn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return Lt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function sr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Sn(_),typeof u=="string"?_!=null&&Ri(_):Gt(u,m,_))}function Yt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Yt,ge);var oi=/^https?$/i,vl=["POST","PUT"];r=Yt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ol.g(),this.g.onreadystatechange=V(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){rr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(vl,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of _)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){rr(this,B)}};function rr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,El(u),Ci(u)}function El(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Ci(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ar(this):this.Xa())},r.Xa=function(){ar(this)};function ar(u){if(u.h&&typeof h<"u"){if(u.v&&jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let tt=String(u.D).match(Fo)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!oi.test(tt?tt.toLowerCase():"")}_=T}if(_)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",El(u)}}finally{Ci(u)}}}}function Ci(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||De(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),lh(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ii(u){const m={};u=(u.g&&jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var _=qo(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function as(u){this.za=0,this.i=[],this.j=new kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ui("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ui("baseRetryDelayMs",5e3,u),this.Za=ui("retryDelaySeedMs",1e4,u),this.Ta=ui("forwardChannelMaxRetries",2,u),this.va=ui("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ul(u&&u.concurrentRequestLimit),this.Ba=new ss,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=as.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){pe(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=nu(this,null,this.W),ci(this)};function Tl(u){if(Kr(u),u.I==3){var m=u.V++,_=ve(u.J);if(Gt(_,"SID",u.M),Gt(_,"RID",m),Gt(_,"TYPE","terminate"),lr(u,_),m=new Un(u,u.j,m),m.M=2,m.A=er(ve(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=iu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ei(m)}eu(u)}function ls(u){u.g&&(Al(u),u.g.cancel(),u.g=null)}function Kr(u){ls(u),u.v&&(d.clearTimeout(u.v),u.v=null),$r(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ci(u){if(!cl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ut||A(),At||(Ut(),At=!0),N.add(m,u),u.D=0}}function Xr(u,m){return si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Jn(v(u.Ea,u,m),tu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Un(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=$o(this,L,m),_=ve(this.J),Gt(_,"RID",u),Gt(_,"CVER",22),this.G&&Gt(_,"X-HTTP-Session-Id",this.G),lr(this,_),B&&(this.R?m="headers="+Ri(Sn(B))+"&"+m:this.u&&sr(_,this.u,B)),hl(this.h,L),this.Ra&&Gt(_,"TYPE","init"),this.S?(Gt(_,"$req",m),Gt(_,"SID","null"),L.U=!0,ti(L,_,null)):ti(L,_,m),this.I=2}}else this.I==3&&(u?Sl(this,u):this.i.length==0||cl(this.h)||Sl(this))};function Sl(u,m){var _;m?_=m.l:_=u.V++;const T=ve(u.J);Gt(T,"SID",u.M),Gt(T,"RID",_),Gt(T,"AID",u.K),lr(u,T),u.u&&u.o&&sr(T,u.u,u.o),_=new Un(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=$o(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),hl(u.h,_),ti(_,T,m)}function lr(u,m){u.H&&Lt(u.H,function(_,T){Gt(m,T,_)}),u.l&&Lt({},function(_,T){Gt(m,T,_)})}function $o(u,m,_){_=Math.min(u.i.length,_);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let Et=-1;for(;;){const ce=["count="+_];Et==-1?_>0?(Et=L[0].g,ce.push("ofs="+Et)):Et=0:ce.push("ofs="+Et);let Bt=!0;for(let ne=0;ne<_;ne++){var B=L[ne].g;const An=L[ne].map;if(B-=Et,B<0)Et=Math.max(0,L[ne].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var tt=An instanceof Map?An:Object.entries(An);for(const[fi,Bn]of tt){let qn=Bn;p(Bn)&&(qn=Wi(Bn)),ce.push(B+fi+"="+encodeURIComponent(qn))}}catch(fi){throw ce.push(B+"type="+encodeURIComponent("_badmap")),fi}}catch{T&&T(An)}}if(Bt){tt=ce.join("&");break t}}tt=void 0}return u=u.i.splice(0,_),m.G=u,tt}function Zo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ut||A(),At||(Ut(),At=!0),N.add(m,u),u.A=0}}function or(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Jn(v(u.Da,u),tu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Jo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Jn(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),ls(this),Jo(this))};function Al(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Jo(u){u.g=new Un(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),lr(u,m),u.u&&u.o&&sr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=er(ve(m)),_.u=null,_.R=!0,Br(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ls(this),or(this),pe(19))};function $r(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Wo(u,m){var _=null;if(u.g==m){$r(u),Al(u),u.g=null;var T=2}else if(ri(u.h,m))_=m.G,fl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=jr(),De(T,new Zn(T,_)),ci(u)}else Zo(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Xr(u,m)||T==2&&or(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:hi(u,5);break;case 4:hi(u,10);break;case 3:hi(u,6);break;default:hi(u,2)}}}function tu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function hi(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),T=u.Ua;const L=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(T,"https"),er(T),L?Pn(T.toString(),_):_l(T.toString(),_)}else pe(2);u.I=0,u.l&&u.l.pa(m),eu(u),Kr(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function eu(u){if(u.I=0,u.ja=[],u.l){const m=dl(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function nu(u,m,_){var T=_ instanceof hn?ve(_):new hn(_);if(T.g!="")m&&(T.g=m+"."+T.g),ts(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new hn(null);T&&xe(B,T),m&&(B.g=m),L&&ts(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Gt(T,_,m),Gt(T,"VER",u.ka),lr(u,T),T}function iu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new li({ab:_})):new Yt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}r=su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function os(){}os.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ge.call(this),this.g=new as(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ni(this)}b(Je,ge),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Tl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Wi(u),u=_);m.i.push(new _e(m.Ya++,u)),m.I==3&&ci(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,Je.Z.N.call(this)};function ru(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(ru,Le);function au(){vn.call(this),this.status=1}b(au,vn);function Ni(u){this.g=u}b(Ni,su),Ni.prototype.ra=function(){De(this.g,"a")},Ni.prototype.qa=function(u){De(this.g,new ru(u))},Ni.prototype.pa=function(u){De(this.g,new au)},Ni.prototype.oa=function(){De(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,vE=function(){return new os},_E=function(){return jr()},yE=ue,Nd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ws.NO_ERROR=0,Ws.TIMEOUT=8,Ws.HTTP_ERROR=6,yc=Ws,ll.COMPLETE="complete",pE=ll,Po.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,oo=Po,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,gE=Yt}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const x_="@firebase/firestore",k_="4.9.2";class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");let $a="12.3.0";const Mr=new rm("@firebase/firestore");function Ca(){return Mr.logLevel}function at(r,...t){if(Mr.logLevel<=Dt.DEBUG){const i=t.map(om);Mr.debug(`Firestore (${$a}): ${r}`,...i)}}function Ki(r,...t){if(Mr.logLevel<=Dt.ERROR){const i=t.map(om);Mr.error(`Firestore (${$a}): ${r}`,...i)}}function Ba(r,...t){if(Mr.logLevel<=Dt.WARN){const i=t.map(om);Mr.warn(`Firestore (${$a}): ${r}`,...i)}}function om(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,EE(r,a,i)}function EE(r,t,i){let a=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ki(a),new Error(a)}function ae(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||EE(t,o,a)}function kt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Zi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class TE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class jb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Bb{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ae(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let h=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Cr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=h;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Cr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ae(typeof a.accessToken=="string",31837,{l:a}),new TE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ae(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class qb{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Hb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new qb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class U_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ae(this.o===void 0,3512);const a=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const o=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new U_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ae(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new U_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Fb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class SE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Fb(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=t.charAt(o[h]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function Dd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),h=t.charAt(a);if(o!==h)return pd(o)===pd(h)?Mt(o,h):pd(o)?1:-1}return Mt(r.length,t.length)}const Qb=55296,Yb=57343;function pd(r){const t=r.charCodeAt(0);return t>=Qb&&t<=Yb}function qa(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const L_="__name__";class yi{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return yi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof yi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const h=yi.compareSegments(t.get(o),i.get(o));if(h!==0)return h}return Mt(t.length,i.length)}static compareSegments(t,i){const a=yi.isNumericId(t),o=yi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?yi.extractNumericId(t).compare(yi.extractNumericId(i)):Dd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return js.fromString(t.substring(4,t.length-2))}}class se extends yi{construct(t,i,a){return new se(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const Kb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends yi{construct(t,i,a){return new Xe(t,i,a)}static isValidIdentifier(t){return Kb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L_}static keyField(){return new Xe([L_])}static fromServerFormat(t){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(h(),o++)}if(h(),d)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(i)}static emptyPath(){return new Xe([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(se.fromString(t))}static fromName(t){return new mt(se.fromString(t).popFirst(5))}static empty(){return new mt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new se(t.slice()))}}function Xb(r,t,i){if(!i)throw new lt(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function $b(r,t,i,a){if(t===!0&&a===!0)throw new lt(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function P_(r){if(mt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function AE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Gc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Od(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Gc(r);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function Io(r,t){if(!AE(r))throw new lt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new lt(Z.INVALID_ARGUMENT,i);return!0}const z_=-62135596800,j_=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*j_);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<z_)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j_}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Io(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-z_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ce("string",re._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new re(0,0))}static max(){return new _t(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Eo=-1;function Zb(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new qs(o,mt.empty(),t)}function Jb(r){return new qs(r.readTime,r.key,Eo)}class qs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new qs(_t.min(),mt.empty(),Eo)}static max(){return new qs(_t.max(),mt.empty(),Eo)}}function Wb(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const t1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Fc(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==t1)throw r;at("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let o=0,h=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(y=>a(y)))})),d=!0,h===o&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,o)=>{const h=t.length,d=new Array(h);let p=0;for(let y=0;y<h;y++){const v=y;i(t[v]).next((S=>{d[v]=S,++p,p===h&&a(d)}),(S=>o(S)))}}))}static doWhile(t,i){return new X(((a,o)=>{const h=()=>{t()===!0?i().next((()=>{h()}),o):a()};h()}))}}function n1(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Za(r){return r.name==="IndexedDbTransactionError"}class Qc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Qc.ce=-1;const i1=-1;function Yc(r){return r==null}function Ic(r){return r===0&&1/r==-1/0}function s1(r){return typeof r=="number"&&Number.isInteger(r)&&!Ic(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const bE="";function r1(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=B_(t)),t=a1(r.get(i),t);return B_(t)}function a1(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case bE:i+="";break;default:i+=h}}return i}function B_(r){return r+bE+""}function q_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Ja(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function wE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class me{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hc(this.root,t,this.comparator,!0)}}class hc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?a(t.key,i):1,i&&o&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,a,o,h){this.key=t,this.value=i,this.color=a??He.RED,this.left=o??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,h){return new He(t??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const h=a(t,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(t,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,o,h){return this}insert(t,i,a){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(t){return new H_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class H_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Us{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new Us([])}unionWith(t){let i=new Me(Xe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Us(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return qa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class RE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new RE("Invalid base64 string: "+h):h}})(t);return new Ge(i)}static fromUint8Array(t){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(t);return new Ge(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const l1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(r){if(ae(!!r,39018),typeof r=="string"){let t=0;const i=l1.exec(r);if(ae(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gs(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}const CE="server_timestamp",IE="__type__",NE="__previous_value__",DE="__local_write_time__";function um(r){return(r?.mapValue?.fields||{})[IE]?.stringValue===CE}function Kc(r){const t=r.mapValue.fields[NE];return um(t)?Kc(t):t}function To(r){const t=Hs(r.mapValue.fields[DE].timestampValue);return new re(t.seconds,t.nanos)}class o1{constructor(t,i,a,o,h,d,p,y,v,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=S}}const Nc="(default)";class So{constructor(t,i){this.projectId=t,this.database=i||Nc}static empty(){return new So("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(t){return t instanceof So&&t.projectId===this.projectId&&t.database===this.database}}const OE="__type__",u1="__max__",fc={mapValue:{}},ME="__vector__",Dc="value";function Fs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?um(r)?4:h1(r)?9007199254740991:c1(r)?10:11:vt(28295,{value:r})}function wi(r,t){if(r===t)return!0;const i=Fs(r);if(i!==Fs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return To(r).isEqual(To(t));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Hs(o.timestampValue),p=Hs(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,h){return Gs(o.bytesValue).isEqual(Gs(h.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,h){return de(o.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(h.geoPointValue.longitude)})(r,t);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return de(o.integerValue)===de(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=de(o.doubleValue),p=de(h.doubleValue);return d===p?Ic(d)===Ic(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return qa(r.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(q_(d)!==q_(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!wi(d[y],p[y])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function Ao(r,t){return(r.values||[]).find((i=>wi(i,t)))!==void 0}function Ha(r,t){if(r===t)return 0;const i=Fs(r),a=Fs(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(h,d){const p=de(h.integerValue||h.doubleValue),y=de(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return G_(r.timestampValue,t.timestampValue);case 4:return G_(To(r),To(t));case 5:return Dd(r.stringValue,t.stringValue);case 6:return(function(h,d){const p=Gs(h),y=Gs(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(h,d){const p=h.split("/"),y=d.split("/");for(let v=0;v<p.length&&v<y.length;v++){const S=Mt(p[v],y[v]);if(S!==0)return S}return Mt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(h,d){const p=Mt(de(h.latitude),de(d.latitude));return p!==0?p:Mt(de(h.longitude),de(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return F_(r.arrayValue,t.arrayValue);case 10:return(function(h,d){const p=h.fields||{},y=d.fields||{},v=p[Dc]?.arrayValue,S=y[Dc]?.arrayValue,b=Mt(v?.values?.length||0,S?.values?.length||0);return b!==0?b:F_(v,S)})(r.mapValue,t.mapValue);case 11:return(function(h,d){if(h===fc.mapValue&&d===fc.mapValue)return 0;if(h===fc.mapValue)return 1;if(d===fc.mapValue)return-1;const p=h.fields||{},y=Object.keys(p),v=d.fields||{},S=Object.keys(v);y.sort(),S.sort();for(let b=0;b<y.length&&b<S.length;++b){const V=Dd(y[b],S[b]);if(V!==0)return V;const G=Ha(p[y[b]],v[S[b]]);if(G!==0)return G}return Mt(y.length,S.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function G_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=Hs(r),a=Hs(t),o=Mt(i.seconds,a.seconds);return o!==0?o:Mt(i.nanos,a.nanos)}function F_(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Ha(i[o],a[o]);if(h)return h}return Mt(i.length,a.length)}function Ga(r){return Md(r)}function Md(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Hs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Gs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=Md(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${Md(i.fields[d])}`;return o+"}"})(r.mapValue):vt(61005,{value:r})}function _c(r){switch(Fs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Kc(r);return t?16+_c(t):16;case 5:return 2*r.stringValue.length;case 6:return Gs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+_c(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Ja(a.fields,((h,d)=>{o+=h.length+_c(d)})),o})(r.mapValue);default:throw vt(13486,{value:r})}}function Q_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Vd(r){return!!r&&"integerValue"in r}function cm(r){return!!r&&"arrayValue"in r}function Y_(r){return!!r&&"nullValue"in r}function K_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function yd(r){return!!r&&"mapValue"in r}function c1(r){return(r?.mapValue?.fields||{})[OE]?.stringValue===ME}function mo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ja(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=mo(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=mo(r.arrayValue.values[i]);return t}return{...r}}function h1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===u1}class _i{constructor(t){this.value=t}static empty(){return new _i({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!yd(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=mo(i)}setAll(t){let i=Xe.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=mo(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(t){const i=this.field(t.popLast());yd(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return wi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];yd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){Ja(i,((o,h)=>t[o]=h));for(const o of a)delete t[o]}clone(){return new _i(mo(this.value))}}class Ke{constructor(t,i,a,o,h,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ke(t,0,_t.min(),_t.min(),_t.min(),_i.empty(),0)}static newFoundDocument(t,i,a,o){return new Ke(t,1,i,_t.min(),a,o,0)}static newNoDocument(t,i){return new Ke(t,2,i,_t.min(),_t.min(),_i.empty(),0)}static newUnknownDocument(t,i){return new Ke(t,3,i,_t.min(),_t.min(),_i.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oc{constructor(t,i){this.position=t,this.inclusive=i}}function X_(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const h=t[o],d=r.position[o];if(h.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=Ha(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function $_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!wi(r.position[i],t.position[i]))return!1;return!0}class bo{constructor(t,i="asc"){this.field=t,this.dir=i}}function f1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class VE{}class Re extends VE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new m1(t,i,a):i==="array-contains"?new y1(t,a):i==="in"?new _1(t,a):i==="not-in"?new v1(t,a):i==="array-contains-any"?new E1(t,a):new Re(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new g1(t,a):new p1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ha(i,this.value)):i!==null&&Fs(this.value)===Fs(i)&&this.matchesComparison(Ha(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends VE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Kn(t,i)}matches(t){return xE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xE(r){return r.op==="and"}function kE(r){return d1(r)&&xE(r)}function d1(r){for(const t of r.filters)if(t instanceof Kn)return!1;return!0}function xd(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+Ga(r.value);if(kE(r))return r.filters.map((t=>xd(t))).join(",");{const t=r.filters.map((i=>xd(i))).join(",");return`${r.op}(${t})`}}function UE(r,t){return r instanceof Re?(function(a,o){return o instanceof Re&&a.op===o.op&&a.field.isEqual(o.field)&&wi(a.value,o.value)})(r,t):r instanceof Kn?(function(a,o){return o instanceof Kn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,p)=>h&&UE(d,o.filters[p])),!0):!1})(r,t):void vt(19439)}function LE(r){return r instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ga(i.value)}`})(r):r instanceof Kn?(function(i){return i.op.toString()+" {"+i.getFilters().map(LE).join(" ,")+"}"})(r):"Filter"}class m1 extends Re{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class g1 extends Re{constructor(t,i){super(t,"in",i),this.keys=PE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class p1 extends Re{constructor(t,i){super(t,"not-in",i),this.keys=PE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function PE(r,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class y1 extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return cm(i)&&Ao(i.arrayValue,this.value)}}class _1 extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ao(this.value.arrayValue,i)}}class v1 extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ao(this.value.arrayValue,i)}}class E1 extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!cm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ao(this.value.arrayValue,a)))}}class T1{constructor(t,i=null,a=[],o=[],h=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function Z_(r,t=null,i=[],a=[],o=null,h=null,d=null){return new T1(r,t,i,a,o,h,d)}function hm(r){const t=kt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>xd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Yc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ga(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ga(a))).join(",")),t.Te=i}return t.Te}function fm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!f1(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!UE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!$_(r.startAt,t.startAt)&&$_(r.endAt,t.endAt)}function kd(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Wa{constructor(t,i=null,a=[],o=[],h=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function S1(r,t,i,a,o,h,d,p){return new Wa(r,t,i,a,o,h,d,p)}function zE(r){return new Wa(r)}function J_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function jE(r){return r.collectionGroup!==null}function go(r){const t=kt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Xe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new bo(h,a))})),i.has(Xe.keyField().canonicalString())||t.Ie.push(new bo(Xe.keyField(),a))}return t.Ie}function Ei(r){const t=kt(r);return t.Ee||(t.Ee=A1(t,go(r))),t.Ee}function A1(r,t){if(r.limitType==="F")return Z_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new bo(o.field,h)}));const i=r.endAt?new Oc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Oc(r.startAt.position,r.startAt.inclusive):null;return Z_(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Ud(r,t){const i=r.filters.concat([t]);return new Wa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Ld(r,t,i){return new Wa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Xc(r,t){return fm(Ei(r),Ei(t))&&r.limitType===t.limitType}function BE(r){return`${hm(Ei(r))}|lt:${r.limitType}`}function Ia(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>LE(o))).join(", ")}]`),Yc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Ga(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Ga(o))).join(",")),`Target(${a})`})(Ei(r))}; limitType=${r.limitType})`}function $c(r,t){return t.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):mt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,t)&&(function(a,o){for(const h of go(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const v=X_(d,p,y);return d.inclusive?v<=0:v<0})(a.startAt,go(a),o)||a.endAt&&!(function(d,p,y){const v=X_(d,p,y);return d.inclusive?v>=0:v>0})(a.endAt,go(a),o))})(r,t)}function b1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function qE(r){return(t,i)=>{let a=!1;for(const o of go(r)){const h=w1(o,t,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function w1(r,t,i){const a=r.field.isKeyField()?mt.comparator(t.key,i.key):(function(h,d,p){const y=d.data.field(h),v=p.data.field(h);return y!==null&&v!==null?Ha(y,v):vt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}class kr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],t))return void(o[h]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ja(this.inner,((i,a)=>{for(const[o,h]of a)t(o,h)}))}isEmpty(){return wE(this.inner)}size(){return this.innerSize}}const R1=new me(mt.comparator);function Qs(){return R1}const HE=new me(mt.comparator);function uo(...r){let t=HE;for(const i of r)t=t.insert(i.key,i);return t}function C1(r){let t=HE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Rr(){return po()}function GE(){return po()}function po(){return new kr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const I1=new Me(mt.comparator);function Pt(...r){let t=I1;for(const i of r)t=t.add(i);return t}const N1=new Me(Mt);function D1(){return N1}function dm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(t)?"-0":t}}function FE(r){return{integerValue:""+r}}function O1(r,t){return s1(t)?FE(t):dm(r,t)}class Zc{constructor(){this._=void 0}}function M1(r,t,i){return r instanceof Pd?(function(o,h){const d={fields:{[IE]:{stringValue:CE},[DE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&um(h)&&(h=Kc(h)),h&&(d.fields[NE]=h),{mapValue:d}})(i,t):r instanceof Mc?QE(r,t):r instanceof Vc?YE(r,t):(function(o,h){const d=x1(o,h),p=W_(d)+W_(o.Ae);return Vd(d)&&Vd(o.Ae)?FE(p):dm(o.serializer,p)})(r,t)}function V1(r,t,i){return r instanceof Mc?QE(r,t):r instanceof Vc?YE(r,t):i}function x1(r,t){return r instanceof zd?(function(a){return Vd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class Pd extends Zc{}class Mc extends Zc{constructor(t){super(),this.elements=t}}function QE(r,t){const i=KE(t);for(const a of r.elements)i.some((o=>wi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Vc extends Zc{constructor(t){super(),this.elements=t}}function YE(r,t){let i=KE(t);for(const a of r.elements)i=i.filter((o=>!wi(o,a)));return{arrayValue:{values:i}}}class zd extends Zc{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function W_(r){return de(r.integerValue||r.doubleValue)}function KE(r){return cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function k1(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Mc&&o instanceof Mc||a instanceof Vc&&o instanceof Vc?qa(a.elements,o.elements,wi):a instanceof zd&&o instanceof zd?wi(a.Ae,o.Ae):a instanceof Pd&&o instanceof Pd})(r.transform,t.transform)}class Ir{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ir}static exists(t){return new Ir(void 0,t)}static updateTime(t){return new Ir(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class mm{}function XE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new L1(r.key,Ir.none()):new gm(r.key,r.data,Ir.none());{const i=r.data,a=_i.empty();let o=new Me(Xe.comparator);for(let h of t.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Jc(r.key,a,new Us(o.toArray()),Ir.none())}}function U1(r,t,i){r instanceof gm?(function(o,h,d){const p=o.value.clone(),y=ev(o.fieldTransforms,h,d.transformResults);p.setAll(y),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Jc?(function(o,h,d){if(!vc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=ev(o.fieldTransforms,h,d.transformResults),y=h.data;y.setAll($E(o)),y.setAll(p),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function yo(r,t,i,a){return r instanceof gm?(function(h,d,p,y){if(!vc(h.precondition,d))return p;const v=h.value.clone(),S=nv(h.fieldTransforms,y,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,t,i,a):r instanceof Jc?(function(h,d,p,y){if(!vc(h.precondition,d))return p;const v=nv(h.fieldTransforms,y,d),S=d.data;return S.setAll($E(h)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(h,d,p){return vc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function tv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&qa(a,o,((h,d)=>k1(h,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class gm extends mm{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Jc extends mm{constructor(t,i,a,o,h=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function $E(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function ev(r,t,i){const a=new Map;ae(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,p=t.data.field(h.field);a.set(h.field,V1(d,p,i[o]))}return a}function nv(r,t,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,M1(h,d,t))}return a}class L1 extends mm{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P1{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(t.key)&&U1(h,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=yo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=yo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=GE();return this.mutations.forEach((o=>{const h=t.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const y=XE(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&qa(this.mutations,t.mutations,((i,a)=>tv(i,a)))&&qa(this.baseMutations,t.baseMutations,((i,a)=>tv(i,a)))}}class z1{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class j1{constructor(t,i){this.count=t,this.unchangedNames=i}}var be,xt;function ZE(r){if(r===void 0)return Ki("GRPC error has no .code"),Z.UNKNOWN;switch(r){case be.OK:return Z.OK;case be.CANCELLED:return Z.CANCELLED;case be.UNKNOWN:return Z.UNKNOWN;case be.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case be.INTERNAL:return Z.INTERNAL;case be.UNAVAILABLE:return Z.UNAVAILABLE;case be.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case be.NOT_FOUND:return Z.NOT_FOUND;case be.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case be.ABORTED:return Z.ABORTED;case be.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case be.DATA_LOSS:return Z.DATA_LOSS;default:return vt(39323,{code:r})}}(xt=be||(be={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";function B1(){return new TextEncoder}const q1=new js([4294967295,4294967295],0);function iv(r){const t=B1().encode(r),i=new mE;return i.update(t),new Uint8Array(i.digest())}function sv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new js([i,a],0),new js([o,h],0)]}class pm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new co(`Invalid padding: ${i}`);if(a<0)throw new co(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new co(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new co(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=js.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(js.fromNumber(a)));return o.compare(q1)===1&&(o=new js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=iv(t),[a,o]=sv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new pm(h,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=iv(t),[a,o]=sv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class co extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wc{constructor(t,i,a,o,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,No.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Wc(_t.min(),o,new me(Mt),Qs(),Pt())}}class No{constructor(t,i,a,o,h){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new No(a,i,Pt(),Pt(),Pt())}}class Ec{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class JE{constructor(t,i){this.targetId=t,this.Ce=i}}class WE{constructor(t,i,a=Ge.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class rv{constructor(){this.ve=0,this.Fe=av(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),i=Pt(),a=Pt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:vt(38017,{changeType:h})}})),new No(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=av()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class H1{constructor(t){this.Ge=t,this.ze=new Map,this.je=Qs(),this.Je=dc(),this.He=dc(),this.Ye=new me(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const h=o.target;if(kd(h))if(a===0){const d=new mt(h.path);this.et(i,d,Ke.newNoDocument(d,_t.min()))}else ae(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Gs(a).toUint8Array()}catch(y){if(y instanceof RE)return Ba("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new pm(d,o,h)}catch(y){return Ba(y instanceof co?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&kd(p.target)){const y=new mt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ke.newNoDocument(y,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=Pt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const o=new Wc(t,i,this.Ye,this.je,a);return this.je=Qs(),this.Je=dc(),this.He=dc(),this.Ye=new me(Mt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new rv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new rv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function dc(){return new me(mt.comparator)}function av(){return new me(mt.comparator)}const G1={asc:"ASCENDING",desc:"DESCENDING"},F1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q1={and:"AND",or:"OR"};class Y1{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function jd(r,t){return r.useProto3Json||Yc(t)?t:{value:t}}function Bd(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Ma(r){return ae(!!r,49232),_t.fromTimestamp((function(i){const a=Hs(i);return new re(a.seconds,a.nanos)})(r))}function eT(r,t){return qd(r,t).canonicalString()}function qd(r,t){const i=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function nT(r){const t=se.fromString(r);return ae(lT(t),10190,{key:t.toString()}),t}function _d(r,t){const i=nT(t);if(i.get(1)!==r.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(sT(i))}function iT(r,t){return eT(r.databaseId,t)}function K1(r){const t=nT(r);return t.length===4?se.emptyPath():sT(t)}function lv(r){return new se(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sT(r){return ae(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function X1(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:vt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],h=(function(v,S){return v.useProto3Json?(ae(S===void 0||typeof S=="string",58123),Ge.fromBase64String(S||"")):(ae(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ge.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const S=v.code===void 0?Z.UNKNOWN:ZE(v.code);return new lt(S,v.message||"")})(d);i=new WE(a,o,h,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=_d(r,a.document.name),h=Ma(a.document.updateTime),d=a.document.createTime?Ma(a.document.createTime):_t.min(),p=new _i({mapValue:{fields:a.document.fields}}),y=Ke.newFoundDocument(o,h,d,p),v=a.targetIds||[],S=a.removedTargetIds||[];i=new Ec(v,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=_d(r,a.document),h=a.readTime?Ma(a.readTime):_t.min(),d=Ke.newNoDocument(o,h),p=a.removedTargetIds||[];i=new Ec([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=_d(r,a.document),h=a.removedTargetIds||[];i=new Ec([],h,o,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new j1(o,h),p=a.targetId;i=new JE(p,d)}}return i}function $1(r,t){return{documents:[iT(r,t.path)]}}function Z1(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=iT(r,o);const h=(function(v){if(v.length!==0)return aT(Kn.create(v,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((S=>(function(V){return{field:Na(V.field),direction:tw(V.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=jd(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:o}}function J1(r){let t=K1(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){ae(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:t=t.child(S.collectionId)}let h=[];i.where&&(h=(function(b){const V=rT(b);return V instanceof Kn&&kE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((V=>(function(W){return new bo(Da(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let V;return V=typeof b=="object"?b.value:b,Yc(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(b){const V=!!b.before,G=b.values||[];return new Oc(G,V)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const V=!b.before,G=b.values||[];return new Oc(G,V)})(i.endAt)),S1(t,o,d,h,p,"F",y,v)}function W1(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function rT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Da(i.unaryFilter.field);return Re.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Da(i.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Da(i.unaryFilter.field);return Re.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Da(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Re.create(Da(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Kn.create(i.compositeFilter.filters.map((a=>rT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function tw(r){return G1[r]}function ew(r){return F1[r]}function nw(r){return Q1[r]}function Na(r){return{fieldPath:r.canonicalString()}}function Da(r){return Xe.fromServerFormat(r.fieldPath)}function aT(r){return r instanceof Re?(function(i){if(i.op==="=="){if(K_(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NAN"}};if(Y_(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(K_(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NOT_NAN"}};if(Y_(i.value))return{unaryFilter:{field:Na(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(i.field),op:ew(i.op),value:i.value}}})(r):r instanceof Kn?(function(i){const a=i.getFilters().map((o=>aT(o)));return a.length===1?a[0]:{compositeFilter:{op:nw(i.op),filters:a}}})(r):vt(54877,{filter:r})}function lT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ls{constructor(t,i,a,o,h=_t.min(),d=_t.min(),p=Ge.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Ls(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class iw{constructor(t){this.yt=t}}function sw(r){const t=J1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ld(t,t.limit,"L"):t}class rw{constructor(){this.Cn=new aw}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(qs.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(qs.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class aw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Me(se.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Me(se.comparator)).toArray()}}const ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oT=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(oT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Fa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Fa(0)}static cr(){return new Fa(-1)}}const uv="LruGarbageCollector",lw=1048576;function cv([r,t],[i,a]){const o=Mt(r,i);return o===0?Mt(t,a):o}class ow{constructor(t){this.Ir=t,this.buffer=new Me(cv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();cv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class uw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(uv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Za(i)?at(uv,"Ignoring IndexedDB error during garbage collection: ",i):await Fc(i)}await this.Vr(3e5)}))}}class cw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(Qc.ce);const a=new ow(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(ov)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ov):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,h,d,p,y,v;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(h=b,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(v=Date.now(),Ca()<=Dt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(v-y)+`ms
Total Duration: ${v-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:b}))))}}function hw(r,t){return new cw(r,t)}class fw{constructor(){this.changes=new kr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class dw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class mw{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&yo(a.mutation,o,Us.empty(),re.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Pt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Pt()){const o=Rr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((h=>{let d=uo();return h.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Rr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Pt())))}populateOverlays(t,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(t,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let h=Qs();const d=po(),p=(function(){return po()})();return i.forEach(((y,v)=>{const S=a.get(v.key);o.has(v.key)&&(S===void 0||S.mutation instanceof Jc)?h=h.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),yo(S.mutation,v,S.mutation.getFieldMask(),re.now())):d.set(v.key,Us.empty())})),this.recalculateAndSaveOverlays(t,h).next((y=>(y.forEach(((v,S)=>d.set(v,S))),i.forEach(((v,S)=>p.set(v,new dw(S,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=po();let o=new me(((d,p)=>d-p)),h=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let S=a.get(y)||Us.empty();S=p.applyToLocalView(v,S),a.set(y,S);const b=(o.get(p.batchId)||Pt()).add(y);o=o.insert(p.batchId,b)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),v=y.key,S=y.value,b=GE();S.forEach((V=>{if(!h.has(V)){const G=XE(i.get(V),a.get(V));G!==null&&b.set(V,G),h=h.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):jE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-h.size):X.resolve(Rr());let p=Eo,y=h;return d.next((v=>X.forEach(v,((S,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),h.get(S)?X.resolve():this.remoteDocumentCache.getEntry(t,S).next((V=>{y=y.insert(S,V)}))))).next((()=>this.populateOverlays(t,v,h))).next((()=>this.computeViews(t,y,v,Pt()))).next((S=>({batchId:p,changes:C1(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let o=uo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const h=i.collectionGroup;let d=uo();return this.indexManager.getCollectionParents(t,h).next((p=>X.forEach(p,(y=>{const v=(function(b,V){return new Wa(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,a,o).next((S=>{S.forEach(((b,V)=>{d=d.insert(b,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,h,o)))).next((d=>{h.forEach(((y,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,Ke.newInvalidDocument(S)))}));let p=uo();return d.forEach(((y,v)=>{const S=h.get(y);S!==void 0&&yo(S.mutation,v,Us.empty(),re.now()),$c(i,v)&&(p=p.insert(y,v))})),p}))}}class gw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ma(o.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:sw(o.bundledQuery),readTime:Ma(o.readTime)}})(i)),X.resolve()}}class pw{constructor(){this.overlays=new me(mt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Rr();return X.forEach(i,(o=>this.getOverlay(t,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,h)=>{this.St(t,i,h)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const o=Rr(),h=i.length+1,d=new mt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&y.largestBatchId>a&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let h=new me(((v,S)=>v-S));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let S=h.get(v.largestBatchId);S===null&&(S=Rr(),h=h.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const p=Rr(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,S)=>p.set(v,S))),!(p.size()>=o)););return X.resolve(p)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new z1(i,a));let h=this.qr.get(i);h===void 0&&(h=Pt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}class yw{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class ym{constructor(){this.Qr=new Me(Ue.$r),this.Ur=new Me(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ue(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ue(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new mt(new se([])),a=new Ue(i,t),o=new Ue(i,t+1),h=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new mt(new se([])),a=new Ue(i,t),o=new Ue(i,t+1);let h=Pt();return this.Ur.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Ue(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ue{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return mt.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||mt.comparator(t.key,i.key)}}class _w{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Ue.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new P1(h,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Ue(p.key,h)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?i1:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);h.push(p)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Mt);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let h=a;mt.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new mt(h),0);let p=new Me(Mt);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){ae(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ue(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class vw{constructor(t){this.ri=t,this.docs=(function(){return new me(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(t,i){let a=Qs();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let h=Qs();const d=i.path,p=new mt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:v,value:{document:S}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Wb(Jb(S),a)<=0||(o.has(S.key)||$c(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(t,i,a,o){vt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new Ew(this)}getSize(t){return X.resolve(this.size)}}class Ew extends fw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class Tw{constructor(t){this.persistence=t,this.si=new kr((i=>hm(i)),fm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new ym,this.targetCount=0,this.ai=Fa.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Fa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let o=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),X.waitFor(h).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(t,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class uT{constructor(t,i){this.ui={},this.overlays={},this.ci=new Qc(0),this.li=!1,this.li=!0,this.hi=new yw,this.referenceDelegate=t(this),this.Pi=new Tw(this),this.indexManager=new rw,this.remoteDocumentCache=(function(o){return new vw(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new iw(i),this.Ii=new gw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new pw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new _w(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const o=new Sw(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class Sw extends e1{constructor(t){super(),this.currentSequenceNumber=t}}class _m{constructor(t){this.persistence=t,this.Ri=new ym,this.Vi=null}static mi(t){return new _m(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=mt.fromPath(a);return this.gi(t,o).next((h=>{h||i.removeEntry(o,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class xc{constructor(t,i){this.persistence=t,this.pi=new kr((a=>r1(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=hw(this,i)}static mi(t,i){return new xc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,o)=>this.br(t,a,o).next((h=>h?X.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,h.removeEntry(d,_t.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=_c(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class vm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Pt(),o=Pt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new vm(t,i.fromCache,a,o)}}class Aw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class bw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return TA()?8:n1($e())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Aw;return this.Ss(t,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>h.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(Ca()<=Dt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ia(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ca()<=Dt.DEBUG&&at("QueryEngine","Query:",Ia(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ca()<=Dt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ia(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ei(i))):X.resolve())}ys(t,i){if(J_(i))return X.resolve(null);let a=Ei(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Ld(i,null,"F"),a=Ei(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const d=Pt(...h);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const v=this.Ds(i,p);return this.Cs(i,v,d,y.readTime)?this.ys(t,Ld(i,null,"F")):this.vs(t,v,i,y)}))))})))))}ws(t,i,a,o){return J_(i)||o.isEqual(_t.min())?X.resolve(null):this.ps.getDocuments(t,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?X.resolve(null):(Ca()<=Dt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ia(i)),this.vs(t,d,i,Zb(o,Eo)).next((p=>p)))}))}Ds(t,i){let a=new Me(qE(t));return i.forEach(((o,h)=>{$c(t,h)&&(a=a.add(h))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(t,i,a){return Ca()<=Dt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ia(i)),this.ps.getDocumentsMatchingQuery(t,i,qs.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Em="LocalStore",ww=3e8;class Rw{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new me(Mt),this.xs=new kr((h=>hm(h)),fm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function Cw(r,t,i,a){return new Rw(r,t,i,a)}async function cT(r,t){const i=kt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],p=[];let y=Pt();for(const v of o){d.push(v.batchId);for(const S of v.mutations)y=y.add(S.key)}for(const v of h){p.push(v.batchId);for(const S of v.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(a,y).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function hT(r){const t=kt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function Iw(r,t){const i=kt(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((S,b)=>{const V=o.get(b);if(!V)return;p.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(h,S.addedDocuments,b))));let G=V.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(b)!==null?G=G.withResumeToken(Ge.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,a)),o=o.insert(b,G),(function($,J,ht){return $.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=ww?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(V,G,S)&&p.push(i.Pi.updateTargetData(h,G))}));let y=Qs(),v=Pt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),p.push(Nw(h,d,t.documentUpdates).next((S=>{y=S.ks,v=S.qs}))),!a.isEqual(_t.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next((b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));p.push(S)}return X.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,y,v))).next((()=>y))})).then((h=>(i.Ms=o,h)))}function Nw(r,t,i){let a=Pt(),o=Pt();return i.forEach((h=>a=a.add(h))),t.getEntries(r,a).next((h=>{let d=Qs();return i.forEach(((p,y)=>{const v=h.get(p);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(_t.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):at(Em,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function Dw(r,t){const i=kt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((h=>h?(o=h,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Ls(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function Hd(r,t,i){const a=kt(r),o=a.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Za(d))throw d;at(Em,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function hv(r,t,i){const a=kt(r);let o=_t.min(),h=Pt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,S){const b=kt(y),V=b.xs.get(S);return V!==void 0?X.resolve(b.Ms.get(V)):b.Pi.getTargetData(v,S)})(a,d,Ei(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{h=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:_t.min(),i?h:Pt()))).next((p=>(Ow(a,b1(t),p),{documents:p,Qs:h})))))}function Ow(r,t,i){let a=r.Os.get(t)||_t.min();i.forEach(((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Os.set(t,a)}class fv{constructor(){this.activeTargetIds=D1()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Mw{constructor(){this.Mo=new fv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new fv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Vw{Oo(t){}shutdown(){}}const dv="ConnectivityMonitor";class mv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(dv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(dv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mc=null;function Gd(){return mc===null?mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():mc++,"0x"+mc.toString(16)}const vd="RestConnection",xw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Nc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,h){const d=Gd(),p=this.zo(t,i.toUriEncodedString());at(vd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,h);const{host:v}=new URL(p),S=xr(v);return this.Jo(t,p,y,a,S).then((b=>(at(vd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Ba(vd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(t,i,a,o,h,d){return this.Go(t,i,a,o,h)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$a})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>t[h]=o)),a&&a.headers.forEach(((o,h)=>t[h]=o))}zo(t,i){const a=xw[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Uw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Qe="WebChannelConnection";class Lw extends kw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,h){const d=Gd();return new Promise(((p,y)=>{const v=new gE;v.setWithCredentials(!0),v.listenOnce(pE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case yc.NO_ERROR:const b=v.getResponseJson();at(Qe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case yc.TIMEOUT:at(Qe,`RPC '${t}' ${d} timed out`),y(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:const V=v.getStatus();if(at(Qe,`RPC '${t}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G?.error;if(W&&W.status&&W.message){const $=(function(ht){const it=ht.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(it)>=0?it:Z.UNKNOWN})(W.status);y(new lt($,W.message))}else y(new lt(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{at(Qe,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(o);at(Qe,`RPC '${t}' ${d} sending request:`,o),v.send(i,"POST",S,a,15)}))}T_(t,i,a){const o=Gd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=vE(),p=_E(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const S=h.join("");at(Qe,`Creating RPC '${t}' stream ${o}: ${S}`,y);const b=d.createWebChannel(S,y);this.I_(b);let V=!1,G=!1;const W=new Uw({Yo:J=>{G?at(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,J):(V||(at(Qe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),V=!0),at(Qe,`RPC '${t}' stream ${o} sending:`,J),b.send(J))},Zo:()=>b.close()}),$=(J,ht,it)=>{J.listen(ht,(st=>{try{it(st)}catch(St){setTimeout((()=>{throw St}),0)}}))};return $(b,oo.EventType.OPEN,(()=>{G||(at(Qe,`RPC '${t}' stream ${o} transport opened.`),W.o_())})),$(b,oo.EventType.CLOSE,(()=>{G||(G=!0,at(Qe,`RPC '${t}' stream ${o} transport closed`),W.a_(),this.E_(b))})),$(b,oo.EventType.ERROR,(J=>{G||(G=!0,Ba(Qe,`RPC '${t}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new lt(Z.UNAVAILABLE,"The operation could not be completed")))})),$(b,oo.EventType.MESSAGE,(J=>{if(!G){const ht=J.data[0];ae(!!ht,16349);const it=ht,st=it?.error||it[0]?.error;if(st){at(Qe,`RPC '${t}' stream ${o} received error:`,st);const St=st.status;let Ut=(function(A){const R=be[A];if(R!==void 0)return ZE(R)})(St),At=st.message;Ut===void 0&&(Ut=Z.INTERNAL,At="Unknown error status: "+St+" with message "+st.message),G=!0,W.a_(new lt(Ut,At)),b.close()}else at(Qe,`RPC '${t}' stream ${o} received:`,ht),W.u_(ht)}})),$(p,yE.STAT_EVENT,(J=>{J.stat===Nd.PROXY?at(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):J.stat===Nd.NOPROXY&&at(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Ed(){return typeof document<"u"?document:null}function th(r){return new Y1(r,!0)}class fT{constructor(t,i,a=1e3,o=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const gv="PersistentStream";class Pw{constructor(t,i,a,o,h,d,p,y){this.Mi=t,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Ki(i.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new lt(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(gv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zw extends Pw{constructor(t,i,a,o,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=X1(this.serializer,t),a=(function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Ma(d.readTime):_t.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=lv(this.serializer),i.addTarget=(function(h,d){let p;const y=d.target;if(p=kd(y)?{documents:$1(h,y)}:{query:Z1(h,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=tT(h,d.resumeToken);const v=jd(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=Bd(h,d.snapshotVersion.toTimestamp());const v=jd(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const a=W1(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=lv(this.serializer),i.removeTarget=t,this.q_(i)}}class jw{}class Bw extends jw{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,qd(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(Z.UNKNOWN,h.toString())}))}Ho(t,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,qd(i,a),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ki(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qa="RemoteStore";class Hw{constructor(t,i,a,o,h){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Oo(this)&&(at(Qa,"Restarting streams for network reachability change."),await(async function(y){const v=kt(y);v.Ea.add(4),await Do(v),v.Ra.set("Unknown"),v.Ea.delete(4),await eh(v)})(this))}))})),this.Ra=new qw(a,o)}}async function eh(r){if(Oo(r))for(const t of r.da)await t(!0)}async function Do(r){for(const t of r.da)await t(!1)}function dT(r,t){const i=kt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),bm(i)?Am(i):tl(i).O_()&&Sm(i,t))}function Tm(r,t){const i=kt(r),a=tl(i);i.Ia.delete(t),a.O_()&&mT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Oo(i)&&i.Ra.set("Unknown"))}function Sm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}tl(r).Y_(t)}function mT(r,t){r.Va.Ue(t),tl(r).Z_(t)}function Am(r){r.Va=new H1({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),tl(r).start(),r.Ra.ua()}function bm(r){return Oo(r)&&!tl(r).x_()&&r.Ia.size>0}function Oo(r){return kt(r).Ea.size===0}function gT(r){r.Va=void 0}async function Gw(r){r.Ra.set("Online")}async function Fw(r){r.Ia.forEach(((t,i)=>{Sm(r,t)}))}async function Qw(r,t){gT(r),bm(r)?(r.Ra.ha(t),Am(r)):r.Ra.set("Unknown")}async function Yw(r,t,i){if(r.Ra.set("Online"),t instanceof WE&&t.state===2&&t.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,t)}catch(a){at(Qa,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await pv(r,a)}else if(t instanceof Ec?r.Va.Ze(t):t instanceof JE?r.Va.st(t):r.Va.tt(t),!i.isEqual(_t.min()))try{const a=await hT(r.localStore);i.compareTo(a)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const S=h.Ia.get(v);S&&h.Ia.set(v,S.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,v)=>{const S=h.Ia.get(y);if(!S)return;h.Ia.set(y,S.withResumeToken(Ge.EMPTY_BYTE_STRING,S.snapshotVersion)),mT(h,y);const b=new Ls(S.target,y,v,S.sequenceNumber);Sm(h,b)})),h.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){at(Qa,"Failed to raise snapshot:",a),await pv(r,a)}}async function pv(r,t,i){if(!Za(t))throw t;r.Ea.add(1),await Do(r),r.Ra.set("Offline"),i||(i=()=>hT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Qa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await eh(r)}))}async function yv(r,t){const i=kt(r);i.asyncQueue.verifyOperationInProgress(),at(Qa,"RemoteStore received new credentials");const a=Oo(i);i.Ea.add(3),await Do(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await eh(i)}async function Kw(r,t){const i=kt(r);t?(i.Ea.delete(2),await eh(i)):t||(i.Ea.add(2),await Do(i),i.Ra.set("Unknown"))}function tl(r){return r.ma||(r.ma=(function(i,a,o){const h=kt(i);return h.sa(),new zw(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:Gw.bind(null,r),t_:Fw.bind(null,r),r_:Qw.bind(null,r),H_:Yw.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),bm(r)?Am(r):r.Ra.set("Unknown")):(await r.ma.stop(),gT(r))}))),r.ma}class wm{constructor(t,i,a,o,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,h){const d=Date.now()+a,p=new wm(t,i,d,o,h);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pT(r,t){if(Ki("AsyncQueue",`${t}: ${r}`),Za(r))return new lt(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Va{static emptySet(t){return new Va(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=uo(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Va)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Va;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class _v{constructor(){this.ga=new me(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ya{constructor(t,i,a,o,h,d,p,y,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ya(t,i,Va.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class Xw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class $w{constructor(){this.queries=vv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=kt(i),h=o.queries;o.queries=vv(),h.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function vv(){return new kr((r=>BE(r)),Xc)}async function Zw(r,t){const i=kt(r);let a=3;const o=t.query;let h=i.queries.get(o);h?!h.ba()&&t.Da()&&(a=2):(h=new Xw,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=pT(d,`Initialization of query '${Ia(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Rm(i)}async function Jw(r,t){const i=kt(r),a=t.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=t.Da()?0:1:!h.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function Ww(r,t){const i=kt(r);let a=!1;for(const o of t){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&Rm(i)}function tR(r,t,i){const a=kt(r),o=a.queries.get(t);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(t)}function Rm(r){r.Ca.forEach((t=>{t.next()}))}var Fd,Ev;(Ev=Fd||(Fd={})).Ma="default",Ev.Cache="cache";class eR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Ya(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ya.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Fd.Cache}}class yT{constructor(t){this.key=t}}class _T{constructor(t){this.key=t}}class nR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=qE(t),this.tu=new Va(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new _v,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((S,b)=>{const V=o.get(S),G=$c(this.query,b)?b:null,W=!!V&&this.mutatedKeys.has(V.key),$=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;V&&G?V.data.isEqual(G.data)?W!==$&&(a.track({type:3,doc:G}),J=!0):this.su(V,G)||(a.track({type:2,doc:G}),J=!0,(y&&this.eu(G,y)>0||v&&this.eu(G,v)<0)&&(p=!0)):!V&&G?(a.track({type:0,doc:G}),J=!0):V&&!G&&(a.track({type:1,doc:V}),J=!0,(y||v)&&(p=!0)),J&&(G?(d=d.add(G),h=$?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:p,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,b)=>(function(G,W){const $=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:J})}};return $(G)-$(W)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new Ya(this.query,t.tu,h,d,t.mutatedKeys,y===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new _T(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new yT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Pt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ya.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cm="SyncEngine";class iR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class sR{constructor(t){this.key=t,this.hu=!1}}class rR{constructor(t,i,a,o,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new kr((p=>BE(p)),Xc),this.Iu=new Map,this.Eu=new Set,this.du=new me(mt.comparator),this.Au=new Map,this.Ru=new ym,this.Vu={},this.mu=new Map,this.fu=Fa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aR(r,t,i=!0){const a=AT(r);let o;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await vT(a,t,i,!0),o}async function lR(r,t){const i=AT(r);await vT(i,t,!0,!1)}async function vT(r,t,i,a){const o=await Dw(r.localStore,Ei(t)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await oR(r,t,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&dT(r.remoteStore,o),p}async function oR(r,t,i,a,o){r.pu=(b,V,G)=>(async function($,J,ht,it){let st=J.view.ru(ht);st.Cs&&(st=await hv($.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,st))));const St=it&&it.targetChanges.get(J.targetId),Ut=it&&it.targetMismatches.get(J.targetId)!=null,At=J.view.applyChanges(st,$.isPrimaryClient,St,Ut);return Sv($,J.targetId,At.au),At.snapshot})(r,b,V,G);const h=await hv(r.localStore,t,!0),d=new nR(t,h.Qs),p=d.ru(h.documents),y=No.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),v=d.applyChanges(p,r.isPrimaryClient,y);Sv(r,i,v.au);const S=new iR(t,i,d);return r.Tu.set(t,S),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),v.snapshot}async function uR(r,t,i){const a=kt(r),o=a.Tu.get(t),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter((d=>!Xc(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Hd(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Tm(a.remoteStore,o.targetId),Qd(a,o.targetId)})).catch(Fc)):(Qd(a,o.targetId),await Hd(a.localStore,o.targetId,!0))}async function cR(r,t){const i=kt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Tm(i.remoteStore,a.targetId))}async function ET(r,t){const i=kt(r);try{const a=await Iw(i.localStore,t);t.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(ae(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ae(d.hu,14607):o.removedDocuments.size>0&&(ae(d.hu,42227),d.hu=!1))})),await ST(i,a,t)}catch(a){await Fc(a)}}function Tv(r,t,i){const a=kt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=kt(d);y.onlineState=p;let v=!1;y.queries.forEach(((S,b)=>{for(const V of b.Sa)V.va(p)&&(v=!0)})),v&&Rm(y)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function hR(r,t,i){const a=kt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),h=o&&o.key;if(h){let d=new me(mt.comparator);d=d.insert(h,Ke.newNoDocument(h,_t.min()));const p=Pt().add(h),y=new Wc(_t.min(),new Map,new me(Mt),d,p);await ET(a,y),a.du=a.du.remove(h),a.Au.delete(t),Im(a)}else await Hd(a.localStore,t,!1).then((()=>Qd(a,t,i))).catch(Fc)}function Qd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||TT(r,a)}))}function TT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Tm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Im(r))}function Sv(r,t,i){for(const a of i)a instanceof yT?(r.Ru.addReference(a.key,t),fR(r,a)):a instanceof _T?(at(Cm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||TT(r,a.key)):vt(19791,{wu:a})}function fR(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(at(Cm,"New document in limbo: "+i),r.Eu.add(a),Im(r))}function Im(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new mt(se.fromString(t)),a=r.fu.next();r.Au.set(a,new sR(i)),r.du=r.du.insert(i,a),dT(r.remoteStore,new Ls(Ei(zE(i.path)),a,"TargetPurposeLimboResolution",Qc.ce))}}async function ST(r,t,i){const a=kt(r),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((v=>{if((v||i)&&a.isPrimaryClient){const S=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(v){o.push(v);const S=vm.As(y.targetId,v);h.push(S)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,v){const S=kt(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(v,(V=>X.forEach(V.Es,(G=>S.persistence.referenceDelegate.addReference(b,V.targetId,G))).next((()=>X.forEach(V.ds,(G=>S.persistence.referenceDelegate.removeReference(b,V.targetId,G)))))))))}catch(b){if(!Za(b))throw b;at(Em,"Failed to update sequence numbers: "+b)}for(const b of v){const V=b.targetId;if(!b.fromCache){const G=S.Ms.get(V),W=G.snapshotVersion,$=G.withLastLimboFreeSnapshotVersion(W);S.Ms=S.Ms.insert(V,$)}}})(a.localStore,h))}async function dR(r,t){const i=kt(r);if(!i.currentUser.isEqual(t)){at(Cm,"User change. New user:",t.toKey());const a=await cT(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((p=>{p.forEach((y=>{y.reject(new lt(Z.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await ST(i,a.Ls)}}function mR(r,t){const i=kt(r),a=i.Au.get(t);if(a&&a.hu)return Pt().add(a.key);{let o=Pt();const h=i.Iu.get(t);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function AT(r){const t=kt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=ET.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hR.bind(null,t),t.Pu.H_=Ww.bind(null,t.eventManager),t.Pu.yu=tR.bind(null,t.eventManager),t}class kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Cw(this.persistence,new bw,t.initialUser,this.serializer)}Cu(t){return new uT(_m.mi,this.serializer)}Du(t){return new Mw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kc.provider={build:()=>new kc};class gR extends kc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ae(this.persistence.referenceDelegate instanceof xc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new uw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new uT((a=>xc.mi(a,i)),this.serializer)}}class Yd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Tv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=dR.bind(null,this.syncEngine),await Kw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new $w})()}createDatastore(t){const i=th(t.databaseInfo.databaseId),a=(function(h){return new Lw(h)})(t.databaseInfo);return(function(h,d,p,y){return new Bw(h,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,h,d,p){return new Hw(a,o,h,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Tv(this.syncEngine,i,0)),(function(){return mv.v()?new mv:new Vw})())}createSyncEngine(t,i){return(function(o,h,d,p,y,v,S){const b=new rR(o,h,d,p,y,v);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=kt(i);at(Qa,"RemoteStore shutting down."),a.Ea.add(5),await Do(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yd.provider={build:()=>new Yd};class pR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ki("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Ys="FirestoreClient";class yR{constructor(t,i,a,o,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=SE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{at(Ys,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(Ys,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=pT(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Td(r,t){r.asyncQueue.verifyOperationInProgress(),at(Ys,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await cT(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Av(r,t){r.asyncQueue.verifyOperationInProgress();const i=await _R(r);at(Ys,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>yv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>yv(t.remoteStore,o))),r._onlineComponents=t}async function _R(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(Ys,"Using user provided OfflineComponentProvider");try{await Td(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ba("Error using user provided cache. Falling back to memory cache: "+i),await Td(r,new kc)}}else at(Ys,"Using default OfflineComponentProvider"),await Td(r,new gR(void 0));return r._offlineComponents}async function vR(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(Ys,"Using user provided OnlineComponentProvider"),await Av(r,r._uninitializedComponentsProvider._online)):(at(Ys,"Using default OnlineComponentProvider"),await Av(r,new Yd))),r._onlineComponents}async function ER(r){const t=await vR(r),i=t.eventManager;return i.onListen=aR.bind(null,t.syncEngine),i.onUnlisten=uR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=lR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=cR.bind(null,t.syncEngine),i}function TR(r,t,i={}){const a=new Cr;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,y,v){const S=new pR({next:V=>{S.Nu(),d.enqueueAndForget((()=>Jw(h,b))),V.fromCache&&y.source==="server"?v.reject(new lt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(V)},error:V=>v.reject(V)}),b=new eR(p,S,{includeMetadataChanges:!0,qa:!0});return Zw(h,b)})(await ER(r),r.asyncQueue,t,i,a))),a.promise}function bT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const bv=new Map;const wT="firestore.googleapis.com",wv=!0;class Rv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wT,this.ssl=wv}else this.host=t.host,this.ssl=t.ssl??wv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=oT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lw)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$b("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nm{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new zb;switch(a.type){case"firstParty":return new Hb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=bv.get(i);a&&(at("ComponentProvider","Removing Datastore"),bv.delete(i),a.terminate())})(this),Promise.resolve()}}function SR(r,t,i,a={}){r=Od(r,Nm);const o=xr(t),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;o&&(im(`https://${p}`),sm("Firestore",!0)),h.host!==wT&&h.host!==p&&Ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:p,ssl:o,emulatorOptions:a};if(!Dr(y,d)&&(r._setSettings(y),a.mockUserToken)){let v,S;if(typeof a.mockUserToken=="string")v=a.mockUserToken,S=Ye.MOCK_USER;else{v=fA(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ye(b)}r._authCredentials=new jb(new TE(v,S))}}class Ur{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ur(this.firestore,t,this._query)}}class tn{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Io(i,tn._jsonSchema))return new tn(t,a||null,new mt(se.fromString(i.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:Ce("string",tn._jsonSchemaVersion),referencePath:Ce("string")};class xa extends Ur{constructor(t,i,a){super(t,i,zE(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new mt(t))}withConverter(t){return new xa(this.firestore,t,this._path)}}function Kd(r,t,...i){if(r=Vn(r),Xb("collection","path",t),r instanceof Nm){const a=se.fromString(t,...i);return P_(a),new xa(r,null,a)}{if(!(r instanceof tn||r instanceof xa))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(se.fromString(t,...i));return P_(a),new xa(r.firestore,null,a)}}const Cv="AsyncQueue";class Iv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fT(this,"async_queue_retry"),this._c=()=>{const a=Ed();a&&at(Cv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Ed();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ed();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Za(t))throw t;at(Cv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Ki("INTERNAL UNHANDLED ERROR: ",Nv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=wm.createAndSchedule(this,t,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:Nv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Nv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class RT extends Nm{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new Iv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Iv(t),this._firestoreClient=void 0,await t}}}function AR(r,t){const i=typeof r=="object"?r:lm(),a=typeof r=="string"?r:Nc,o=Hc(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=aE("firestore");h&&SR(o,...h)}return o}function bR(r){if(r._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wR(r),r._firestoreClient}function wR(r){const t=r._freezeSettings(),i=(function(o,h,d,p){return new o1(o,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,bT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new yR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}class Mn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mn(Ge.fromBase64String(t))}catch(i){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Mn(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Io(t,Mn._jsonSchema))return Mn.fromBase64String(t.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Ce("string",Mn._jsonSchemaVersion),bytes:Ce("string")};class CT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class IT{constructor(t){this._methodName=t}}class Ti{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ti._jsonSchemaVersion}}static fromJSON(t){if(Io(t,Ti._jsonSchema))return new Ti(t.latitude,t.longitude)}}Ti._jsonSchemaVersion="firestore/geoPoint/1.0",Ti._jsonSchema={type:Ce("string",Ti._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Si{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Io(t,Si._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Si(t.vectorValues);throw new lt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:Ce("string",Si._jsonSchemaVersion),vectorValues:Ce("object")};const RR=/^__.*__$/;function NT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Dm{constructor(t,i,a,o,h,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Dm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Xd(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(NT(this.Ac)&&RR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class CR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||th(t)}Cc(t,i,a,o=!1){return new Dm({Ac:t,methodName:i,Dc:a,path:Xe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IR(r){const t=r._freezeSettings(),i=th(r._databaseId);return new CR(r._databaseId,!!t.ignoreUndefinedProperties,i)}function NR(r,t,i,a=!1){return Om(i,r.Cc(a?4:3,t))}function Om(r,t){if(DT(r=Vn(r)))return OR("Unsupported field value:",t,r),DR(r,t);if(r instanceof IT)return(function(a,o){if(!NT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const h=[];let d=0;for(const p of a){let y=Om(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}})(r,t)}return(function(a,o){if((a=Vn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return O1(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=re.fromDate(a);return{timestampValue:Bd(o.serializer,h)}}if(a instanceof re){const h=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Bd(o.serializer,h)}}if(a instanceof Ti)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Mn)return{bytesValue:tT(o.serializer,a._byteString)};if(a instanceof tn){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:eT(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Si)return(function(d,p){return{mapValue:{fields:{[OE]:{stringValue:ME},[Dc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return dm(p.serializer,v)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Gc(a)}`)})(r,t)}function DR(r,t){const i={};return wE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ja(r,((a,o)=>{const h=Om(o,t.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function DT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Ti||r instanceof Mn||r instanceof tn||r instanceof IT||r instanceof Si)}function OR(r,t,i){if(!DT(i)||!AE(i)){const a=Gc(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}const MR=new RegExp("[~\\*/\\[\\]]");function VR(r,t,i){if(t.search(MR)>=0)throw Xd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new CT(...t.split("."))._internalPath}catch{throw Xd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Xd(r,t,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new lt(Z.INVALID_ARGUMENT,p+r+y)}class OT{constructor(t,i,a,o,h){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(nh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class xR extends OT{data(){return super.data()}}function nh(r,t){return typeof t=="string"?VR(r,t):t instanceof CT?t._internalPath:t._delegate._internalPath}function kR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mm{}class MT extends Mm{}function Dv(r,t,...i){let a=[];t instanceof Mm&&a.push(t),a=a.concat(i),(function(h){const d=h.filter((y=>y instanceof Vm)).length,p=h.filter((y=>y instanceof ih)).length;if(d>1||d>0&&p>0)throw new lt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class ih extends MT{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new ih(t,i,a)}_apply(t){const i=this._parse(t);return VT(t._query,i),new Ur(t.firestore,t.converter,Ud(t._query,i))}_parse(t){const i=IR(t.firestore);return(function(h,d,p,y,v,S,b){let V;if(v.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){xv(b,S);const W=[];for(const $ of b)W.push(Vv(y,h,$));V={arrayValue:{values:W}}}else V=Vv(y,h,b)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||xv(b,S),V=NR(p,d,b,S==="in"||S==="not-in");return Re.create(v,S,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function Ov(r,t,i){const a=t,o=nh("where",r);return ih._create(o,a,i)}class Vm extends Mm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Vm(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Kn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,h){let d=o;const p=h.getFlattenedFilters();for(const y of p)VT(d,y),d=Ud(d,y)})(t._query,i),new Ur(t.firestore,t.converter,Ud(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xm extends MT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new xm(t,i)}_apply(t){const i=(function(o,h,d){if(o.startAt!==null)throw new lt(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bo(h,d)})(t._query,this._field,this._direction);return new Ur(t.firestore,t.converter,(function(o,h){const d=o.explicitOrderBy.concat([h]);return new Wa(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,i))}}function Mv(r,t="asc"){const i=t,a=nh("orderBy",r);return xm._create(a,i)}function Vv(r,t,i){if(typeof(i=Vn(i))=="string"){if(i==="")throw new lt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jE(t)&&i.indexOf("/")!==-1)throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(se.fromString(i));if(!mt.isDocumentKey(a))throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Q_(r,new mt(a))}if(i instanceof tn)return Q_(r,i._key);throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gc(i)}.`)}function xv(r,t){if(!Array.isArray(r)||r.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function VT(r,t){const i=(function(o,h){for(const d of o)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class UR{convertValue(t,i="none"){switch(Fs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Gs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Ja(t,((o,h)=>{a[o]=this.convertValue(h,i)})),a}convertVectorValue(t){const i=t.fields?.[Dc].arrayValue?.values?.map((a=>de(a.doubleValue)));return new Si(i)}convertGeoPoint(t){return new Ti(de(t.latitude),de(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Kc(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(To(t));default:return null}}convertTimestamp(t){const i=Hs(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=se.fromString(t);ae(lT(a),9688,{name:t});const o=new So(a.get(1),a.get(3)),h=new mt(a.popFirst(5));return o.isEqual(i)||Ki(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class gc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ka extends OT{constructor(t,i,a,o,h,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(nh("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ka._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",ka._jsonSchema={type:Ce("string",ka._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Tc extends ka{data(t={}){return super.data(t)}}class Ua{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new gc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Tc(this._firestore,this._userDataWriter,a.key,a,new gc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new Tc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new gc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const y=new Tc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new gc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,S=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:LR(p.type),doc:y,oldIndex:v,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ua._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=SE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function LR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}Ua._jsonSchemaVersion="firestore/querySnapshot/1.0",Ua._jsonSchema={type:Ce("string",Ua._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class PR extends UR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,i)}}function xT(r){r=Od(r,Ur);const t=Od(r.firestore,RT),i=bR(t),a=new PR(t);return kR(r._query),TR(i,r._query).then((o=>new Ua(t,a,r,o)))}(function(t,i=!0){(function(o){$a=o})(Xa),Or(new Bs("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new RT(new Bb(a.getProvider("auth-internal")),new Gb(d,a.getProvider("app-check-internal")),(function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new So(v.options.projectId,S)})(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),vi(x_,k_,t),vi(x_,k_,"esm2020")})();var zR="firebase",jR="12.6.0";vi(zR,jR,"app");function kT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BR=kT,UT=new Ro("auth","Firebase",kT());const Uc=new rm("@firebase/auth");function qR(r,...t){Uc.logLevel<=Dt.WARN&&Uc.warn(`Auth (${Xa}): ${r}`,...t)}function Sc(r,...t){Uc.logLevel<=Dt.ERROR&&Uc.error(`Auth (${Xa}): ${r}`,...t)}function Xi(r,...t){throw km(r,...t)}function Ai(r,...t){return km(r,...t)}function LT(r,t,i){const a={...BR(),[t]:i};return new Ro("auth","Firebase",a).create(t,{appName:r.name})}function Nr(r){return LT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function km(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return UT.create(r,...t)}function gt(r,t,...i){if(!r)throw km(t,...i)}function Fi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Sc(t),new Error(t)}function $i(r,t){r||Fi(t)}function $d(){return typeof self<"u"&&self.location?.href||""}function HR(){return kv()==="http:"||kv()==="https:"}function kv(){return typeof self<"u"&&self.location?.protocol||null}function GR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HR()||_A()||"connection"in navigator)?navigator.onLine:!0}function FR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Mo{constructor(t,i){this.shortDelay=t,this.longDelay=i,$i(i>t,"Short delay should be less than long delay!"),this.isMobile=gA()||vA()}get(){return GR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Um(r,t){$i(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class PT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KR=new Mo(3e4,6e4);function Lm(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function el(r,t,i,a,o={}){return zT(r,o,async()=>{let h={},d={};a&&(t==="GET"?d=a:h={body:JSON.stringify(a)});const p=Co({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const v={method:t,headers:y,...h};return yA()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&xr(r.emulatorConfig.host)&&(v.credentials="include"),PT.fetch()(await jT(r,r.config.apiHost,i,p),v)})}async function zT(r,t,i){r._canInitEmulator=!1;const a={...QR,...t};try{const o=new $R(r),h=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw pc(r,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[y,v]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw pc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw pc(r,"user-disabled",d);const S=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw LT(r,S,v);Xi(r,S)}}catch(o){if(o instanceof Zi)throw o;Xi(r,"network-request-failed",{message:String(o)})}}async function XR(r,t,i,a,o={}){const h=await el(r,t,i,a,o);return"mfaPendingCredential"in h&&Xi(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function jT(r,t,i,a){const o=`${t}${i}?${a}`,h=r,d=h.config.emulator?Um(r.config,o):`${r.config.apiScheme}://${o}`;return YR.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class $R{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ai(this.auth,"network-request-failed")),KR.get())})}}function pc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ai(r,t,a);return o.customData._tokenResponse=i,o}async function ZR(r,t){return el(r,"POST","/v1/accounts:delete",t)}async function Lc(r,t){return el(r,"POST","/v1/accounts:lookup",t)}function _o(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function JR(r,t=!1){const i=Vn(r),a=await i.getIdToken(t),o=Pm(a);gt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const h=typeof o.firebase=="object"?o.firebase:void 0,d=h?.sign_in_provider;return{claims:o,token:a,authTime:_o(Sd(o.auth_time)),issuedAtTime:_o(Sd(o.iat)),expirationTime:_o(Sd(o.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Sd(r){return Number(r)*1e3}function Pm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const o=sE(i);return o?JSON.parse(o):(Sc("Failed to decode base64 JWT payload"),null)}catch(o){return Sc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Uv(r){const t=Pm(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function wo(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Zi&&WR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function WR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class tC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=_o(this.lastLoginAt),this.creationTime=_o(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pc(r){const t=r.auth,i=await r.getIdToken(),a=await wo(r,Lc(t,{idToken:i}));gt(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const h=o.providerUserInfo?.length?BT(o.providerUserInfo):[],d=nC(r.providerData,h),p=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!d?.length,v=p?y:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Zd(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,S)}async function eC(r){const t=Vn(r);await Pc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nC(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function BT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function iC(r,t){const i=await zT(r,{},async()=>{const a=Co({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:h}=r.config,d=await jT(r,o,"/v1/token",`key=${h}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&xr(r.emulatorConfig.host)&&(y.credentials="include"),PT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function sC(r,t){return el(r,"POST","/v2/accounts:revokeToken",Lm(r,t))}class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Uv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=Uv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:h}=await iC(t,i);this.updateTokensAndExpiration(a,o,Number(h))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:h}=i,d=new La;return a&&(gt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(gt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),h&&(gt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return Fi("not implemented")}}function Os(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Yn{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new tC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await wo(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return JR(this,t)}reload(){return eC(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Yn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Pc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Nr(this.auth));const t=await this.getIdToken();return await wo(this,ZR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,v=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:V,isAnonymous:G,providerData:W,stsTokenManager:$}=i;gt(b&&$,t,"internal-error");const J=La.fromJSON(this.name,$);gt(typeof b=="string",t,"internal-error"),Os(a,t.name),Os(o,t.name),gt(typeof V=="boolean",t,"internal-error"),gt(typeof G=="boolean",t,"internal-error"),Os(h,t.name),Os(d,t.name),Os(p,t.name),Os(y,t.name),Os(v,t.name),Os(S,t.name);const ht=new Yn({uid:b,auth:t,email:o,emailVerified:V,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:J,createdAt:v,lastLoginAt:S});return W&&Array.isArray(W)&&(ht.providerData=W.map(it=>({...it}))),y&&(ht._redirectEventId=y),ht}static async _fromIdTokenResponse(t,i,a=!1){const o=new La;o.updateFromServerResponse(i);const h=new Yn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Pc(h),h}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];gt(o.localId!==void 0,"internal-error");const h=o.providerUserInfo!==void 0?BT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!h?.length,p=new La;p.updateFromIdToken(a);const y=new Yn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Zd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!h?.length};return Object.assign(y,v),y}}const Lv=new Map;function Qi(r){$i(r instanceof Function,"Expected a class definition");let t=Lv.get(r);return t?($i(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Lv.set(r,t),t)}class qT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}qT.type="NONE";const Pv=qT;function Ac(r,t,i){return`firebase:${r}:${t}:${i}`}class Pa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:h}=this.auth;this.fullUserKey=Ac(this.userKey,o.apiKey,h),this.fullPersistenceKey=Ac("persistence",o.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Lc(this.auth,{idToken:t}).catch(()=>{});return i?Yn._fromGetAccountInfoResponse(this.auth,i,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Pa(Qi(Pv),t,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=o[0]||Qi(Pv);const d=Ac(a,t.config.apiKey,t.name);let p=null;for(const v of i)try{const S=await v._get(d);if(S){let b;if(typeof S=="string"){const V=await Lc(t,{idToken:S}).catch(()=>{});if(!V)break;b=await Yn._fromGetAccountInfoResponse(t,V,S)}else b=Yn._fromJSON(t,S);v!==h&&(p=b),h=v;break}}catch{}const y=o.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new Pa(h,t,a):(h=y[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new Pa(h,t,a))}}function zv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(QT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(KT(t))return"Blackberry";if(XT(t))return"Webos";if(GT(t))return"Safari";if((t.includes("chrome/")||FT(t))&&!t.includes("edge/"))return"Chrome";if(YT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function HT(r=$e()){return/firefox\//i.test(r)}function GT(r=$e()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function FT(r=$e()){return/crios\//i.test(r)}function QT(r=$e()){return/iemobile/i.test(r)}function YT(r=$e()){return/android/i.test(r)}function KT(r=$e()){return/blackberry/i.test(r)}function XT(r=$e()){return/webos/i.test(r)}function zm(r=$e()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rC(r=$e()){return zm(r)&&!!window.navigator?.standalone}function aC(){return EA()&&document.documentMode===10}function $T(r=$e()){return zm(r)||YT(r)||XT(r)||KT(r)||/windows phone/i.test(r)||QT(r)}function ZT(r,t=[]){let i;switch(r){case"Browser":i=zv($e());break;case"Worker":i=`${zv($e())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Xa}/${a}`}class lC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=h=>new Promise((d,p)=>{try{const y=t(h);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function oC(r,t={}){return el(r,"GET","/v2/passwordPolicy",Lm(r,t))}const uC=6;class cC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??uC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class hC{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jv(this),this.idTokenSubscription=new jv(this),this.beforeStateQueue=new lC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Qi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Lc(this,{idToken:t}),a=await Yn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Qn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Pc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qn(this.app))return Promise.reject(Nr(this));const i=t?Vn(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qn(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await oC(this),i=new cC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ro("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await sC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Qi(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Qi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ZT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&qR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function jm(r){return Vn(r)}class jv{constructor(t){this.auth=t,this.observer=null,this.addObserver=IA(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fC(r){Bm=r}function dC(r){return Bm.loadJS(r)}function mC(){return Bm.gapiScript}function gC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function pC(r,t){const i=Hc(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),h=i.getOptions();if(Dr(h,t??{}))return o;Xi(o,"already-initialized")}return i.initialize({options:t})}function yC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Qi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function _C(r,t,i){const a=jm(r);gt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,h=JT(t),{host:d,port:p}=vC(t),y=p===null?"":`:${p}`,v={url:`${h}//${d}${y}/`},S=Object.freeze({host:d,port:p,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){gt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),gt(Dr(v,a.config.emulator)&&Dr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,xr(d)?(im(`${h}//${d}${y}`),sm("Auth",!0)):EC()}function JT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function vC(r){const t=JT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const h=o[1];return{host:h,port:Bv(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:Bv(d)}}}function Bv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function EC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class WT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Fi("not implemented")}_getIdTokenResponse(t){return Fi("not implemented")}_linkToIdToken(t,i){return Fi("not implemented")}_getReauthenticationResolver(t){return Fi("not implemented")}}async function za(r,t){return XR(r,"POST","/v1/accounts:signInWithIdp",Lm(r,t))}const TC="http://localhost";class Vr extends WT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Vr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Xi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...h}=i;if(!a||!o)return null;const d=new Vr(a,o);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return za(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,za(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,za(t,i)}buildRequest(){const t={requestUri:TC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Co(i)}return t}}class t0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Vo extends t0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ms extends Vo{constructor(){super("facebook.com")}static credential(t){return Vr._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ms.credentialFromTaggedObject(t)}static credentialFromError(t){return Ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ms.credential(t.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";class Vs extends Vo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Vr._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Vs.credentialFromTaggedObject(t)}static credentialFromError(t){return Vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Vs.credential(i,a)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";class xs extends Vo{constructor(){super("github.com")}static credential(t){return Vr._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xs.credentialFromTaggedObject(t)}static credentialFromError(t){return xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xs.credential(t.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";class ks extends Vo{constructor(){super("twitter.com")}static credential(t,i){return Vr._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ks.credentialFromTaggedObject(t)}static credentialFromError(t){return ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return ks.credential(i,a)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";class Ka{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const h=await Yn._fromIdTokenResponse(t,a,o),d=qv(a);return new Ka({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=qv(a);return new Ka({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function qv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class zc extends Zi{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new zc(t,i,a,o)}}function e0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(r,h,t,a):h})}async function SC(r,t,i=!1){const a=await wo(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Ka._forOperation(r,"link",a)}async function AC(r,t,i=!1){const{auth:a}=r;if(Qn(a.app))return Promise.reject(Nr(a));const o="reauthenticate";try{const h=await wo(r,e0(a,o,t,r),i);gt(h.idToken,a,"internal-error");const d=Pm(h.idToken);gt(d,a,"internal-error");const{sub:p}=d;return gt(r.uid===p,a,"user-mismatch"),Ka._forOperation(r,o,h)}catch(h){throw h?.code==="auth/user-not-found"&&Xi(a,"user-mismatch"),h}}async function bC(r,t,i=!1){if(Qn(r.app))return Promise.reject(Nr(r));const a="signIn",o=await e0(r,a,t),h=await Ka._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(h.user),h}function wC(r,t,i,a){return Vn(r).onIdTokenChanged(t,i,a)}function RC(r,t,i){return Vn(r).beforeAuthStateChanged(t,i)}const jc="__sak";class n0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const CC=1e3,IC=10;class i0 extends n0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$T(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);aC()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,IC):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},CC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}i0.type="LOCAL";const NC=i0;class s0 extends n0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}s0.type="SESSION";const r0=s0;function DC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new sh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:h}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async v=>v(i.origin,h)),y=await DC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];function qm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class OC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let h,d;return new Promise((p,y)=>{const v=qm("",20);o.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(b){const V=b;if(V.data.eventId===v)switch(V.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),p(V.data.response);break;default:clearTimeout(S),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function bi(){return window}function MC(r){bi().location.href=r}function a0(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function VC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xC(){return navigator?.serviceWorker?.controller||null}function kC(){return a0()?self:null}const l0="firebaseLocalStorageDb",UC=1,Bc="firebaseLocalStorage",o0="fbase_key";class xo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function rh(r,t){return r.transaction([Bc],t?"readwrite":"readonly").objectStore(Bc)}function LC(){const r=indexedDB.deleteDatabase(l0);return new xo(r).toPromise()}function Jd(){const r=indexedDB.open(l0,UC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Bc,{keyPath:o0})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Bc)?t(a):(a.close(),await LC(),t(await Jd()))})})}async function Hv(r,t,i){const a=rh(r,!0).put({[o0]:t,value:i});return new xo(a).toPromise()}async function PC(r,t){const i=rh(r,!1).get(t),a=await new xo(i).toPromise();return a===void 0?null:a.value}function Gv(r,t){const i=rh(r,!0).delete(t);return new xo(i).toPromise()}const zC=800,jC=3;class u0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>jC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return a0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(kC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await VC(),!this.activeServiceWorker)return;this.sender=new OC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||xC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jd();return await Hv(t,jc,"1"),await Gv(t,jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Hv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>PC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Gv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const h=rh(o,!1).getAll();return new xo(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:h}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(h)&&(this.notifyListeners(o,h),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u0.type="LOCAL";const BC=u0;new Mo(3e4,6e4);function qC(r,t){return t?Qi(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Hm extends WT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function HC(r){return bC(r.auth,new Hm(r),r.bypassAuthState)}function GC(r){const{auth:t,user:i}=r;return gt(i,t,"internal-error"),AC(i,new Hm(r),r.bypassAuthState)}async function FC(r){const{auth:t,user:i}=r;return gt(i,t,"internal-error"),SC(i,new Hm(r),r.bypassAuthState)}class c0{constructor(t,i,a,o,h=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:h,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return HC;case"linkViaPopup":case"linkViaRedirect":return FC;case"reauthViaPopup":case"reauthViaRedirect":return GC;default:Xi(this.auth,"internal-error")}}resolve(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QC=new Mo(2e3,1e4);class Oa extends c0{constructor(t,i,a,o,h){super(t,i,o,h),this.provider=a,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const t=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,QC.get())};t()}}Oa.currentPopupAction=null;const YC="pendingRedirect",bc=new Map;class KC extends c0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=bc.get(this.auth._key());if(!t){try{const a=await XC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}bc.set(this.auth._key(),t)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XC(r,t){const i=JC(t),a=ZC(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function $C(r,t){bc.set(r._key(),t)}function ZC(r){return Qi(r._redirectPersistence)}function JC(r){return Ac(YC,r.config.apiKey,r.name)}async function WC(r,t,i=!1){if(Qn(r.app))return Promise.reject(Nr(r));const a=jm(r),o=qC(a,t),d=await new KC(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const tI=600*1e3;class eI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!nI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!h0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ai(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=tI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fv(t))}saveEventToCache(t){this.cachedEventUids.add(Fv(t)),this.lastProcessedEventTime=Date.now()}}function Fv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function h0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function nI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h0(r);default:return!1}}async function iI(r,t={}){return el(r,"GET","/v1/projects",t)}const sI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rI=/^https?/;async function aI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await iI(r);for(const i of t)try{if(lI(i))return}catch{}Xi(r,"unauthorized-domain")}function lI(r){const t=$d(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!rI.test(i))return!1;if(sI.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const oI=new Mo(3e4,6e4);function Qv(){const r=bi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function uI(r){return new Promise((t,i)=>{function a(){Qv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Qv(),i(Ai(r,"network-request-failed"))},timeout:oI.get()})}if(bi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(bi().gapi?.load)a();else{const o=gC("iframefcb");return bi()[o]=()=>{gapi.load?a():i(Ai(r,"network-request-failed"))},dC(`${mC()}?onload=${o}`).catch(h=>i(h))}}).catch(t=>{throw wc=null,t})}let wc=null;function cI(r){return wc=wc||uI(r),wc}const hI=new Mo(5e3,15e3),fI="__/auth/iframe",dI="emulator/auth/iframe",mI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pI(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Um(t,dI):`https://${r.config.authDomain}/${fI}`,a={apiKey:t.apiKey,appName:r.name,v:Xa},o=gI.get(r.config.apiHost);o&&(a.eid=o);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${Co(a).slice(1)}`}async function yI(r){const t=await cI(r),i=bi().gapi;return gt(i,r,"internal-error"),t.open({where:document.body,url:pI(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mI,dontclear:!0},a=>new Promise(async(o,h)=>{await a.restyle({setHideOnLeave:!1});const d=Ai(r,"network-request-failed"),p=bi().setTimeout(()=>{h(d)},hI.get());function y(){bi().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{h(d)})}))}const _I={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vI=500,EI=600,TI="_blank",SI="http://localhost";class Yv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AI(r,t,i,a=vI,o=EI){const h=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={..._I,width:a.toString(),height:o.toString(),top:h,left:d},v=$e().toLowerCase();i&&(p=FT(v)?TI:i),HT(v)&&(t=t||SI,y.scrollbars="yes");const S=Object.entries(y).reduce((V,[G,W])=>`${V}${G}=${W},`,"");if(rC(v)&&p!=="_self")return bI(t||"",p),new Yv(null);const b=window.open(t||"",p,S);gt(b,r,"popup-blocked");try{b.focus()}catch{}return new Yv(b)}function bI(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const wI="__/auth/handler",RI="emulator/auth/handler",CI=encodeURIComponent("fac");async function Kv(r,t,i,a,o,h){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Xa,eventId:o};if(t instanceof t0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",CA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof Vo){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const y=await r._getAppCheckToken(),v=y?`#${CI}=${encodeURIComponent(y)}`:"";return`${II(r)}?${Co(p).slice(1)}${v}`}function II({config:r}){return r.emulator?Um(r,RI):`https://${r.authDomain}/${wI}`}const Ad="webStorageSupport";class NI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r0,this._completeRedirectFn=WC,this._overrideRedirectResult=$C}async _openPopup(t,i,a,o){$i(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await Kv(t,i,a,$d(),o);return AI(t,h,qm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const h=await Kv(t,i,a,$d(),o);return MC(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:h}=this.eventManagers[i];return o?Promise.resolve(o):($i(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await yI(t),a=new eI(t);return i.register("authEvent",o=>(gt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ad,{type:Ad},o=>{const h=o?.[0]?.[Ad];h!==void 0&&i(!!h),Xi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=aI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return $T()||GT()||zm()}}const DI=NI;var Xv="@firebase/auth",$v="1.11.1";class OI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function MI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VI(r){Or(new Bs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZT(r)},v=new hC(a,o,h,y);return yC(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Or(new Bs("auth-internal",t=>{const i=jm(t.getProvider("auth").getImmediate());return(a=>new OI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(Xv,$v,MI(r)),vi(Xv,$v,"esm2020")}const xI=300,kI=oE("authIdTokenMaxAge")||xI;let Zv=null;const UI=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>kI)return;const o=i?.token;Zv!==o&&(Zv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function LI(r=lm()){const t=Hc(r,"auth");if(t.isInitialized())return t.getImmediate();const i=pC(r,{popupRedirectResolver:DI,persistence:[BC,NC,r0]}),a=oE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=UI(h.toString());RC(i,d,()=>d(i.currentUser)),wC(i,p=>d(p))}}const o=rE("auth");return o&&_C(i,`http://${o}`),i}function PI(){return document.getElementsByTagName("head")?.[0]??document}fC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const h=Ai("internal-error");h.customData=o,i(h)},a.type="text/javascript",a.charset="UTF-8",PI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VI("Browser");const f0="functions";class zI{constructor(t,i,a,o){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Qn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=i.getImmediate({optional:!0}),this.messaging=a.getImmediate({optional:!0}),this.auth||i.get().then(h=>this.auth=h,()=>{}),this.messaging||a.get().then(h=>this.messaging=h,()=>{}),this.appCheck||o?.get().then(h=>this.appCheck=h,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const i=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return i.error?null:i.token}return null}async getContext(t){const i=await this.getAuthToken(),a=await this.getMessagingToken(),o=await this.getAppCheckToken(t);return{authToken:i,messagingToken:a,appCheckToken:o}}}const Wd="us-central1";class jI{constructor(t,i,a,o,h=Wd,d=(...p)=>fetch(...p)){this.app=t,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new zI(t,i,a,o),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(h);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=Wd}catch{this.customDomain=null,this.region=h}}_delete(){return this.deleteService()}_url(t){const i=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${i}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${i}.cloudfunctions.net/${t}`}}function BI(r,t,i){const a=xr(t);r.emulatorOrigin=`http${a?"s":""}://${t}:${i}`,a&&(im(r.emulatorOrigin+"/backends"),sm("Functions",!0))}const Jv="@firebase/functions",Wv="0.13.1";const qI="auth-internal",HI="app-check-internal",GI="messaging-internal";function FI(r){const t=(i,{instanceIdentifier:a})=>{const o=i.getProvider("app").getImmediate(),h=i.getProvider(qI),d=i.getProvider(GI),p=i.getProvider(HI);return new jI(o,h,d,p,a)};Or(new Bs(f0,t,"PUBLIC").setMultipleInstances(!0)),vi(Jv,Wv,r),vi(Jv,Wv,"esm2020")}function QI(r=lm(),t=Wd){const a=Hc(Vn(r),f0).getImmediate({identifier:t}),o=aE("functions");return o&&YI(a,...o),a}function YI(r,t,i){BI(Vn(r),t,i)}FI();const KI={apiKey:"AIzaSyDotsYz6L5sCwR1iIrxtmOfZ90qI-xsxF4",authDomain:"golfbilkontroll-skigk.firebaseapp.com",projectId:"golfbilkontroll-skigk",storageBucket:"golfbilkontroll-skigk.firebasestorage.app",messagingSenderId:"793476088060",appId:"1:793476088060:web:d3f021f3ab98d2d8529779",measurementId:"G-ZQE9F3B8EE"},Gm=hE(KI),tm=AR(Gm);LI(Gm);QI(Gm,"europe-west3");const XI="carts",tE="rentals",d0=async()=>{const r=Kd(tm,XI);return(await xT(r)).docs.map(a=>({id:Number(a.id),...a.data()})).sort((a,o)=>a.id-o.id)},$I=async(r,t,i)=>{try{const a=`https://checkavailability-je2eyil5eq-ey.a.run.app?date=${encodeURIComponent(r)}&time=${encodeURIComponent(t)}&holes=${i}`,o=await fetch(a,{method:"GET"});if(!o.ok){const d=await o.text();throw new Error(`checkAvailability failed: ${o.status} ${d}`)}const h=await o.json();return{available:h.availableCartIds.length,availableCartIds:h.availableCartIds}}catch(a){throw console.error("Error checking availability:",a),a}},ZI=async r=>{try{const i=await fetch("https://createrental-je2eyil5eq-ey.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!i.ok){const o=await i.text();throw new Error(`createRental failed: ${i.status} ${o}`)}return(await i.json()).rentalId}catch(t){throw console.error("Error creating rental:",t),t}},JI=async r=>{let t=Dv(Kd(tm,tE),Mv("startTime","asc"));if(r?.date){const a=new Date(r.date);a.setHours(0,0,0,0);const o=new Date(r.date);o.setHours(23,59,59,999),t=Dv(Kd(tm,tE),Ov("startTime",">=",a.toISOString()),Ov("startTime","<=",o.toISOString()),Mv("startTime","asc"))}return(await xT(t)).docs.map(a=>({id:a.id,...a.data()}))};function WI({data:r,updateData:t,onNext:i,onBack:a}){const[o,h]=we.useState([]),[d,p]=we.useState(!0),[y,v]=we.useState({}),[S,b]=we.useState(!1);we.useEffect(()=>{(async()=>{p(!0);try{const J=await d0();h(J);const ht=await $I(r.date,r.time,r.holes),it={};J.forEach(st=>{it[st.id]=ht.availableCartIds.includes(st.id)}),v(it)}catch(J){console.error("Error loading carts",J)}finally{p(!1)}})()},[r.date,r.time,r.holes]);const V=$=>{t({cartId:$.id,cartName:$.name}),i()},G=S?o.filter($=>y[$.id]):o,W=Object.values(y).filter(Boolean).length;return d?w.jsx("div",{className:"step-container",children:w.jsxs("div",{className:"loading-state",children:[w.jsx("div",{className:"spinner"}),w.jsx("p",{children:"Sjekker tilgjengelighet..."})]})}):w.jsxs("div",{className:"step-container",children:[w.jsx("h2",{className:"card-title",children:" Velg Golfbil"}),w.jsxs("p",{className:"step-description",children:[r.date," kl ",r.time,"  ",r.holes," hull  ",W," av ",o.length," ledige"]}),w.jsx("div",{className:"filter-section",children:w.jsxs("label",{className:"filter-toggle",children:[w.jsx("input",{type:"checkbox",checked:S,onChange:$=>b($.target.checked)}),w.jsx("span",{className:"filter-label",children:"Vis kun ledige biler"})]})}),w.jsx("div",{className:"cart-grid",children:G.map($=>{const J=y[$.id],ht=r.cartId===$.id;return w.jsxs("button",{type:"button",className:`cart-card ${J?"available":"unavailable"} ${ht?"selected":""}`,disabled:!J,onClick:()=>V($),children:[w.jsx("div",{className:"cart-icon",children:""}),w.jsxs("div",{className:"cart-info",children:[w.jsx("h3",{className:"cart-name",children:$.name}),w.jsxs("div",{className:`cart-status ${J?"available":($.status==="out_of_order","occupied")}`,children:[w.jsx("span",{className:"status-dot"}),w.jsx("span",{className:"status-text",children:J?"Ledig":$.status==="out_of_order"?"Ute av drift":"Opptatt"})]})]}),J&&w.jsx("div",{className:"cart-action",children:ht?"":""}),!J&&w.jsx("div",{className:"cart-overlay",children:w.jsx("span",{className:"overlay-text",children:"Ikke tilgjengelig"})})]},$.id)})}),G.length===0&&w.jsxs("div",{className:"empty-cart-state",children:[w.jsx("div",{className:"empty-icon",children:""}),w.jsx("p",{children:"Ingen biler matcher dine kriterier"}),w.jsx("button",{type:"button",className:"btn btn-text",onClick:()=>b(!1),children:"Vis alle biler"})]}),w.jsx("div",{className:"step-actions",children:w.jsx("button",{type:"button",className:"btn btn-secondary",onClick:a,children:" Tilbake"})})]})}function t2({data:r,updateData:t,onNext:i,onBack:a}){const o=r.isMember?ja.member[r.holes]:ja.nonMember[r.holes],h=r.hasDoctorsNote?nm:0,d=ho(r.isMember,r.hasDoctorsNote,r.holes),p=r.name&&r.contactInfo&&(r.isMember?r.membershipNumber:!0);return w.jsxs("div",{className:"step-container",children:[w.jsx("h2",{className:"card-title",children:" Dine Detaljer"}),w.jsx("p",{className:"step-description",children:"Fyll inn informasjonen din og bekreft prisen"}),w.jsxs("div",{className:"card",children:[w.jsxs("div",{className:"input-group",children:[w.jsx("label",{className:"input-label",children:"Antall Hull"}),w.jsxs("div",{className:"button-group",children:[w.jsx("button",{className:`chip ${r.holes===18?"selected":""}`,onClick:()=>t({holes:18}),children:"18 Hull"}),w.jsx("button",{className:`chip ${r.holes===9?"selected":""}`,onClick:()=>t({holes:9}),children:"9 Hull"})]})]}),w.jsxs("div",{className:"input-group",children:[w.jsx("label",{className:"input-label",children:"Fullt Navn"}),w.jsx("input",{type:"text",className:"input-field",value:r.name,onChange:y=>t({name:y.target.value}),placeholder:"Ola Nordmann"})]}),w.jsxs("div",{className:"input-group",children:[w.jsx("label",{className:"input-label",children:"Er du medlem i Ski GK?"}),w.jsxs("div",{className:"button-group",children:[w.jsx("button",{className:`chip ${r.isMember?"selected":""}`,onClick:()=>t({isMember:!0}),children:"Ja, medlem"}),w.jsx("button",{className:`chip ${r.isMember?"":"selected"}`,onClick:()=>t({isMember:!1}),children:"Nei, gjest"})]})]}),r.isMember&&w.jsxs("div",{className:"input-group",children:[w.jsx("label",{className:"input-label",children:"Medlemsnummer (GolfBox)"}),w.jsx("input",{type:"text",className:"input-field",value:r.membershipNumber,onChange:y=>t({membershipNumber:y.target.value}),placeholder:"73-12345"})]}),w.jsxs("div",{className:"input-group",children:[w.jsxs("label",{className:"input-label",children:["Kontaktinfo (",r.notificationMethod,")"]}),w.jsxs("div",{className:"button-group-margin",children:[w.jsx("button",{className:`chip ${r.notificationMethod==="email"?"selected":""}`,onClick:()=>t({notificationMethod:"email"}),children:"E-post"}),w.jsx("button",{className:`chip ${r.notificationMethod==="sms"?"selected":""}`,onClick:()=>t({notificationMethod:"sms"}),children:"SMS"})]}),w.jsx("input",{type:r.notificationMethod==="email"?"email":"tel",className:"input-field",value:r.contactInfo,onChange:y=>t({contactInfo:y.target.value}),placeholder:r.notificationMethod==="email"?"ola@eksempel.no":"900 00 000"})]}),w.jsx("div",{className:"input-group",children:w.jsxs("label",{className:"checkbox-label",children:[w.jsx("input",{type:"checkbox",checked:r.hasDoctorsNote,onChange:y=>t({hasDoctorsNote:y.target.checked}),className:"checkbox-input"}),w.jsx("span",{children:"Jeg har legeerklring (50 kr rabatt)"})]})})]}),w.jsxs("div",{className:"price-breakdown-card",children:[w.jsx("h3",{className:"price-breakdown-title",children:" Prisberegning"}),w.jsxs("div",{className:"price-row",children:[w.jsxs("span",{children:["Basispris (",r.holes," hull)"]}),w.jsxs("span",{className:"price-value",children:[o," kr"]})]}),r.hasDoctorsNote&&w.jsxs("div",{className:"price-row discount",children:[w.jsx("span",{children:"Rabatt (legeerklring)"}),w.jsxs("span",{className:"price-value",children:["-",h," kr"]})]}),w.jsx("div",{className:"price-divider"}),w.jsxs("div",{className:"price-row total",children:[w.jsx("span",{className:"total-label",children:"Totalt  betale"}),w.jsxs("span",{className:"total-value",children:[d," kr"]})]}),w.jsx("div",{className:"price-note",children:r.isMember?" Medlemspris":"Gjestepris"})]}),w.jsxs("div",{className:"step-actions",children:[w.jsx("button",{type:"button",className:"btn btn-secondary",onClick:a,children:" Tilbake"}),w.jsx("button",{type:"button",className:"btn btn-primary btn-large",onClick:i,disabled:!p,children:"Til Oppsummering "})]})]})}function e2({data:r,onBack:t,onEdit:i}){const[a,o]=we.useState(!1),[h,d]=we.useState(!1),[p,y]=we.useState(!1),v=r.isMember?ja.member[r.holes]:ja.nonMember[r.holes],S=r.hasDoctorsNote?nm:0,b=ho(r.isMember,r.hasDoctorsNote,r.holes),V=async()=>{o(!0);try{const G=new Date(`${r.date}T${r.time}`);await ZI({cartId:r.cartId,renterName:r.name,isMember:r.isMember,membershipNumber:r.membershipNumber||void 0,hasDoctorsNote:r.hasDoctorsNote,holes:r.holes,paymentMethod:null,notes:`Mobilbooking: ${r.cartName}`,price:b,startTime:G.toISOString(),endTime:null,notificationMethod:r.notificationMethod,contactInfo:r.contactInfo,reminderSent:!1}),d(!0)}catch(G){console.error("Booking error:",G),alert("Noe gikk galt. Prv igjen."),o(!1)}};return h?w.jsxs("div",{className:"step-container success-state",children:[w.jsx("div",{className:"success-icon",children:""}),w.jsx("h2",{className:"success-title",children:"Bestillingen er bekreftet!"}),w.jsxs("div",{className:"success-details",children:[w.jsxs("div",{className:"success-item",children:[w.jsx("span",{className:"success-label",children:"Golfbil:"}),w.jsx("span",{className:"success-value",children:r.cartName})]}),w.jsxs("div",{className:"success-item",children:[w.jsx("span",{className:"success-label",children:"Tidspunkt:"}),w.jsxs("span",{className:"success-value",children:[r.date," kl ",r.time]})]}),w.jsxs("div",{className:"success-item",children:[w.jsx("span",{className:"success-label",children:"Varighet:"}),w.jsxs("span",{className:"success-value",children:[r.holes," hull"]})]})]}),w.jsxs("div",{className:"success-confirmation",children:[w.jsx("div",{className:"confirmation-icon",children:""}),w.jsxs("p",{children:["Bekreftelse er sendt til ",w.jsx("strong",{children:r.contactInfo})]})]}),w.jsx("button",{type:"button",className:"btn btn-primary btn-large",onClick:()=>window.location.reload(),children:"Bestill ny time"})]}):w.jsxs("div",{className:"step-container",children:[w.jsx("h2",{className:"card-title",children:" Bekreft Bestilling"}),w.jsx("p",{className:"step-description",children:"Sjekk at alt stemmer fr du bekrefter"}),w.jsxs("div",{className:"review-card",children:[w.jsxs("div",{className:"review-section",children:[w.jsxs("div",{className:"review-header",children:[w.jsx("h3",{className:"review-title",children:" Tidspunkt & Bil"}),i&&w.jsx("button",{type:"button",className:"edit-btn",onClick:()=>i(1),children:"Endre"})]}),w.jsxs("div",{className:"review-content",children:[w.jsxs("div",{className:"review-row",children:[w.jsx("span",{className:"review-label",children:"Dato & tid:"}),w.jsxs("span",{className:"review-value",children:[r.date," kl ",r.time]})]}),w.jsxs("div",{className:"review-row",children:[w.jsx("span",{className:"review-label",children:"Golfbil:"}),w.jsx("span",{className:"review-value highlight",children:r.cartName})]}),w.jsxs("div",{className:"review-row",children:[w.jsx("span",{className:"review-label",children:"Antall hull:"}),w.jsxs("span",{className:"review-value",children:[r.holes," hull"]})]})]})]}),w.jsx("div",{className:"review-divider"}),w.jsxs("div",{className:"review-section",children:[w.jsxs("div",{className:"review-header",children:[w.jsx("h3",{className:"review-title",children:" Dine Opplysninger"}),i&&w.jsx("button",{type:"button",className:"edit-btn",onClick:()=>i(3),children:"Endre"})]}),w.jsxs("div",{className:"review-content",children:[w.jsxs("div",{className:"review-row",children:[w.jsx("span",{className:"review-label",children:"Navn:"}),w.jsx("span",{className:"review-value",children:r.name})]}),w.jsxs("div",{className:"review-row",children:[w.jsx("span",{className:"review-label",children:"Kontakt:"}),w.jsx("span",{className:"review-value",children:r.contactInfo})]}),w.jsxs("div",{className:"review-row",children:[w.jsx("span",{className:"review-label",children:"Status:"}),w.jsx("span",{className:"review-value",children:r.isMember?`Medlem (${r.membershipNumber})`:"Gjest"})]}),r.hasDoctorsNote&&w.jsxs("div",{className:"review-row",children:[w.jsx("span",{className:"review-label",children:"Rabatt:"}),w.jsx("span",{className:"review-value discount",children:"Legeerklring (-50 kr)"})]})]})]})]}),w.jsxs("div",{className:"price-summary-card",children:[w.jsx("h3",{className:"price-summary-title",children:" Prissammendrag"}),w.jsxs("div",{className:"price-breakdown-row",children:[w.jsxs("span",{children:["Basispris (",r.holes," hull)"]}),w.jsxs("span",{children:[v," kr"]})]}),r.hasDoctorsNote&&w.jsxs("div",{className:"price-breakdown-row discount",children:[w.jsx("span",{children:"Rabatt (legeerklring)"}),w.jsxs("span",{children:["-",S," kr"]})]}),w.jsx("div",{className:"price-summary-divider"}),w.jsxs("div",{className:"price-breakdown-row total",children:[w.jsx("span",{className:"total-text",children:"Totalt  betale"}),w.jsxs("span",{className:"total-amount",children:[b," kr"]})]}),w.jsx("p",{className:"payment-note",children:" Betales i Proshop ved oppmte"})]}),w.jsx("div",{className:"terms-section",children:w.jsxs("label",{className:"checkbox-label",children:[w.jsx("input",{type:"checkbox",checked:p,onChange:G=>y(G.target.checked),className:"checkbox-input"}),w.jsx("span",{children:"Jeg aksepterer vilkrene for utleie"})]})}),w.jsxs("div",{className:"step-actions",children:[w.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:a,children:" Tilbake"}),w.jsx("button",{type:"button",className:"btn btn-primary btn-large",onClick:V,disabled:a||!p,children:a?"Bekrefter...":" Bekreft Bestilling"})]})]})}const n2={date:new Date().toISOString().split("T")[0],time:"",holes:18,cartId:null,cartName:"",name:"",isMember:!1,membershipNumber:"",hasDoctorsNote:!1,notificationMethod:"email",contactInfo:""};function i2({currentStep:r,setCurrentStep:t,bookingData:i,setBookingData:a}){const o=v=>{a(S=>({...S,...v}))},h=()=>t(v=>Math.min(v+1,4)),d=()=>t(v=>Math.max(v-1,1)),p=v=>t(v),y=()=>{switch(r){case 1:return w.jsx(nA,{data:i,updateData:o,onNext:h});case 2:return w.jsx(WI,{data:i,updateData:o,onNext:h,onBack:d});case 3:return w.jsx(t2,{data:i,updateData:o,onNext:h,onBack:d});case 4:return w.jsx(e2,{data:i,onBack:d,onEdit:p});default:return null}};return w.jsxs("div",{className:"stepper-container",children:[w.jsx(tA,{currentStep:r,totalSteps:4,onStepClick:p}),w.jsx("div",{className:"step-content",children:y()})]})}function s2(){const r=[];for(let t=10;t<=20;t++)for(let i=0;i<60&&!(t===20&&i>0);i+=10){const a=t.toString().padStart(2,"0"),o=i.toString().padStart(2,"0");r.push({hour:t,minute:i,label:`${a}:${o}`})}return r}function r2({selectedDate:r,onSlotSelect:t}){const[i,a]=we.useState([]),[o,h]=we.useState(new Map),[d,p]=we.useState(!0),y=s2(),v=r||new Date().toISOString().split("T")[0];we.useEffect(()=>{async function V(){try{const G=await d0();a(G.sort((W,$)=>W.id-$.id))}catch(G){console.error("Error loading carts:",G)}}V()},[]),we.useEffect(()=>{i.length>0&&S()},[v,i]);async function S(){p(!0);try{const V=await JI({date:v}),G=new Map;i.forEach(W=>{y.forEach($=>{const J=`${W.id}-${$.label}`,ht=new Date(`${v}T${$.label}:00`),it=V.find(st=>{if(st.cartId!==W.id)return!1;const St=new Date(st.startTime),Ut=T_[st.holes]+eA[st.holes],At=new Date(St.getTime()+Ut*60*1e3),N=new Date(ht.getTime()+600*1e3);return ht<At&&N>St});if(it){const st=new Date(it.startTime),St=new Date(st.getTime()+T_[it.holes]*60*1e3),Ut=ht<St?"booked":"charging";G.set(J,{cartId:W.id,timeSlot:$,status:Ut,rentalId:it.id})}else G.set(J,{cartId:W.id,timeSlot:$,status:"available"})})}),h(G)}catch(V){console.error("Error loading availability data:",V)}finally{p(!1)}}function b(V,G){const W=`${V.id}-${G.label}`,$=o.get(W);!$||$.status==="available"?t&&(console.log("Slot selected:",V.name,G.label),t(V,G.label)):($.status==="booked"||$.status==="charging")&&console.log("Show rental details for:",$.rentalId)}return d?w.jsxs("div",{className:"ski-text-center ski-mt-lg",children:[w.jsx("div",{className:"ski-spinner"}),w.jsx("p",{children:"Laster tilgjengelighet..."})]}):w.jsxs("div",{className:"ski-availability-grid",children:[w.jsx("div",{className:"ski-grid-header"}),i.map(V=>w.jsx("div",{className:"ski-grid-header",children:V.name},V.id)),y.map(V=>w.jsxs("div",{style:{display:"contents"},children:[w.jsx("div",{className:"ski-grid-time",children:V.label}),i.map(G=>{const W=`${G.id}-${V.label}`,$=o.get(W);return w.jsx("div",{className:`ski-grid-cell ${$?.status||"available"}`,onClick:()=>b(G,V),title:$?.status==="available"?"Ledig":$?.status==="booked"?"Opptatt":"Lader"},W)})]},V.label))]})}function a2(){const[r,t]=we.useState(!1),[i,a]=we.useState(1),[o,h]=we.useState(n2),d=y=>{h(v=>({...v,date:y,time:""}))},p=(y,v)=>{h(S=>({...S,time:v,cartId:y.id,cartName:y.name,holes:18})),a(1)};return w.jsxs(w.Fragment,{children:[w.jsxs("header",{className:"app-header",children:[w.jsx("div",{className:"app-logo",children:w.jsx("span",{children:"SKI GOLFKLUBB"})}),w.jsxs("div",{className:"header-actions",children:[!1,w.jsx("div",{className:"menu-icon",children:""})]})]}),w.jsxs("div",{className:"app-container",children:[w.jsxs("div",{className:"left-panel",children:[w.jsxs("div",{className:"card",children:[w.jsx("h2",{className:"card-title",children:"Kalender"}),w.jsx(eE,{selectedDate:o.date,onDateChange:d})]}),w.jsxs("div",{className:"card",children:[w.jsx("h2",{className:"card-title",children:"Tilgjengelighet"}),w.jsxs("p",{className:"availability-header",children:["Oversikt for ",o.date]}),w.jsx(r2,{selectedDate:o.date,onSlotSelect:p})]})]}),w.jsx("div",{className:"right-panel",children:o.time?w.jsx(i2,{currentStep:i,setCurrentStep:a,bookingData:o,setBookingData:h}):w.jsxs("div",{className:"card empty-state",children:[w.jsx("div",{className:"empty-state-icon",children:""}),w.jsx("h3",{children:"Velg en ledig tid i kalenderen"}),w.jsx("p",{className:"empty-state-text",children:"Klikk p en grnn rute til venstre for  starte bookingen."})]})})]})]})}WS.createRoot(document.getElementById("root")).render(w.jsx(we.StrictMode,{children:w.jsx(a2,{})}));
